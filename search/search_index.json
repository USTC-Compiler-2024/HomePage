{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406","text":"<p>\u8bf4\u660e</p> <p>\u672c\u8bfe\u7a0b\u4e3b\u9875\u4e3a 2024 \u6625\u5b63\u5b66\u671f\u5362\u5efa\u826f\u8001\u5e08\u73ed\u300a\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u300b\u8bfe\u7a0b\u4e3b\u9875\uff0c\u5305\u542b\u4e86\u7406\u8bba\u8bfe\u4e0e\u5b9e\u9a8c\u8bfe\u7684\u76f8\u5173\u4fe1\u606f\u3002</p>"},{"location":"#_2","title":"\u8bfe\u7a0b\u7b80\u4ecb","text":"<p>\u4e2d\u56fd\u79d1\u5b66\u6280\u672f\u5927\u5b66\u300a\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u300b\u8bfe\u7a0b\u662f\u9762\u5411\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f\u5b66\u9662\u672c\u79d1\u751f\u7684\u4e00\u95e8\u4e13\u4e1a\u6838\u5fc3\u57fa\u7840\u8bfe\u3002 \u672c\u8bfe\u7a0b\u4ecb\u7ecd\u4e86\u8fd0\u7b97\u5668\u3001\u63a7\u5236\u5668\u3001\u5b58\u50a8\u5668\u7684\u7ed3\u6784\u3001\u5de5\u4f5c\u539f\u7406\u3001\u8bbe\u8ba1\u65b9\u6cd5\u53ca\u4e92\u8fde\u6784\u6210\u6574\u673a\u7684\u6709\u5173\u6280\u672f\uff0c \u6709\u52a9\u4e8e\u5b66\u751f\u6df1\u523b\u7406\u89e3\u73b0\u4ee3\u6570\u5b57\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u5de5\u4f5c\u539f\u7406\u53ca\u8f6f\u786c\u4ef6\u8bbe\u8ba1\u4e2d\u7684\u6298\u4e2d\u601d\u60f3\uff0c \u5f15\u5bfc\u5b66\u751f\u4f53\u9a8c\u5b8c\u6574\u7684\u8bbe\u8ba1\u8fc7\u7a0b\uff0c\u89e3\u51b3\u5de5\u7a0b\u8bbe\u8ba1\u9762\u4e34\u7684\u5b9e\u9645\u95ee\u9898\u3002</p> <p>\u7cfb\u5217\u8bfe\u7a0b</p> <p>\u6211\u6821\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf\u7ed3\u6784\u7cfb\u5217\u5b9e\u9a8c\u5305\u62ec\u4e0b\u9762\u7684\u51e0\u95e8\u8bfe\u7a0b\uff1a</p> <ul> <li>\u6570\u5b57\u7535\u8def\u5b9e\u9a8c\uff1a\u6ce8\u91cd\u5bf9\u6570\u5b57\u90e8\u4ef6\u7684\u5206\u6790\u4e0e\u8bbe\u8ba1\uff1b</li> <li>\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u5b9e\u9a8c\uff1a\u6ce8\u91cd\u5fae\u5904\u7406\u5668\u539f\u7406\u4e0e\u8bbe\u8ba1\uff1b</li> <li>\u8ba1\u7b97\u7cfb\u7edf\u7efc\u5408\u5b9e\u9a8c\uff1a\u6ce8\u91cd\u7247\u4e0a\u7cfb\u7edf\u8bbe\u8ba1\u4e0e\u5e94\u7528\uff1b</li> <li>\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u5b9e\u9a8c\uff1a\u6ce8\u91cd\u7cfb\u7edf\u5c42\u9762\u7684\u4f18\u5316\u52a0\u901f\u3002</li> </ul> <p>\u5176\u4e2d\uff0c\u6211\u4eec\u7684\u300a\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u300b\u5728\u8bfe\u7a0b\u4f53\u7cfb\u4e2d\u8d77\u5230\u627f\u4e0a\u542f\u4e0b\u7684\u4f5c\u7528\u3002</p>"},{"location":"#_3","title":"\u8bfe\u7a0b\u4fe1\u606f","text":""},{"location":"#_4","title":"\u4e0a\u8bfe\u65f6\u95f4\u4e0e\u5730\u70b9","text":"<p>\u7406\u8bba\u8bfe\uff08\u5362\u8001\u5e08\u73ed\uff09</p> <ul> <li>\u6559\u5b66\u5468\uff1a1~15 \u5468</li> <li>\u6559\u5ba4\uff1a3C102</li> <li>\u8282\u6b21\uff1a1(6,7)\u30013(6,7)</li> </ul> <p>\u5b9e\u9a8c\u8bfe</p> <ul> <li>\u65f6\u95f4\uff1a2024-03-18 \u5f00\u59cb\uff0c\u6bcf\u5468\u4e00\u3001\u5468\u4e09\u665a\u4e0a 18:30~21:30</li> <li>\u6559\u5ba4\uff1a\u7535\u4e09\u697c 406\u3001408</li> </ul>"},{"location":"#_5","title":"\u8054\u7cfb\u65b9\u5f0f","text":"<p>\u6559\u5e08</p> <ul> <li>\u5362\u5efa\u826f lujl@ustc.edu.cn    \u7535\u4e09\u697c 411 \u5ba4</li> </ul> <p>\u52a9\u6559</p> <ul> <li>\u5434\u9a8f\u4e1c wintermelon@mail.ustc.edu.cn</li> <li>\u5510\u704f TH20030818@mail.ustc.edu.cn </li> <li>\u5218\u777f\u535a liuruibo21@mail.ustc.edu.cn</li> <li>\u5e38\u6587\u6b63 amberzheng@mail.ustc.edu.cn</li> <li>\u9a6c\u5b50\u777f madrid@mail.ustc.edu.cn        \uff08\u7ebf\u4e0a\uff09</li> <li>\u6c88\u5468\u6bc5 squirrel@mail.ustc.edu.cn      \uff08\u534f\u52a9\uff09</li> <li>\u90d1\u6ed5\u98de richardzheng@mail.ustc.edu.cn  \uff08\u534f\u52a9\uff09</li> </ul> <p>QQ \u7fa4</p> <p>\u8be6\u89c1\u8bfe\u5802\u901a\u77e5\u3002</p>"},{"location":"#_6","title":"\u8bfe\u7a0b\u65e5\u5386","text":"<p>\u70b9\u51fb\u8fd9\u91cc\u524d\u5f80\u3002</p>"},{"location":"#_7","title":"\u8bfe\u7a0b\u8bc4\u5206","text":"<p>\u672c\u8bfe\u7a0b\u7684\u8bc4\u5206\u5305\u542b\u4ee5\u4e0b\u51e0\u90e8\u5206\uff1a</p> <ul> <li>\u7406\u8bba\u8bfe\uff1a60%</li> <li>\u5b9e\u9a8c\u8bfe\uff1a40%</li> <li>\u8003\u52e4\uff1a10 \u5206\u3002\u901a\u8fc7\u8bfe\u5802\u7b7e\u5230\u83b7\u53d6\uff0c\u4ec5\u5f53\u4e0d\u53ca\u683c\u65f6\u4f7f\u7528\u3002</li> </ul> <p>\u63d0\u9192</p> <p>\u7531\u4e8e\u5b58\u5728\u4f18\u79c0\u7387\u9650\u5236\uff0c\u6211\u4eec\u6700\u7ec8\u4f1a\u8fdb\u884c\u7edf\u4e00\u7684\u4fdd\u5e8f\u8c03\u5206\uff0c\u56e0\u6b64\u5927\u5bb6\u7684\u603b\u8bc4\u6210\u7ee9\u53ef\u80fd\u4f1a\u4e0e\u6309\u7167\u4e0a\u8ff0\u516c\u5f0f\u8ba1\u7b97\u5f97\u5230\u7684\u603b\u6210\u7ee9\u5b58\u5728\u4e00\u5b9a\u5dee\u5f02\u3002</p>"},{"location":"#_8","title":"\u5982\u4f55\u4f7f\u7528\u672c\u6587\u6863\uff1f","text":""},{"location":"#_9","title":"\u5173\u4e8e\u63d0\u793a\u6846","text":"<p>\u4e3a\u4e86\u4fbf\u4e8e\u6807\u8bc6\uff0c\u6211\u4eec\u5728\u6587\u6863\u4e2d\u63d0\u4f9b\u4e86\u82e5\u5e72\u63d0\u793a\u6846\u3002\u5b83\u4eec\u6709\u7740\u4e0d\u540c\u7684\u5f62\u5f0f\u4e0e\u4f5c\u7528\u3002\u4f8b\u5982\uff1a</p> <p>\u4e00\u822c\u7684\u63d0\u793a\u6846\u957f\u8fd9\u6837</p> <p>\u91cc\u9762\u662f\u8fd9\u6837\u7684\u6587\u5b57\u3002</p> \u6709\u7684\u63d0\u793a\u6846\u9ed8\u8ba4\u662f\u6298\u53e0\u7684\uff0c\u9700\u8981\u70b9\u51fb\u624d\u80fd\u5c55\u5f00 <p>\u7136\u540e\u770b\u5230\u91cc\u9762\u7684\u5185\u5bb9\u3002</p> \u6709\u7684\u63d0\u793a\u6846\u5219\u662f\u9ed8\u8ba4\u5c55\u5f00\u7684 <p>\u5982\u679c\u89c9\u5f97\u788d\u4e8b\u53ef\u4ee5\u70b9\u51fb\u6298\u53e0\u3002</p> <p>\u5927\u5bb6\u53ef\u4ee5\u5728\u540e\u7eed\u7684\u6587\u6863\u4e2d\u63a5\u89e6\u5230\u5b83\u4eec\u3002</p>"},{"location":"#_10","title":"\u5173\u4e8e\u754c\u9762","text":"<p>\u4e0b\u56fe\u5c55\u793a\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u9875\u9762\u529f\u80fd\uff1a</p> <p></p>"},{"location":"#_11","title":"\u5173\u4e8e\u641c\u7d22","text":"<p>\u4f60\u53ef\u4ee5\u5728\u53f3\u4e0a\u89d2\u641c\u7d22\u6846\u4e2d\u8f93\u5165\u60f3\u8981\u67e5\u8be2\u7684\u5173\u952e\u8bcd\uff0c\u6587\u6863\u4f1a\u7ed9\u51fa\u5bf9\u5e94\u7684\u67e5\u8be2\u7ed3\u679c\u4e0e\u8df3\u8f6c\u94fe\u63a5\u3002</p> Tips <p>\u5982\u679c\u5728\u9605\u8bfb\u6587\u6863\u65f6\u53d1\u73b0\u6709\u81ea\u5df1\u4e0d\u6e05\u695a\u7684\u77e5\u8bc6\u70b9\uff0c\u53ef\u4ee5\u5148\u7528\u641c\u7d22\u6846\u67e5\u8be2\u5176\u662f\u5426\u5728\u5148\u524d\u7684\u6587\u6863\u4e2d\u51fa\u73b0\u8fc7\u3002</p> <p>\u52a0\u5165\u6211\u4eec</p> <p>\u5982\u679c\u4f60\u5bf9\u4e8e\u786c\u4ef6\u5b9e\u9a8c\u6559\u5b66\u3001\u5b9e\u9a8c\u5e73\u53f0\u7ef4\u62a4\u3001\u5728\u7ebf\u6587\u6863\u7f16\u5199\u3001\u786c\u4ef6\u8bbe\u8ba1\u7b49\u9886\u57df\u611f\u5174\u8da3\uff0c\u6216\u662f\u60f3\u53c2\u4e0e\u5b9e\u9645\u7684\u9879\u76ee\u5f00\u53d1\uff0c\u6b22\u8fce\u8bbf\u95ee\u8fd9\u91cc\u52a0\u5165\u6211\u4eec\uff01</p> \u8bc4\u8bba\u7cfb\u7edf <p>\u7531\u4e8e\u4e3b\u9875\u4e0a\u7684\u8bc4\u8bba\u7cfb\u7edf\u6620\u5c04\u53ef\u80fd\u51fa\u73b0\u95ee\u9898\uff0c\u4ee5\u9632\u4e07\u4e00\uff0c\u6211\u4eec\u5728\u8fd9\u91cc\u8fdb\u884c\u4e00\u4e9b\u8865\u5145\u3002</p> <p>\u9664\u4e86\u4e0a\u9762\u4ecb\u7ecd\u7684\u5185\u5bb9\uff0c\u672c\u5b66\u671f\u7684\u5b9e\u9a8c\u6587\u6863\u6211\u4eec\u8fd8\u989d\u5916\u6dfb\u52a0\u4e86\u8bc4\u8bba\u7cfb\u7edf\u3002\u5927\u5bb6\u53ef\u4ee5\u5728\u5404\u4e2a\u754c\u9762\u4e0b\u65b9\u627e\u5230\u7c7b\u4f3c\u7684\u8bc4\u8bba\u680f\uff0c\u767b\u5f55\u81ea\u5df1\u7684 GitHub \u8d26\u53f7\u5373\u53ef\u53d1\u8868\u76f8\u5e94\u7684\u8bc4\u8bba\u3002</p> <p>\u600e\u4e48\u4f7f\u7528\uff1f</p> <p>\u8bc4\u8bba\u7cfb\u7edf\u7684\u8f93\u5165\u91c7\u7528 Markdown \u683c\u5f0f\u3002\u5982\u679c\u4f60\u4e4b\u524d\u6ca1\u6709\u7528\u8fc7 Markdown\uff0c\u53ef\u4ee5\u7b80\u5355\u5730\u5c06\u5176\u5f53\u505a\u666e\u901a\u6587\u672c\uff08txt\uff09\u683c\u5f0f\uff0c\u76f4\u63a5\u8f93\u5165\u6587\u5b57\u5e76\u70b9\u51fb\u8bc4\u8bba\u5373\u53ef\u3002\u5982\u679c\u4f60\u5bf9 Markdown \u8bed\u6cd5\u6709\u6240\u4e86\u89e3\uff0c\u53ef\u4ee5\u4f7f\u7528 \u52a0\u7c97\u3001 \u659c\u4f53 \u3001\u53e5\u5185\u7684 <code>code block</code> \u7b49\u7279\u6b8a\u683c\u5f0f\uff0c\u4ee5\u53ca\u76f8\u5e94\u7684\u6807\u9898\u7ed3\u6784\u3002</p> <p>\u9664\u4e86\u7559\u4e0b\u81ea\u5df1\u7684\u7591\u95ee\uff0c\u5927\u5bb6\u4e5f\u53ef\u4ee5\u89e3\u7b54\u5176\u4ed6\u540c\u5b66\u7684\u7591\u95ee\u3002\u8fd9\u662f\u4e00\u4e2a\u76f8\u4e92\u4ea4\u6d41\u3001\u76f8\u4e92\u5408\u4f5c\u7684\u5e73\u53f0\u3002\u6211\u4eec\u9f13\u52b1\u5408\u7406\u8303\u56f4\u5185\u7684\u8ba8\u8bba\u4e0e\u601d\u8003~</p> <p>\u5176\u4ed6\u65b9\u5f0f</p> <p>\u8bc4\u8bba\u7cfb\u7edf\u5b9e\u9645\u4e0a\u662f\u6293\u53d6\u4e86\u8fd9\u4e2a\u4ed3\u5e93\u4e0b\u8ba8\u8bba\u533a\u7684\u5185\u5bb9\uff0c\u6240\u6709\u7684\u8bc4\u8bba\u4e5f\u4f1a\u53d1\u5e03\u5728\u8fd9\u91cc\u3002\u5927\u5bb6\u53ef\u4ee5\u8bbf\u95ee\u4e0a\u9762\u7684\u4ed3\u5e93\u8fdb\u884c\u9605\u8bfb\u3002</p> <p>\u5982\u679c\u4f60\u6ca1\u6709\u6216\u8005\u65e0\u6cd5\u767b\u5f55 GitHub \u8d26\u53f7\u4e5f\u6ca1\u5173\u7cfb\u3002\u9664\u4e86\u6587\u6863\u4e0b\u65b9\u7684\u8bc4\u8bba\u7cfb\u7edf\uff0c\u5728\u5b9e\u9a8c QQ \u7fa4\u3001\u5404\u5c0f\u7ec4 QQ \u7fa4\u4e2d\u5927\u5bb6\u4e5f\u53ef\u4ee5\u63d0\u51fa\u81ea\u5df1\u7684\u95ee\u9898\uff0c\u6211\u4eec\u5c06\u7edf\u4e00\u8fdb\u884c\u89e3\u7b54\u3002</p> <p>\u6b22\u8fce\u5927\u5bb6\u5728\u8bc4\u8bba\u7cfb\u7edf\u91cc\u7545\u6240\u6b32\u8a00\uff01</p>"},{"location":"lab1/","title":"\u5b9e\u9a8c 1\uff1a\u5b9e\u7528\u6c47\u7f16\u7a0b\u5e8f","text":"<p>\u4ea4\u6d41\u8ba8\u8bba</p> <p>\u8bf7\u5927\u5bb6\u52a0\u5165\u5b9e\u9a8c\u8bfe QQ \u7fa4\uff1a903670306\u3002\u5173\u4e8e\u5b9e\u9a8c\u8bfe\u7684\u76f8\u5173\u4fe1\u606f\u8bf7\u53c2\u8003\u8fd9\u91cc\u3002</p> <p>\u7ed9\u8f85\u4fee\u540c\u5b66\u7684\u5efa\u8bae</p> <p>\u5982\u679c\u4f60\u5148\u524d\u6ca1\u6709\u4fee\u8bfb\u8fc7\u300c\u6570\u5b57\u7535\u8def\u5b9e\u9a8c\u300d\u8bfe\u7a0b\uff0c\u6216\u4ece\u6765\u6ca1\u6709\u63a5\u89e6\u8fc7 Verilog \u786c\u4ef6\u63cf\u8ff0\u8bed\u8a00\uff0c\u8bf7\u6293\u7d27\u65f6\u95f4\u9605\u8bfb\u300c\u6570\u5b57\u7535\u8def\u5b9e\u9a8c\u8bfe\u300d\u7684 Lab1\uff1aVerilog \u4ee3\u7801\u8bbe\u8ba1\u3001Lab2\uff1a\u4eff\u771f\u3001Lab3\uff1a\u4e0a\u677f\u8fd0\u884c\u7684\u76f8\u5173\u5185\u5bb9\u3002</p>"},{"location":"lab1/#_1","title":"\u5b9e\u9a8c\u76ee\u7684","text":"<p>\u5728\u672c\u6b21\u5b9e\u9a8c\u4e2d\uff0c\u6211\u4eec\u5c06\u5e26\u5927\u5bb6\u719f\u6089 RISC \u6307\u4ee4\u96c6\uff08\u9f99\u82af LA32R \u6307\u4ee4\u96c6\u4ee5\u53ca RV32I \u6307\u4ee4\u96c6\uff09\u7684\u90e8\u5206\u6307\u4ee4\u53ca\u7f16\u7801\u683c\u5f0f\uff0c\u4ee5\u4fbf\u540e\u7eed\u5728\u786c\u4ef6\u5c42\u9762\u4e0a\u5b9e\u73b0\u8fd9\u4e9b\u6307\u4ee4\u3002</p> RISC \u6982\u8ff0 <p>\u7cbe\u7b80\u6307\u4ee4\u96c6\u8ba1\u7b97\u673a\uff08Reduced Instruction Set Computing\uff0c\u7b80\u79f0 RISC\uff09\u98ce\u683c\u7684\u6307\u4ee4\u7cfb\u7edf\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u79fb\u52a8\u7aef\u5904\u7406\u5668\u8bbe\u8ba1\u4e2d\u3002\u5b83\u7684\u6307\u4ee4\u957f\u5ea6\u56fa\u5b9a\u4e14\u7f16\u7801\u683c\u5f0f\u89c4\u6574\uff0c\u7edd\u5927\u591a\u6570\u6307\u4ee4\u53ea\u6709\u4e24\u4e2a\u6e90\u64cd\u4f5c\u6570\u548c\u4e00\u4e2a\u76ee\u7684\u64cd\u4f5c\u6570\uff0c\u5e76\u91c7\u7528 load/store \u67b6\u6784\uff0c\u5373\u4ec5\u6709 load/store \u8bbf\u5b58\u6307\u4ee4\u53ef\u4ee5\u8bbf\u95ee\u5185\u5b58\uff0c\u5176\u5b83\u6307\u4ee4\u7684\u64cd\u4f5c\u5bf9\u8c61\u5747\u662f\u5904\u7406\u5668\u6838\u5185\u90e8\u7684\u5bc4\u5b58\u5668\u6216\u6307\u4ee4\u7801\u4e2d\u7684\u7acb\u5373\u6570\u3002</p> \u672c\u5b66\u671f\u7ec4\u6210\u539f\u7406\u8bfe\u7a0b\u4e2d\u9700\u8981\u5b9e\u73b0\u7684\u6307\u4ee4 LA32R \u4e2d\u6307\u4ee4 RV32I \u4e2d\u6307\u4ee4 \u6307\u4ee4\u529f\u80fd \u8bf4\u660e add.w rd, rj, rk add rd, rs1, rs2 GR[rd] = GR[rj] + GR[rk]  x[rd] = x[rs1] + x[rs2] \u6574\u6570\u52a0\u6cd5 addi.w rd, rj, imm addi rd, rs1, imm GR[rd] = GR[rj] + sext(imm)  x[rd] = x[rs1] + sext(imm) \u6574\u6570\u52a0\u6cd5 sub.w rd, rj, rk sub rd, rs1, rs2 GR[rd] = GR[rj] - GR[rk]  x[rd] = x[rs1] - x[rs2] \u6574\u6570\u51cf\u6cd5 slt rd, rj, rk slt rd, rs1, rs2 GR[rd] = (GR[rj] &lt; GR[rk])  x[rd] = (x[rs1] &lt; x[rs2]) \u6709\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 sltu rd, rj, rk sltu rd, rs1, rs2 GR[rd] = (GR[rj] &lt;u GR[rk])  x[rd] = (x[rs1] &lt;u x[rs2]) \u65e0\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 and rd, rj, rk and rd, rs1, rs2 GR[rd] = GR[rj] &amp; GR[rk]  x[rd] = x[rs1] &amp; x[rs2] \u6309\u4f4d\u4e0e or rd, rj, rk or rd, rs1, rs2 GR[rd] = GR[rj] | GR[rk]  x[rd] = x[rs1] | \ud835\udc65[rs2] \u6309\u4f4d\u6216 xor rd, rj, rk xor rd, rs1, rs2 GR[rd] = GR[rj] ^ GR[rk]  x[rd] = x[rs1] ^ \ud835\udc65[rs2] \u6309\u4f4d\u5f02\u6216 sll.w rd, rj, rk sll rd, rs1, rs2 GR[rd] = GR[rj] &lt;&lt; GR[rk][4:0]  x[rd] = x[rs1] &lt;&lt; x[rs2][4:0] \u903b\u8f91\u5de6\u79fb srl.w rd, rj, rk srl rd, rs1, rs2 GR[rd]= GR[rj] &gt;&gt; GR[rk][4:0]   x[rd] = x[rs1] &gt;&gt; x[rs2][4:0] \u903b\u8f91\u53f3\u79fb sra.w rd, rj, rk sra rd, rs1, rs2 GR[rd] = GR[rj] &gt;&gt;&gt; GR[rk][4:0]   x[rd] = x[rs1] &gt;&gt;&gt; x[rs2][4:0] \u7b97\u672f\u53f3\u79fb slli.w rd, rj, imm slli rd, rs1, shamt GR[rd] = GR[rj] &lt;&lt; imm  x[rd] = x[rs1] &lt;&lt; shamt \u903b\u8f91\u5de6\u79fb srli.w rd, rj, imm srli rd, rs1, shamt GR[rd] = GR[rj] &gt;&gt; imm  x[rd] = x[rs1] &gt;&gt; shamt \u903b\u8f91\u53f3\u79fb srai.w rd, rj, imm srai rd, rs1, shamt GR[rd] = GR[rj] &gt;&gt;&gt; imm   x[rd] = x[rs1] &gt;&gt;&gt; shamt \u7b97\u672f\u53f3\u79fb slti rd, rj, imm slti rd, rs1, imm GR[rd] = (GR[rj] &lt; sext(imm))  x[rd] = (x[rs1] &lt; sext(imm)) \u6709\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 sltui rd, rj, imm sltiu rd, rs1, imm GR[rd] = (GR[rj] &lt;u sext(imm))  x[rd] = (x[rs1] &lt;u sext(imm)) \u65e0\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 andi rd, rj, imm andi rd, rs1, imm GR[rd] = GR[rj] &amp; zext(imm)   x[rd] = x[rs1] &amp; sext(imm) \u6309\u4f4d\u4e0e ori rd, rj, imm ori rd, rs1, imm GR[rd] = GR[rj] | zext(imm)    x[rd] = x[rs1] | sext(imm) \u6309\u4f4d\u6216 xori rd, rj, imm xori rd, rs1, imm GR[rd] = GR[rj] ^ zext(imm)    x[rd] = x[rs1] ^  sext(imm) \u6309\u4f4d\u5f02\u6216 lu12i.w rd, imm lui rd, imm GR[rd] = imm &lt;&lt; 12  x[rd] = sext(imm &lt;&lt; 12) \u52a0\u8f7d\u9ad820\u4f4d\u7acb\u5373\u6570 pcaddu12i rd, imm auipc rd, imm GR[rd] = pc + sext(imm &lt;&lt; 12)  x[rd] = pc + sext(imm[31:12] &lt;&lt; 12) \u52a0\u8f7d\u52a0\u4e0a PC \u7684\u9ad8 20 \u4f4d\u7acb\u5373\u6570 ld.w rd, rj, imm lw rd, offset(rs1) GR[rd] = Mem[GR[rj] + imm]  x[rd] = sext(M[x[rs1] + sext(offset)]) \u52a0\u8f7d\u5b57 st.w rd, rj, imm sw sr2, offset(sr1) Mem[GR[rj] + imm] = GR[rd]  M[x[rs1] + sext(offset)] = x[rs2] \u5b58\u50a8\u5b57 jirl rd, rj, label jalr rd, offset(rs1) GR[rd] = pc + 4; pc = label  x[rd] = pc+4; pc=(x[rs1]+sext(offset))&amp;~1; \u95f4\u63a5\u76f8\u5bf9\u8df3\u8f6c\u5e76\u94fe\u63a5 b label j offset(jal x0, offset)\uff08\u4f2a\u6307\u4ee4\uff09 pc = label  pc += sext(offset) \u65e0\u6761\u4ef6\u8df3\u8f6c bl label jal rd, offset GR[1] = pc + 4; pc = label  x[rd] = pc+4; pc += sext(offset) \u51fd\u6570\uff08\u5b50\u7a0b\u5e8f\uff09\u8c03\u7528\u5e76\u94fe\u63a5 beq rj, rd, label beq rs1, rs2, offset if (GR[rj] GR[rd]) pc = label  if (rs1 == rs2) pc += sext(offset) \u76f8\u7b49\u8df3\u8f6c bne rj, rd, label bne rs1, rs2, offset if (GR[rj] GR[rd]) pc = label  if (rs1 != rs2) pc += sext(offset) \u4e0d\u7b49\u8df3\u8f6c blt rj, rd, label blt rs1, rs2, offset if (GR[rj] &lt; GR[rd]) pc = label  if (rs1 &lt; rs2) pc += sext(offset) \u6709\u7b26\u53f7\u5c0f\u4e8e\u8df3\u8f6c bge rj, rd, label bge rs1, rs2, offset if (GR[rj] &gt;= GR[rd]) pc = label  if (rs1 &gt;= rs2) pc += sext(offset) \u6709\u7b26\u53f7\u5927\u4e8e\u7b49\u4e8e\u8df3\u8f6c bltu rj, rd, label bltu rs1, rs2, offset if (GR[rj] &lt;u GR[rd]) pc = label  if (rs1 &lt;u rs2) pc += sext(offset) \u65e0\u7b26\u53f7\u5c0f\u4e8e\u8df3\u8f6c bgeu rj, rd, label bgeu rs1, rs2, offset if (GR[rj] &gt;=u GR[rd]) pc = label  if (rs1 &gt;=u rs2) pc += sext(offset) \u65e0\u7b26\u53f7\u5927\u4e8e\u7b49\u4e8e\u8df3\u8f6c <p>\u4f60\u53ef\u4ee5\u53c2\u8003 RV32I \u6307\u4ee4\u96c6\u624b\u518c\u4ee5\u53ca LA32R \u6307\u4ee4\u96c6\u624b\u518c\u7684\u76f8\u5173\u5185\u5bb9\u8fdb\u884c\u5b66\u4e60\u3002</p>"},{"location":"lab1/#_2","title":"\u5b9e\u9a8c\u5185\u5bb9","text":"<p>\u5728\u6b63\u5f0f\u5f00\u59cb\u4e4b\u524d\uff0c\u8bf7\u9009\u62e9\u4e00\u6b3e\u6307\u4ee4\u96c6\uff0c\u5b9e\u73b0\u672c\u6b21\u5b9e\u9a8c\u7684\u76f8\u5173\u5185\u5bb9\u3002</p> <p>\u9009\u62e9\u4f60\u7684\u6307\u4ee4\u96c6\uff01</p> <p> \u8bf7\u9009\u62e9\u5728\u672c\u5b66\u671f\u7684\u540e\u7eed\u5b9e\u9a8c\u4e2d\uff0c\u4f7f\u7528 RV32I \u6307\u4ee4\u96c6\u8fd8\u662f LA32R \u6307\u4ee4\u96c6\u3002 </p> <p>RV32I \u6307\u4ee4\u96c6\u662f RISC-V \u6307\u4ee4\u96c6\u4e2d\u7684\u4e00\u4e2a\u5b50\u96c6\uff1bLA32R \u6307\u4ee4\u96c6\u662f\u9f99\u82af\u67b6\u6784\u6307\u4ee4\u96c6\u4e2d\u7684\u4e00\u4e2a\u5b50\u96c6\u3002\u8fd9\u4e24\u6b3e\u6307\u4ee4\u96c6\u5728\u5b9e\u9a8c\u96be\u5ea6\u4e0a\u6ca1\u6709\u5dee\u5f02\uff0c\u5728\u5f97\u5206\u4e0a\u4e5f\u6ca1\u6709\u5dee\u5f02\u3002\u4e8c\u8005\u4ec5\u5728\u6307\u4ee4\u7ed3\u6784\u548c\u90e8\u5206\u786c\u4ef6\u903b\u8f91\u4e0a\u6709\u5dee\u522b\uff0c\u56e0\u6b64\u5728\u540e\u9762\u7684\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u53ef\u4ee5\u968f\u65f6\u6839\u636e\u9700\u8981\u66f4\u6362\u81ea\u5df1\u7684\u6307\u4ee4\u96c6\u3002\u4e0d\u8fc7\uff0c\u6211\u4eec\u8fd8\u662f\u5efa\u8bae\u5927\u5bb6\u5728\u4e00\u5f00\u59cb\u5c31\u786e\u5b9a\u81ea\u5df1\u4f7f\u7528\u7684\u6307\u4ee4\u96c6\u3002</p> \u9009\u62e9 RV32I \u6307\u4ee4\u96c6\u7684\u597d\u5904 <p>\u6307\u4ee4\u96c6\u8f83\u4e3a\u6210\u719f\uff0c\u53c2\u8003\u6559\u7a0b\u4e30\u5bcc\u3002</p> \u9009\u62e9 LA32R \u6307\u4ee4\u96c6\u7684\u597d\u5904 <p>\u6709\u66f4\u4e3a\u9ad8\u7ea7\u7684\u4eff\u771f\u6846\u67b6\u53ef\u4ee5\u4f7f\u7528\uff0c\u52a9\u6559\u63d0\u4f9b\u652f\u6301\u3002</p> <p>\u6bcf\u4e00\u540d\u540c\u5b66\u90fd\u9700\u8981\u5b8c\u6210\u4e0b\u9762\u7684\u4efb\u52a1\u3002</p> <p>\u5728\u4e0b\u9762\u7684\u4efb\u52a1\u4e2d\uff0c\u4e3a\u4e86\u4fbf\u4e8e\u79f0\u547c\uff0c\u6211\u4eec\u8bb0 32 \u4e2a\u901a\u7528\u8ba1\u6570\u5668\u4e3a \\(\\text{R}_0\\sim\\text{R}_{31}\\)\u3002</p> <p>\u4efb\u52a1 1\uff1a\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff086 \u5206\uff09</p> <p>\u8bf7\u7f16\u5199\u6c47\u7f16\u7a0b\u5e8f\uff0c\u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u7b2c \\(N\\) \u9879\uff08\\(1\\le N\\le 30\\)\uff09\u3002\u521d\u59cb\u65f6\uff0c\\(N\\) \u7684\u503c\u4fdd\u5b58\u5728 \\(\\text{R}_2\\) \u4e2d\u3002\u7a0b\u5e8f\u6267\u884c\u5b8c\u6210\u540e\uff0c\u6570\u5217\u7684\u7b2c \\(N\\) \u9879\u4fdd\u5b58\u5728 \\(\\text{R}_3\\) \u4e2d\u3002</p> \u6590\u6ce2\u90a3\u5951\u6570\u5217 <p>\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff08Fibonacci \u6570\u5217\uff09\u662f\u6570\u5b66\u5bb6\u6590\u6ce2\u90a3\u5951\u4ee5\u7814\u7a76\u5154\u5b50\u7e41\u6b96\u4e3a\u4f8b\u7814\u7a76\u7684\u6570\u5217\uff0c\u6545\u79f0\u300c\u5154\u5b50\u6570\u5217\u300d\uff0c\u53c8\u79f0\u4e3a\u300c\u9ec4\u91d1\u5206\u5272\u6570\u5217\u300d\u3002\u6570\u5217\u7684\u7b2c \\(n\\) \u9879 \\(a_n\\) \u6ee1\u8db3\uff1a</p> \\[ a_1 = 1 \\] \\[ a_2 = 1 \\] \\[ a_{n} = a_{n-1} + a_{n-2}, n\\ge3 \\] <p>\u4efb\u52a1 2\uff1a\u5927\u6574\u6570\u5904\u7406\uff083 \u5206\uff09</p> <p>\u8bf7\u7f16\u5199\u6c47\u7f16\u7a0b\u5e8f\uff0c\u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u7b2c \\(N\\) \u9879\uff08\\(1\\le N\\le 80\\)\uff09\u3002\u521d\u59cb\u65f6\uff0c\\(N\\) \u7684\u503c\u4fdd\u5b58\u5728 \\(\\text{R}_2\\) \u4e2d\u3002\u7a0b\u5e8f\u6267\u884c\u5b8c\u6210\u540e\uff0c\u6570\u5217\u7684\u7b2c \\(N\\) \u9879\u4fdd\u5b58\u5728 \\(\\text{R}_3\\) \u548c \\(\\text{R}_4\\) \u4e2d\uff0c\u5176\u4e2d \\(\\text{R}_3\\) \u5b58\u50a8\u7ed3\u679c\u7684\u9ad8 32 \u4f4d\uff0c\\(\\text{R}_4\\) \u5b58\u50a8\u7ed3\u679c\u7684\u4f4e 32 \u4f4d\u3002</p> <p>\u4efb\u52a1 3\uff1a\u5bfc\u51fa COE \u6587\u4ef6\uff081 \u5206\uff09</p> <p>\u5b8c\u6210\u6c47\u7f16\u7a0b\u5e8f\u7684\u7f16\u5199\u4e4b\u540e\uff0c\u8bf7\u5bfc\u51fa\u6307\u4ee4\u6bb5\u7684 COE \u6587\u4ef6\uff0c\u4ee5\u4f9b\u540e\u7eed\u5b9e\u9a8c\u4f7f\u7528\u3002</p> COE \u6587\u4ef6 <p>COE \u6587\u4ef6\u662f Vivado \u5b58\u50a8\u5668 IP \u6838\u7684\u521d\u59cb\u5316\u6587\u4ef6\u3002\u8be5\u6587\u4ef6\u53ef\u4ee5\u5c06\u6570\u636e\u81ea\u52a8\u5bfc\u5165\u5b58\u50a8\u5668\u4e2d\uff0c\u4ee5\u4f9b\u5176\u4ed6\u6a21\u5757\u5355\u5143\u7684\u4f7f\u7528\u3002\u5b83\u7684\u4e00\u822c\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>memory_initialization_radix  = 16;\nmemory_initialization_vector =\n00008737\nf0070713\n000087b7\nf0478793\n</code></pre> <p>\u5176\u4e2d\uff0c<code>memory_initialization_radix</code> \u6307\u793a\u6570\u636e\u4f7f\u7528\u7684\u8fdb\u5236\uff0c<code>memory_initialization_vector</code> \u5219\u7ed9\u51fa\u4e86\u6bcf\u4e00\u4e2a\u5b58\u50a8\u5355\u5143\u4fdd\u5b58\u7684\u6570\u636e\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u91cc\uff0c\u6211\u4eec\u6709</p> <pre><code>M[0] = 00008737\nM[1] = f0070713\nM[2] = 000087b7\nM[3] = f0478793\n</code></pre> <p>\u5bf9\u4e8e\u5176\u4ed6\u5b58\u50a8\u5355\u5143\uff0c\u521d\u59cb\u65f6\u5c06\u88ab\u7f6e\u4e3a 0\u3002</p>"},{"location":"lab1/#_3","title":"\u5b9e\u9a8c\u68c0\u67e5\u4e0e\u63d0\u4ea4","text":"<p>\u672c\u6b21\u5b9e\u9a8c\u5e03\u7f6e\u65f6\u95f4\u4e3a 2024-03-18\uff0c\u6301\u7eed\u4e00\u5468\u3002\u76f8\u5e94\u7684 DDL \u8282\u70b9\u5982\u4e0b\uff1a</p> \u7ec4\u522b \u68c0\u67e5 DDL \u62a5\u544a\u63d0\u4ea4 DDL \u5468\u4e00\u7ec4 2024-03-25 2024-04-01 \u5468\u4e09\u7ec4 2024-03-27 2024-04-03 <p>\u68c0\u67e5\u4e0e\u62a5\u544a\u5ef6\u8fdf\u4e00\u5468\u4ee5\u5185\uff08\u542b\uff09\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 80% \u5206\u6570\uff1b\u5ef6\u8fdf\u4e00\u5468\u4ee5\u4e0a\u3001\u4e24\u5468\u4ee5\u5185\uff08\u542b\uff09\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 60% \u5206\u6570\uff1b\u5ef6\u8fdf\u8d85\u8fc7\u4e24\u5468\u7684\u4e0d\u5f97\u5206\u3002</p> <p>\u63d0\u9192</p> <p>\u5b9e\u9a8c\u7684 DDL \u4e3a\u5f53\u5929\u665a\u4e0a 21:30\u3002\u52a9\u6559\u6709\u6743\u5229\u5728 21:30 \u51c6\u65f6\u505c\u6b62\u68c0\u67e5\uff0c\u8bf7\u5927\u5bb6\u5408\u7406\u5b89\u6392\u597d\u81ea\u5df1\u7684\u65f6\u95f4\u3002\u80fd\u5426\u7ebf\u4e0a\u68c0\u67e5\u3001\u80fd\u5426\u5728\u5176\u4ed6\u65f6\u95f4\u68c0\u67e5\u8bf7\u54a8\u8be2\u672c\u7ec4\u7684\u52a9\u6559\u3002</p> <p>\u5173\u4e8e\u5b9e\u9a8c\u62a5\u544a</p> <p>\u5b9e\u9a8c\u62a5\u544a\u9700\u8981\u5927\u5bb6\u63d0\u4ea4 PDF \u683c\u5f0f\u3002\u6211\u4eec\u63a8\u8350\u5927\u5bb6\u4f7f\u7528 Markdown \u6216\u8005 Latex \u64b0\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u5bfc\u51fa\u4e3a PDF\u3002\u5927\u5bb6\u4e5f\u53ef\u4ee5\u4f7f\u7528 Word\u3001WPS \u7b49\u8fdb\u884c\u62a5\u544a\u64b0\u5199\uff0c\u6700\u540e\u8f6c\u6362\u4e3a PDF \u683c\u5f0f\u3002\u6211\u4eec\u4e0d\u63a8\u8350\u4e5f\u4e0d\u62d2\u7edd\u5927\u5bb6\u624b\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u4f46\u8bf7\u5c06\u5176\u62cd\u7167\u626b\u63cf\u6210 PDF \u6587\u4ef6\u540e\u518d\u4e0a\u4f20\u3002\u6211\u4eec\u4e0d\u63a5\u53d7\u4efb\u4f55\u56e0\u4e3a\u6587\u4ef6\u683c\u5f0f\u9519\u8bef\u800c\u5bfc\u81f4\u6210\u7ee9\u5f02\u5e38\u7684\u7533\u8bc9\u8bf7\u6c42\uff01</p> <p>\u5728\u5b9e\u9a8c\u62a5\u544a\u4e2d\uff0c\u4f60\u9700\u8981\u7ed9\u51fa\u6bcf\u4e00\u9879\u4efb\u52a1\u7684\u7b54\u6848\uff0c\u5e76\u9644\u4e0a\u5fc5\u8981\u7684\u8bf4\u660e\u8fc7\u7a0b\uff08\u6216\u622a\u56fe\uff09\u3002</p> <p>\u7279\u522b\u5730\uff1a\u5b9e\u9a8c\u62a5\u544a\u7684\u5b57\u6570\u548c\u6392\u7248\u4e0e\u6700\u7ec8\u5f97\u5206\u65e0\u5173\u3002\u5f71\u54cd\u5f97\u5206\u7684\u4ec5\u6709\u5185\u5bb9\u6b63\u786e\u6027\u4e0e\u5b8c\u6574\u6027\u3002</p> <p>\u5b9e\u9a8c\u62a5\u544a\u63d0\u4ea4\u7684\u5730\u5740\u5728\u8fd9\u91cc\u3002</p>"},{"location":"lab1/asm/","title":"\u6c47\u7f16\u8bed\u8a00\u89c4\u8303","text":""},{"location":"lab1/asm/#_2","title":"\u5bc4\u5b58\u5668\u547d\u540d\u89c4\u8303","text":"<p>\u5728 LARS \u4e2d\uff0c\u5bc4\u5b58\u5668\u547d\u540d\u65e2\u53ef\u4ee5\u91c7\u7528 LA32R \u89c4\u5b9a\u7684\u6807\u51c6\u5bc4\u5b58\u5668\u683c\u5f0f\u4e66\u5199\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u9f99\u82af\u300c\u65b0\u4e16\u754c 2.0ABI\u300d\u7ea6\u5b9a\u7684\u5bc4\u5b58\u5668\u522b\u540d\u683c\u5f0f\u4e66\u5199\uff0c\u5bf9\u7167\u8868\u5982\u4e0b\uff1a</p> \u5bc4\u5b58\u5668\u683c\u5f0f \u5bc4\u5b58\u5668\u522b\u540d $r0 $zero $r1 $ra $r2 $tp $r3 $sp $r4 - $r11 $a0 - $a7 $r12 - $r20 $t0 - $t8 $r21 \u65e0\u522b\u540d $r22 $s9/$fp $r23 - $r31 $s0 - $s8 <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a</p> <ul> <li>\u5bc4\u5b58\u5668\u540d\u79f0\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff0c\u5373<code>$zero</code>\u548c<code>$ZERO</code>\u662f\u7b49\u4ef7\u7684, <code>$r0</code>\u548c<code>$R0</code>\u662f\u7b49\u4ef7\u7684\u3002</li> <li>\u5bc4\u5b58\u5668\u540d\u79f0\u9996\u4e2a'$'\u7b26\u53f7\u53ef\u4ee5\u7701\u7565\uff0c\u5373<code>zero</code>\u548c<code>$zero</code>\u662f\u7b49\u4ef7\u7684, <code>r0</code>\u548c<code>$r0</code>\u662f\u7b49\u4ef7\u7684\u3002</li> </ul>"},{"location":"lab1/asm/#_3","title":"\u6c47\u7f16\u6307\u4ee4\u683c\u5f0f","text":""},{"location":"lab1/asm/#_4","title":"\u67b6\u6784\u6307\u4ee4","text":"<p>LARS \u652f\u6301 LA32R \u67b6\u6784\u7684\u7edd\u5927\u90e8\u5206\u57fa\u7840\u6574\u6570\u6307\u4ee4\u548c\u4e00\u6761\u81ea\u5b9a\u4e49\u505c\u673a\u6307\u4ee4\uff0c\u6307\u4ee4\u5b9a\u4e49\u53ca\u8bf4\u660e\u5982\u4e0b\uff1a</p> LARS \u652f\u6301\u7684\u6307\u4ee4 LA32R \u4e2d\u6307\u4ee4 \u6307\u4ee4\u529f\u80fd \u8bf4\u660e add.w rd, rj, rk rd = rj + rk \u6574\u6570\u52a0\u6cd5 addi.w rd, rj, imm rd = rj + imm \u6574\u6570\u52a0\u6cd5 sub.w rd, rj, rk rd = rj - rk \u6574\u6570\u51cf\u6cd5 slt rd, rj, rk rd = (rj.s &lt; rk.s) \u6709\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 sltu rd, rj, rk rd = (rj &lt; rk) \u65e0\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 and rd, rj, rk rd = rj &amp; rk \u6309\u4f4d\u4e0e or rd, rj, rk rd = rj | rk \u6309\u4f4d\u6216 xor rd, rj, rk rd = rj ^ rk \u6309\u4f4d\u5f02\u6216 sll.w rd, rj, rk rd = rj &lt;&lt; rk \u903b\u8f91\u5de6\u79fb srl.w rd, rj, rk rd = rj &gt;&gt; rk \u903b\u8f91\u53f3\u79fb sra.w rd, rj, rk rd = rj &gt;&gt;&gt; rk \u7b97\u672f\u53f3\u79fb slli.w rd, rj, imm rd = rj &lt;&lt; imm \u903b\u8f91\u5de6\u79fb srli.w rd, rj, imm rd = rj &gt;&gt; imm \u903b\u8f91\u53f3\u79fb srai.w rd, rj, imm rd = rj &gt;&gt;&gt; imm \u7b97\u672f\u53f3\u79fb slti rd, rj, imm rd = (rj.s &lt; imm.s) \u6709\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 sltui rd, rj, imm rd = (rj &lt; imm) \u65e0\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 andi rd, rj, imm rd = rj &amp; imm \u6309\u4f4d\u4e0e ori rd, rj, imm rd = rj | imm \u6309\u4f4d\u6216 xori rd, rj, imm rd = rj ^ imm \u6309\u4f4d\u5f02\u6216 lu12i.w rd, imm rd = imm &lt;&lt; 12 \u52a0\u8f7d\u9ad820\u4f4d\u7acb\u5373\u6570 pcaddu12i rd, imm rd = pc + (imm &lt;&lt; 12) \u52a0\u8f7d\u52a0\u4e0apc\u7684\u9ad820\u4f4d\u7acb\u5373\u6570 ld.w rd, rj, imm rd = Mem[rj + imm] \u52a0\u8f7d\u5b57 st.w rd, rj, imm Mem[rj + imm] = rd \u5b58\u50a8\u5b57 jirl rd, rj, offset rd = pc + 4; pc = rj + (offset &lt;&lt; 2) \u95f4\u63a5\u76f8\u5bf9\u8df3\u8f6c\u5e76\u94fe\u63a5 b label pc = label \u65e0\u6761\u4ef6\u8df3\u8f6c bl label $RA = pc + 4; pc = label \u51fd\u6570\uff08\u5b50\u7a0b\u5e8f\uff09\u8c03\u7528\u5e76\u94fe\u63a5 beq rj, rd, label if (rj == rd) pc = label \u76f8\u7b49\u8df3\u8f6c bne rj, rd, label if (rj != rd) pc = label \u4e0d\u7b49\u8df3\u8f6c blt rj, rd, label if (rj.s &lt; rd.s) pc = label \u6709\u7b26\u53f7\u5c0f\u4e8e\u8df3\u8f6c bge rj, rd, label if (rj.s &gt;= rd.s) pc = label \u6709\u7b26\u53f7\u5927\u4e8e\u7b49\u4e8e\u8df3\u8f6c bltu rj, rd, label if (rj &lt; rd) pc = label \u65e0\u7b26\u53f7\u5c0f\u4e8e\u8df3\u8f6c bgeu rj, rd, label if (rj &gt;= rd) pc = label \u65e0\u7b26\u53f7\u5927\u4e8e\u7b49\u4e8e\u8df3\u8f6c <p>\u6ce8\uff1a</p> <ul> <li>rd, rj, rk, rs \u4e3a32\u4f4d\u6574\u6570\u5bc4\u5b58\u5668\uff0cimm \u4e3a32\u4f4d\u7acb\u5373\u6570\uff0clabel \u4e3a\u6807\u7b7e\u3002 .s\u8868\u793a\u5c06\u5bc4\u5b58\u5668\u4e2d\u7684\u503c\u89c6\u4e3a\u6709\u7b26\u53f7\u6574\u6570\u3002</li> <li>SE \u8868\u793a\u7b26\u53f7\u62d3\u5c55\uff0c\u5373\u5c06\u5b57\u8282\u6216\u534a\u5b57\u62d3\u5c55\u4e3a32\u4f4d\u6574\u6570\u3002</li> <li>Mem \u8868\u793a\u5185\u5b58\uff0c\u5185\u5b58\u5730\u5740\u7a7a\u95f4\u4e3a32\u4f4d\u3002</li> <li>\u5404\u6307\u4ee4\u7acb\u5373\u6570\u7684\u8303\u56f4\u8be6\u89c1\u300a\u9f99\u82af\u67b6\u678432\u4f4d\u7cbe\u7b80\u7248\u6307\u4ee4\u96c6\u300b\u3002</li> </ul>"},{"location":"lab1/asm/#_5","title":"\u5b8f\u6307\u4ee4","text":"<p>LARS \u652f\u6301 LA32R \u7f16\u8bd1\u5668\u89c4\u5b9a\u7684\u4e24\u6761\u5b8f\u6307\u4ee4\uff0c\u6307\u4ee4\u5b9a\u4e49\u53ca\u8bf4\u660e\u5982\u4e0b\uff1a</p> <p>\u52a0\u8f7d 32 \u4f4d\u7acb\u5373\u6570\uff1ali.w rd, imm</p> <p>\u8be5\u6307\u4ee4\u5c06 32 \u4f4d\u7acb\u5373\u6570 imm \u52a0\u8f7d\u5230\u5bc4\u5b58\u5668 rd \u4e2d\uff0c\u6307\u4ee4\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>li.w rd, imm\n</code></pre> <p>\u8be5\u6307\u4ee4\u4f1a\u5c3d\u53ef\u80fd\u5c11\u5730\u8f6c\u6362\u4e3a lu12i.w \u548c ori \u6307\u4ee4\uff0c\u6700\u591a\u8f6c\u6362\u4e3a\u4e24\u6761\u6307\u4ee4\u3002</p> <p>\u52a0\u8f7d\u5730\u5740\uff1ala.local rd, label</p> <p>\u8be5\u6307\u4ee4\u5c06\u6807\u7b7e label \u7684\u5730\u5740\u52a0\u8f7d\u5230\u5bc4\u5b58\u5668 rd \u4e2d\uff0c\u6307\u4ee4\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>la.local rd, label\n</code></pre> <p>\u8be5\u6307\u4ee4\u4f1a\u8f6c\u6362\u4e3a\u4e00\u6761 lu12i.w \u6307\u4ee4\u548c\u4e00\u6761 ori \u6307\u4ee4\u3002</p>"},{"location":"lab1/asm/#_6","title":"\u6807\u8bb0\u548c\u6807\u7b7e\u89c4\u8303","text":""},{"location":"lab1/asm/#_7","title":"\u6807\u8bb0","text":"<p>LARS \u652f\u6301 LA32R \u7f16\u8bd1\u5668\u89c4\u5b9a\u7684 6 \u4e2a\u6807\u8bb0\uff0c\u6807\u8bb0\u5b9a\u4e49\u53ca\u8bf4\u660e\u5982\u4e0b\uff1a</p> \u6807\u8bb0 \u8bf4\u660e .text \u4ee3\u7801\u6bb5\u6807\u8bb0 .data \u6570\u636e\u6bb5\u6807\u8bb0 .word num \u6b64\u5904\u5b58\u653e\u4e00\u4e2a32\u4f4d\u7acb\u5373\u6570num .byte num \u6b64\u5904\u5b58\u653e\u4e00\u4e2a8\u4f4d\u7acb\u5373\u6570num .half num \u6b64\u5904\u5b58\u653e\u4e00\u4e2a16\u4f4d\u7acb\u5373\u6570num .space num \u6b64\u5904\u5b58\u653enum\u4e2a\u5b57\u8282\u76840 <p>\u7279\u522b\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a.word\u3001.byte\u3001.half\u3001.space \u53ea\u80fd\u5728 .data \u6bb5\u4e2d\u4f7f\u7528\u3002</p>"},{"location":"lab1/asm/#_8","title":"\u6807\u7b7e","text":"<p>\u7a0b\u5e8f\u6807\u7b7e\u9700\u8981\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u7ec4\u6210\uff0c\u4e14\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\u3002\u6807\u7b7e\u5bf9\u5e94\u7684\u5730\u5740\u4e3a\u6807\u7b7e\u4e0b\u65b9\u7b2c\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\uff0c\u4f8b\u5982</p> <pre><code>    mul.w $r1, $r2, $r3\nlabel:\n    add.w $r1, $r2, $r3\n    sub.w $r4, $r5, $r6\n</code></pre> <p>label \u5bf9\u5e94\u7684\u5730\u5740\u4e3a add.w \u6307\u4ee4\u7684\u5730\u5740\u3002</p>"},{"location":"lab1/lars/","title":"LARS","text":"<p>LA32R \u6307\u4ee4\u96c6\u4e13\u5c5e</p> <p>LARS \u4e3a LA32R \u6307\u4ee4\u96c6\u7684\u76f8\u5173\u5de5\u5177\uff0c\u9009\u62e9 RV32I \u7684\u540c\u5b66\u8bf7\u79fb\u6b65 RARS\u3002</p> <p>LARS\uff08Loongarch32R Assembler and Runtime Simulator\uff09\u662f\u4e00\u4e2a\u9f99\u82af 32 \u4f4d\u7cbe\u7b80\u6307\u4ee4\u96c6\u67b6\u6784\uff08Loongarch32R\uff09\u7684\u6c47\u7f16\u5668\u548c\u8fd0\u884c\u65f6\u6a21\u62df\u5668\uff0c\u7531\u4e2d\u56fd\u79d1\u5b66\u6280\u672f\u5927\u5b66\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f\u5b66\u9662\u672c\u79d1\u751f\u8bfe\u7a0b\u300a\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u300b\u7684\u8bfe\u7a0b\u8bbe\u8ba1\u9879\u76ee\u7ec4\u539f\u521b\u5f00\u53d1\u3002\u4f7f\u7528\u94fe\u63a5\u5728\u8fd9\u91cc\u3002</p> <p></p>"},{"location":"lab1/lars/#_1","title":"\u9879\u76ee\u7b80\u4ecb","text":"<p>LARS \u9879\u76ee\u7684\u76ee\u6807\u662f\u5b9e\u73b0\u4e00\u4e2a\u80fd\u591f\u5c06 Loongarch32R \u6c47\u7f16\u4ee3\u7801\u8f6c\u6362\u4e3a\u673a\u5668\u7801\u7684\u6c47\u7f16\u5668\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e2a\u80fd\u591f\u6a21\u62df Loongarch32R \u6307\u4ee4\u96c6\u67b6\u6784\u7684\u8fd0\u884c\u65f6\u6a21\u62df\u5668\u3002LARS \u9879\u76ee\u7684\u4e3b\u8981\u529f\u80fd\u5305\u62ec\uff1a</p> <ul> <li> <p>\u652f\u6301 Loongarch32R \u6307\u4ee4\u96c6\u67b6\u6784\u7684\u6c47\u7f16\u5668\uff0c\u80fd\u591f\u5c06 Loongarch32R \u6c47\u7f16\u4ee3\u7801\u8f6c\u6362\u4e3a\u673a\u5668\u7801\uff1b</p> </li> <li> <p>\u652f\u6301 Loongarch32R \u6307\u4ee4\u96c6\u67b6\u6784\u7684\u8fd0\u884c\u65f6\u6a21\u62df\u5668\uff0c\u80fd\u591f\u6a21\u62df Loongarch32R \u6307\u4ee4\u96c6\u67b6\u6784\u7684\u6307\u4ee4\u6267\u884c\u8fc7\u7a0b\uff1b</p> </li> <li> <p>\u652f\u6301 Loongarch32R \u6307\u4ee4\u96c6\u67b6\u6784\u7684\u6c47\u7f16\u4ee3\u7801\u7684\u8c03\u8bd5\u529f\u80fd\uff0c\u80fd\u591f\u5728\u6c47\u7f16\u4ee3\u7801\u4e2d\u8bbe\u7f6e\u65ad\u70b9\u3001\u5355\u6b65\u6267\u884c\u3001\u67e5\u770b\u5bc4\u5b58\u5668\u548c\u5185\u5b58\u7b49\u3002</p> </li> </ul> <p>LARS \u5f00\u53d1\u56e2\u961f</p> <ul> <li> <p>\u524d\u7aef\u89c6\u89c9\u8bbe\u8ba1</p> <ul> <li>\u5218\u777f\u535a\uff082021 \u7ea7\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f\u5b66\u9662\uff09</li> <li>\u9a6c\u5b50\u777f\uff082020 \u7ea7\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f\u5b66\u9662\uff09</li> <li>\u6768\u6620\u5ddd\uff082022 \u7ea7\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f\u5b66\u9662\uff09</li> </ul> </li> <li> <p>\u540e\u7aef\u5f00\u53d1</p> <ul> <li>\u5218\u777f\u535a\uff082021 \u7ea7\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f\u5b66\u9662\uff09</li> <li>\u9a6c\u5b50\u777f\uff082020 \u7ea7\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f\u5b66\u9662\uff09</li> </ul> </li> </ul> <p>\uff08\u6392\u540d\u4e0d\u5206\u5148\u540e\uff0c\u6309\u59d3\u540d\u62fc\u97f3\u9996\u5b57\u6bcd\u6392\u5e8f\uff09</p>"},{"location":"lab1/lars/#_2","title":"\u4ee3\u7801\u7f16\u5199","text":"<p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c06\u4ee5\u4e00\u6bb5\u7b80\u5355\u7684\u6c47\u7f16\u7a0b\u5e8f\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u672c\u5de5\u5177\u3002\u8fd9\u6bb5\u6c47\u7f16\u7a0b\u5e8f\u662f\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u4e2d\u3002</p> <pre><code>.data\na:\n.word 8\n\n.text\nla.local $r1, a\nld.w $r2, $r1, 0\naddi.w $r1, $r1, 4\nst.w $r2, $r1, 0\n</code></pre> <p>\u5728\u754c\u9762\u5de6\u4fa7\u7684\u6587\u672c\u6846\u4e2d\uff0c\u60a8\u53ef\u4ee5\u968f\u5fc3\u6240\u6b32\u5730\u7f16\u5199\u4ee3\u7801\uff1a</p>"},{"location":"lab1/lars/#_3","title":"\u4ee3\u7801\u7f16\u8bd1","text":"\u7f16\u8bd1\u6309\u94ae <p>\u8fd9\u662f\u7f16\u8bd1\u6309\u94ae </p> <p>\u5f53\u60a8\u7f16\u5199\u5b8c\u4ee3\u7801\u540e\uff0c\u70b9\u51fb\u754c\u9762\u5de6\u4fa7\u7684\u201c\u7f16\u8bd1\u201d\u6309\u94ae\uff0c\u5373\u53ef\u5c06\u60a8\u7684\u4ee3\u7801\u7f16\u8bd1\u4e3a\u673a\u5668\u7801\uff1a</p> <ul> <li>\u4ee3\u7801\uff08.text\uff09\u6bb5\u7684\u6570\u636e\u5c06\u4f1a\u987a\u5e8f\u653e\u7f6e\u5728\u4ee5<code>0x1c000000</code>\u4e3a\u8d77\u59cb\u5730\u5740\u7684\u5185\u5b58\u4e2d</li> <li>\u6570\u636e\uff08.data\uff09\u6bb5\u7684\u6570\u636e\u5c06\u4f1a\u987a\u5e8f\u653e\u7f6e\u5728\u4ee5<code>0x1c800000</code>\u4e3a\u8d77\u59cb\u5730\u5740\u7684\u5185\u5b58\u4e2d\u3002</li> </ul>"},{"location":"lab1/lars/#_4","title":"\u4ee3\u7801\u8fd0\u884c","text":"\u8fd0\u884c\u76f8\u5173\u6309\u94ae <p>\u8fd9\u662f\u8fd0\u884c\u6309\u94ae </p> <p>\u8fd9\u662f\u5355\u6b65\u6267\u884c\u6309\u94ae </p> <p>\u8fd9\u662f\u5355\u6b65\u56de\u9000\u6309\u94ae </p> <p>\u5f53\u60a8\u7f16\u8bd1\u4ee3\u7801\u540e\uff0c\u70b9\u51fb\u201c\u5355\u6b65\u6267\u884c\u201d\u3001\u201c\u8fd0\u884c\u201d\u3001\u201c\u5355\u6b65\u56de\u9000\u201d\u6309\u94ae\uff0c\u5373\u53ef\u8c03\u8bd5\u7a0b\u5e8f</p> <p>LARS\u652f\u6301\u65ad\u70b9\uff0c\u5c06\u4f1a\u5728\u540e\u9762\u7684\u5185\u5b58\u76d1\u89c6\u5668\u90e8\u5206\u4ecb\u7ecd</p>"},{"location":"lab1/lars/#_5","title":"\u5bc4\u5b58\u5668\u72b6\u6001","text":"<p>\u5728LARS\u7684\u53f3\u4e0a\u90e8\u5206\uff0c\u6211\u4eec\u7ed9\u51fa\u4e86\u5f53\u524d\u5bc4\u5b58\u5668\u548cPC\u503c\u3002\u5f53\u5bc4\u5b58\u5668\u53d8\u5316\u65f6\u5b83\u4f1a\u88ab\u4ee5\u7ea2\u8272\u9ad8\u4eae\u663e\u793a\u3002</p> <p></p>"},{"location":"lab1/lars/#_6","title":"\u5185\u5b58\u76d1\u89c6\u5668\u53ca\u65ad\u70b9","text":"<p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728\u641c\u7d22\u6846\u4e2d\u8f93\u5165\u5730\u5740\u7684\u5341\u516d\u8fdb\u5236\u503c\u518d\u70b9\u51fb\u5de6\u4fa7\u7684\ud83d\udd0d\u6309\u94ae \u76d1\u89c6\u5185\u5b58</p> <p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u60ac\u6d6e\u7684\u65b9\u5f0f\u83b7\u53d6\u53cd\u6c47\u7f16\u4ee3\u7801</p> <p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u70b9\u51fb\u5185\u5b58\u5355\u5143\u7684\u65b9\u5f0f\u6253\u65ad\u70b9</p> <p></p>"},{"location":"lab1/lars/#coe","title":"\u5bfc\u51fa COE \u6587\u4ef6","text":"\u5bfc\u51fa\u4ee3\u7801\u76f8\u5173\u6309\u94ae <p>\u8fd9\u662f\u5bfc\u51fa\u4ee3\u7801\u6bb5\u7684COE\u6587\u4ef6 </p> <p>\u8fd9\u662f\u5bfc\u51fa\u6570\u636e\u6bb5\u7684COE\u6587\u4ef6 </p>"},{"location":"lab1/lars/#_7","title":"\u5f02\u5e38\u5904\u7406","text":"<p>\u5f53\u60a8\u7684\u4ee3\u7801\u51fa\u73b0\u53ef\u4ee5\u9884\u6599\u5230\u7684\u9519\u8bef\u65f6\uff0c\u4f1a\u6709\u5f39\u7a97\u663e\u793a\u9519\u8bef\u4fe1\u606f\uff1b</p> <p>\u5f53\u60a8\u7684\u4ee3\u7801\u51fa\u73b0\u672a\u77e5\u7684\u9519\u8bef\u65f6\uff0c\u4f1a\u8868\u73b0\u4e3a \u64cd\u4f5c\u65e0\u54cd\u5e94 \uff0c\u5f53\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u65f6\uff0c\u8bf7\u4e0e\u52a9\u6559\u8054\u7cfb</p>"},{"location":"lab1/rars/","title":"RARS","text":"<p>RISC-V \u6307\u4ee4\u96c6\u4e13\u5c5e</p> <p>RARS \u4e3a RV32I \u6307\u4ee4\u96c6\u7684\u76f8\u5173\u5de5\u5177\uff0c\u9009\u62e9 LA32R \u7684\u540c\u5b66\u8bf7\u79fb\u6b65 LARS\u3002</p> <p>RARS \u662f\u57fa\u4e8e RISC-V \u67b6\u6784\u7684\u6c47\u7f16\u7efc\u5408\u5b9e\u9a8c\u5e73\u53f0\u3002RARS \u7a0b\u5e8f\u63d0\u4f9b\u4e86\u6c47\u7f16\u5668\u3001\u4eff\u771f\u5668\uff08\u53c2\u8003 ICS LabA\\(\\&amp;\\)S\uff09\u7b49\u529f\u80fd\uff0c\u540c\u65f6\u4e5f\u5305\u542b\u4e86\u65b9\u4fbf\u7684\u5916\u8bbe\u63a5\u53e3\u4e0e\u4fe1\u606f\u67e5\u8be2\u63a5\u53e3\uff0c\u88ab\u5e7f\u6cdb\u7528\u4e8e RISC-V \u6c47\u7f16\u7a0b\u5e8f\u7684\u7f16\u5199\u4e0e\u6d4b\u8bd5\u4e4b\u4e2d\u3002</p>"},{"location":"lab1/rars/#_1","title":"\u6982\u8ff0","text":"<p>\u4f60\u53ef\u4ee5\u70b9\u51fb\u8fd9\u91cc\u83b7\u53d6 1.6 \u7248\u672c\u7684 Rars \u5e94\u7528\u3002Rars \u5728\u5b89\u88c5\u4e86 Java \u8fd0\u884c\u73af\u5883\u7684\u7535\u8111\u4e0a\u90fd\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528\u3002\u4f60\u53ef\u4ee5\u5728 Vlab \u5e73\u53f0\u4e0a\u83b7\u53d6 Java \u7684\u6709\u5173\u8d44\u6e90\u3002\u7531\u4e8e\u7bc7\u5e45\u6709\u9650\uff0c\u5927\u5bb6\u53ef\u4ee5\u53c2\u8003\u8fd9\u7bc7\u535a\u5ba2\u4e2d\u7684\u76f8\u5173\u5185\u5bb9\u6216\u5176\u4ed6\u6559\u7a0b\u8fdb\u884c\u4e0b\u8f7d\u4e0e\u5b89\u88c5\u3002</p> <p>RISC-V \u6c47\u7f16\u7a0b\u5e8f\u6d89\u53ca\u5230\u7684\u76f8\u5173\u77e5\u8bc6\u70b9\u8bf7\u53c2\u8003\u8bfe\u672c\u4e0e\u6307\u4ee4\u96c6\u624b\u518c\u3002\u5982\u679c\u4f60\u4ee5\u524d\u672a\u63a5\u89e6\u8fc7\uff0c\u6216\u4e0d\u719f\u6089\u6c47\u7f16\u8bed\u8a00\u7f16\u7a0b\u7684\u8bdd\uff0c\u53ef\u4ee5\u53c2\u8003\u8fd9\u7bc7\u6559\u7a0b\u3002\u672c\u6b21\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u53ef\u80fd\u4f1a\u5173\u6ce8\u4e0b\u9762\u7684\u5185\u5bb9\uff1a4-Assembly language\u30016-The RV32I ISA\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c06\u5bf9\u672c\u6b21\u5b9e\u9a8c\u4e2d\u53ef\u80fd\u7528\u5230\u7684\u76f8\u5173\u5185\u5bb9\u8fdb\u884c\u4ecb\u7ecd\u3002</p>"},{"location":"lab1/rars/#_2","title":"\u5185\u5b58\u8bbe\u7f6e","text":"<p>\u5728\u4e3b\u754c\u9762\u4e0a\uff0c\u5355\u51fb Settings &gt;&gt; Memory Configuration \u5373\u53ef\u6253\u5f00\u4e0b\u56fe\u6240\u793a\u7684\u5b50\u754c\u9762\u3002\u5728 RARS \u4e2d\uff0c\u5185\u5b58\u7a7a\u95f4\u88ab\u5212\u5206\u4e3a\u8bb8\u591a\u90e8\u5206\u3002\u6309\u7167\u529f\u80fd\u53ef\u4ee5\u6982\u62ec\u4e3a\uff1a\u7a0b\u5e8f\u6bb5\u3001\u6570\u636e\u6bb5\u3001\u6808\u7a7a\u95f4\u4e0e\u5806\u7a7a\u95f4\u3001\u5185\u6838\u7a7a\u95f4\u4ee5\u53ca MMIO \u4fdd\u7559\u5730\u5740\u3002\u6839\u636e\u8bbe\u7f6e\u7684\u4e0d\u540c\uff0c\u5404\u4e2a\u90e8\u5206\u7684\u76f8\u5bf9\u4f4d\u7f6e\u4e0e\u5927\u5c0f\u4e5f\u6709\u6240\u4e0d\u540c\u3002</p> <p></p> \u5185\u5b58\u5206\u5e03\uff08\u7d27\u51d1\u578b\uff09 <p>\u5728\u672c\u5b66\u671f\u7684\u5b9e\u9a8c\u4e2d\uff0c\u6211\u4eec\u5747\u5c06\u5185\u5b58\u7a7a\u95f4\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u7c7b\u578b\uff08Default\uff09\u3002</p>"},{"location":"lab1/rars/#_3","title":"\u7b80\u5355\u4f7f\u7528","text":"<p>\u6b63\u5e38\u8fd0\u884c Rars \u7a0b\u5e8f\u540e\uff0c\u4f60\u5c06\u770b\u5230\u4e0b\u9762\u7684\u754c\u9762\u3002</p> <p></p> Rars \u754c\u9762 <p>\u4e3a\u4e86\u521b\u5efa\u4e00\u4e2a\u65b0\u9879\u76ee\uff0c\u4f60\u53ef\u4ee5\u5728\u5de6\u4e0a\u89d2\uff0c\u4f9d\u6b21\u5355\u51fb File \\(\\rightarrow\\) New\uff0c\u5373\u53ef\u65b0\u5efa\u4e00\u4e2a .asm \u6c47\u7f16\u6587\u4ef6\u3002\u6b64\u65f6\u6211\u4eec\u4fbf\u53ef\u4ee5\u8fdb\u884c\u6c47\u7f16\u4ee3\u7801\u7684\u7f16\u5199\u5de5\u4f5c\u3002</p> <p></p> \u7f16\u5199\u6c47\u7f16\u4ee3\u7801 <p>\u5b8c\u6210\u7f16\u5199\u540e\uff0c\u8bf7\u4fdd\u5b58 .asm \u6587\u4ef6\uff0c\u5982\u4e0a\u56fe\u6240\u793a\u70b9\u51fb Assemble \u6309\u94ae\u3002\u6b64\u65f6 Rars \u4fbf\u4f1a\u5f00\u59cb\u7f16\u8bd1 RISC-V \u4ee3\u7801\uff0c\u5e76\u5728\u4e0b\u65b9\u63d0\u793a\u53ef\u80fd\u7684\u9519\u8bef\uff08\u4e0a\u56fe\u4e2d\u7684\u4ee3\u7801\u5c31\u65e0\u6cd5\u901a\u8fc7\u7f16\u8bd1\uff09\u3002\u5982\u679c\u4e00\u5207\u987a\u5229\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8fdb\u5165\u8c03\u8bd5\u754c\u9762\uff0c\u5f00\u59cb\u6267\u884c\u6c47\u7f16\u7a0b\u5e8f\u3002</p> <p></p> \u8c03\u8bd5 <p>\u5728\u6267\u884c\u4e0e\u8c03\u8bd5\u65f6\uff0c\u8bf7\u5584\u7528\u65ad\u70b9\u529f\u80fd\uff0c\u5e76\u53ca\u65f6\u67e5\u770b\u5404\u4e2a\u5bc4\u5b58\u5668\u548c\u5b58\u50a8\u5355\u5143\u4e2d\u7684\u6570\u503c\u53d8\u5316\u3002</p> <p>\u5728\u4ee3\u7801\u7f16\u8bd1\u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u5728\u5de6\u4e0a\u89d2\u70b9\u51fb File\\(\\rightarrow\\)Dump Memory\uff0c\u5373\u53ef\u9009\u62e9\u5c06\u4ee3\u7801\u6bb5\u6216\u6570\u636e\u6bb5\u5bfc\u51fa\u6210 COE \u6587\u4ef6\u3002\u4f60\u9700\u8981\u9009\u62e9\u5341\u516d\u8fdb\u5236\u7684\u683c\u5f0f\u5bfc\u51fa\uff0c\u5e76\u53c2\u8003 COE \u6587\u4ef6\u7684\u683c\u5f0f\u6dfb\u52a0\u90e8\u5206\u5185\u5bb9\u3002</p> <p>\u5bf9\u4e8e Rars \u7684\u5176\u4ed6\u529f\u80fd\uff0c\u8bf7\u5728\u7a0b\u5e8f\u5185\u70b9\u51fb Help \u67e5\u770b\u5b98\u65b9\u7684\u6559\u7a0b\u3002</p>"},{"location":"lab2/","title":"\u5b9e\u9a8c 2\uff1aCPU \u529f\u80fd\u90e8\u4ef6\u8bbe\u8ba1","text":""},{"location":"lab2/#_1","title":"\u5b9e\u9a8c\u76ee\u7684","text":"<p>\u4ece\u672c\u6b21\u5b9e\u9a8c\u5f00\u59cb\uff0c\u6211\u4eec\u5c06\u901a\u8fc7 Verilog \u786c\u4ef6\u63cf\u8ff0\u8bed\u8a00\u5b9e\u73b0\u4e00\u4e2a\u53ef\u7528\u7684\u5355\u5468\u671f CPU\u3002Lab2 ~ Lab4 \u5c06\u6309\u7167\u4e0b\u9762\u7684\u8282\u594f\u8fdb\u884c\uff1a</p> <ul> <li>Lab2\uff1a\u590d\u4e60 Verilog \u8bed\u6cd5\uff0c\u5b9e\u73b0 CPU \u7684\u529f\u80fd\u90e8\u4ef6\uff1b</li> <li>Lab3\uff1a\u642d\u5efa\u65e0\u8bbf\u5b58\u3001\u65e0\u5206\u652f\u7684\u5355\u5468\u671f CPU\uff1b</li> <li>Lab4\uff1a\u642d\u5efa\u5b8c\u6574\u7684\u5355\u5468\u671f CPU\u3002</li> </ul> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u4ecb\u7ecd\u672c\u6b21\u5b9e\u9a8c\u7684\u76f8\u5173\u5185\u5bb9\u3002</p>"},{"location":"lab2/#_2","title":"\u5b9e\u9a8c\u5185\u5bb9","text":"<p>\u6bcf\u4e00\u540d\u540c\u5b66\u90fd\u9700\u8981\u5b8c\u6210\u4e0b\u9762\u7684\u4efb\u52a1\u3002</p> <p>\u4efb\u52a1 1\uff1a\u5bc4\u5b58\u5668\u5806\u8bbe\u8ba1\uff083 \u5206\uff09</p> <p>\u8bf7\u53c2\u8003\u5b9e\u9a8c\u6559\u7a0b\uff0c\u8bbe\u8ba1\u7b26\u5408\u8981\u6c42\u7684 32 \u4f4d\u5bc4\u5b58\u5668\u5806\uff0c\u5e76\u8fdb\u884c\u4eff\u771f\u3002\u4f60\u9700\u8981\u5728 Vivado \u4e2d\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\uff0c\u6dfb\u52a0\u4e0b\u9762\u7684\u4eff\u771f\u6587\u4ef6\u3002</p> \u5bc4\u5b58\u5668\u5806\u7684\u4eff\u771f\u6587\u4ef6 RegFile_tb<pre><code>module RegFile_tb ();\n    reg                 clk;\n    reg     [ 4 : 0]    ra0, ra1, wa;\n    reg     [ 0 : 0]    we;\n    reg     [31 : 0]    wd;\n    wire    [31 : 0]    rd0;\n    wire    [31 : 0]    rd1;\n\n    REG_FILE regfile (\n        .clk    (clk),\n        .rf_ra0    (ra0),\n        .rf_ra1    (ra1),\n        .rf_wa     (wa),\n        .rf_we     (we),\n        .rf_wd     (wd),\n        .rf_rd0    (rd0),\n        .rf_rd1    (rd1)\n    );\n\n    initial begin\n        clk = 0;\n        ra0 = 5'H0; ra1 = 5'H0; wa = 5'H0; we = 1'H0; wd = 32'H0;\n\n        #12\n        ra0 = 5'H0; ra1 = 5'H0; wa = 5'H3; we = 1'H1; wd = 32'H12345678;\n\n        #5\n        ra0 = 5'H0; ra1 = 5'H0; wa = 5'H0; we = 1'H0; wd = 32'H0;\n\n        #5\n        ra0 = 5'H3; ra1 = 5'H2; wa = 5'H2; we = 1'H1; wd = 32'H87654321;\n\n        #5\n        ra0 = 5'H0; ra1 = 5'H0; wa = 5'H0; we = 1'H0; wd = 32'H0;\n\n        #5\n        ra0 = 5'H3; ra1 = 5'H0; wa = 5'H0; we = 1'H1; wd = 32'H87654321;\n\n        #10\n        $finish;\n    end\n    always #5 clk = ~clk;\nendmodule\n</code></pre> <p> \u53c2\u8003\u7684\u4eff\u771f\u7ed3\u679c </p> <p>\u5728\u68c0\u67e5\u65f6\uff0c\u8bf7\u5411\u52a9\u6559\u5c55\u793a\u4f60\u7684\u4eff\u771f\u7ed3\u679c\uff0c\u5e76\u4ecb\u7ecd\u4ee3\u7801\u7684\u8bbe\u8ba1\u601d\u8def\u3002</p> <p>\u4efb\u52a1 2\uff1aALU \u8bbe\u8ba1\uff083 \u5206\uff09</p> <p>\u8bf7\u53c2\u8003\u5b9e\u9a8c\u6559\u7a0b\uff0c\u8bbe\u8ba1\u7b26\u5408\u8981\u6c42\u7684 32 \u4f4d ALU\uff0c\u5e76\u8fdb\u884c\u4eff\u771f\u3002\u4f60\u9700\u8981\u81ea\u884c\u7f16\u5199\u5408\u9002\u7684\u4eff\u771f\u6587\u4ef6\uff0c\u9a8c\u8bc1\u6bcf\u4e00\u79cd\u8fd0\u7b97\u6a21\u5f0f\u4e0b ALU \u8ba1\u7b97\u7684\u6b63\u786e\u6027\u3002\u4e00\u4e2a\u53ef\u4f9b\u53c2\u8003\u7684\u4eff\u771f\u6846\u67b6\u5982\u4e0b\uff1a</p> ALU_tb<pre><code>module ALU_tb();\n    //...\n    initial begin\n        src0=32'hffff; src1=32'hffff; sel=5'H0;\n        repeat(32) begin\n            sel = sel + 1;\n            #20;\n        end\n    end\n    //...\nendmodule\n</code></pre> <p>\u5728\u68c0\u67e5\u65f6\uff0c\u8bf7\u5411\u52a9\u6559\u5c55\u793a\u4f60\u7684\u4eff\u771f\u7ed3\u679c\uff0c\u5e76\u4ecb\u7ecd\u4ee3\u7801\u7684\u8bbe\u8ba1\u601d\u8def\u3002</p> <p>\u4efb\u52a1 3\uff1a\u5728\u7ebf\u8ba1\u7b97\u5668\uff083 \u5206\uff09</p> <p>\u8bf7\u4f7f\u7528\u4efb\u52a1 2 \u4e2d\u7684 ALU\uff0c\u5728 FPGAOL \u4e0a\u642d\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u8ba1\u7b97\u5668\u3002</p> <p> \u672c\u9898\u7684\u6570\u636e\u901a\u8def </p> <p>\u4e0a\u56fe\u5c55\u793a\u4e86\u672c\u9898\u7684\u6570\u636e\u901a\u8def\u3002\u8be5\u7535\u8def\u4e3b\u8981\u7531\u5bc4\u5b58\u5668\uff0c\u8bd1\u7801\u5668\uff0cALU \u5355\u5143\u3001\u6570\u7801\u7ba1\u663e\u793a\u6a21\u5757 Segment \u7ec4\u6210\u3002\u5176\u4e2d\u4f7f\u80fd\u4fe1\u53f7 enable \u4e0e\u6309\u94ae\u76f8\u8fde\uff0c\u5168\u5c40\u590d\u4f4d\u4fe1\u53f7 rst \u4e0e sw[7] \u76f8\u8fde\uff0c\u529f\u80fd\u63a7\u5236\u4fe1\u53f7 ctrl \u4e0e sw[6:5] \u76f8\u8fde\uff0c\u6570\u636e\u8f93\u5165\u4fe1\u53f7 in \u4e0e sw[4:0] \u76f8\u8fde\u3002\u6211\u4eec\u7ea6\u5b9a\uff1a\u8f93\u5165\u7684\u6570\u636e\u4e3a\u4e94\u4f4d\u6709\u7b26\u53f7\u6570\uff1b\u6b64\u5916\uff0cctrl \u4fe1\u53f7\u5bf9\u5e94\u7684\u89c4\u5219\u5982\u4e0b\uff1a</p> <ul> <li>ctrl=2'B00 \u65f6\uff0c\u6309\u4e0b enable\uff0c\u8868\u793a\u9009\u62e9 alu_op = in[4:0] \u7684 ALU \u8fd0\u7b97\u3002\u6211\u4eec\u5c06\u4e0e\u5217\u51fa\u7684\u64cd\u4f5c\u7801\u4e0d\u76f8\u7b26\u7684\u8fd0\u7b97\u89c6\u4f5c\u96f6\u8fd0\u7b97\uff0c\u5373\u65e0\u8bba\u64cd\u4f5c\u6570 src0 \u548c src1 \u7684\u503c\u5982\u4f55\uff0calu_res \u7684\u503c\u90fd\u4e3a 0\u3002</li> <li>ctrl=2'B01 \u65f6\uff0c\u6309\u4e0b enable\uff0c\u8868\u793a\u5c06 alu_src0 \u7684\u503c\u6539\u4e3a in[4:0]\u3002</li> <li>ctrl=2'B10 \u65f6\uff0c\u6309\u4e0b enable\uff0c\u8868\u793a\u5c06 alu_src1 \u7684\u503c\u6539\u4e3a in[4:0]\u3002</li> <li>ctrl=2'B11 \u65f6\uff0c\u6309\u4e0b enable\uff0c\u8868\u793a\u5c06\u8ba1\u7b97\u7ed3\u679c alu_res \u901a\u8fc7 seg_an \u4e0e seg_data \u5728\u4e03\u6bb5\u6570\u7801\u7ba1\u4e0a\u663e\u793a\u51fa\u6765\u3002\uff08\u6ce8\u610f\uff1a\u6570\u7801\u7ba1\u7684\u8f93\u51fa\u6570\u636e output_data \u53ea\u5728\u6b64\u65f6\u66f4\u65b0\uff09</li> </ul> <p>\u6bd4\u5982\uff1a\u6211\u4eec\u9996\u5148\u5c06 ctrl \u8bbe\u4e3a 2'B00\uff0cin[4:0] \u8bbe\u4e3a 5'B1001\uff0c\u6309\u4e0b enable\uff0c\u6b64\u65f6 alu_op \u7684\u503c\u4e3a 5'B01001\uff0c\u4ee3\u8868\u9009\u62e9\u4e86\u903b\u8f91\u4e0e\u8fd0\u7b97\uff08\u56e0\u4e3a\u5728\u6211\u4eec\u7ed9\u51fa\u7684 ALU \u64cd\u4f5c\u7801\u4e2d\uff0cAND \u5bf9\u5e94\u7740 5'B01001\uff09\uff1b\u63a5\u4e0b\u6765\u5c06 ctrl \u8bbe\u4e3a 2'B01\uff0cin[4:0] \u8bbe\u4e3a 5'B01011\uff0c\u6309\u4e0b enable\uff0c\u6b64\u65f6 alu_src0 \u7684\u503c\u53d8\u4e3a 5'B01011\uff1b\u63a5\u4e0b\u6765\u5c06 ctrl \u8bbe\u4e3a 2'B10\uff0cin[4:0] \u8bbe\u4e3a 5'B00011\uff0c\u6309\u4e0b enable\uff0c\u6b64\u65f6 alu_src1 \u7684\u503c\u53d8\u4e3a 5'B00011\uff1bctrl \u8bbe\u4e3a 2'B11\uff0c\u6309\u4e0b enable\uff0c\u6b64\u65f6 alu_res \u7684\u503c\u4e3a 5'B00011\uff0c\u4f1a\u901a\u8fc7 seg_an \u4e0e seg_data \u5728\u4e03\u6bb5\u6570\u7801\u7ba1\u4e0a\u4ee5\u5341\u516d\u8fdb\u5236\u7684\u5f62\u5f0f\u663e\u793a\u51fa\u6765\u3002</p> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u6211\u4eec\u7684 ALU \u4f9d\u7136\u662f 32 \u4f4d\u7684\u3002\u4e3a\u6b64\u6211\u4eec\u9700\u8981\u5c06\u5bc4\u5b58\u5668\u4e2d\u7684\u6570\u636e\u7b26\u53f7\u6269\u5c55\u5230 32 \u4f4d\u540e\u63a5\u5165 ALU\uff1b\u6570\u7801\u7ba1\u663e\u793a\u6a21\u5757\u7684\u8f93\u5165\u662f 32 \u4f4d\u7684\uff0c\u56e0\u6b64 ALU \u7684\u8ba1\u7b97\u7ed3\u679c\u53ef\u4ee5\u76f4\u63a5\u8fde\u63a5\u5230\u6570\u7801\u7ba1\u663e\u793a\u6a21\u5757\u3002</p> \u4e3a\u4ec0\u4e48\u8981\u8fd9\u4e48\u8bbe\u8ba1\u8fd9\u6837\u7684\u8f93\u5165\u6d41\u7a0b\uff1f <p>\u8fd9\u662f\u7531\u4e8e FPGAOL \u5916\u8bbe\u8d44\u6e90\u6709\u9650\uff0c\u6211\u4eec\u6ca1\u6709\u529e\u6cd5\u4e00\u6b21\u6027\u8f93\u5165\u5168\u90e8\u7684\u6570\u636e\uff08\u6bd5\u7adf\u5373\u4f7f\u662f\u7528\u8ba1\u7b97\u5668\u4e5f\u8981\u6309\u597d\u51e0\u4e2a\u952e\uff09\uff0c\u56e0\u6b64\u76f8\u5e94\u7684\u5916\u8bbe\u7aef\u53e3\u9700\u8981\u5206\u65f6\u590d\u7528\u3002\u6362\u800c\u8a00\u4e4b\uff0c\u64cd\u4f5c\u6570 alu_src0\u3001alu_src1 \u548c\u64cd\u4f5c\u7801 alu_op \u590d\u7528\u4e86\u5f00\u5173\u8f93\u5165 x[5:0]\uff0c\u590d\u7528\u7684\u65b9\u6cd5\u662f\u901a\u8fc7 sel \u548c enable \u4fe1\u53f7\uff0c\u8bd1\u7801\u751f\u6210\u5bf9\u5e94\u5bc4\u5b58\u5668\u7684\u4f7f\u80fd\u4fe1\u53f7\uff0c\u5c06\u5f00\u5173\u8f93\u5165 x[5:0] \u5b58\u5165\u6b63\u786e\u7684\u5bc4\u5b58\u5668\u3002</p> <p>\u672c\u9898\u9700\u8981\u5728 FPGAOL \u4e0a\u4e0a\u677f\u8fd0\u884c\u3002\u9879\u76ee\u5bf9\u5e94\u7684\u7ea6\u675f\u6587\u4ef6\u5982\u4e0b\uff1a</p> <pre><code>## Clock signal\nset_property -dict { PACKAGE_PIN E3    IOSTANDARD LVCMOS33 } [get_ports { clk }]; #IO_L12P_T1_MRCC_35 Sch=clk100mhz\ncreate_clock -add -name sys_clk_pin -period 10.00 -waveform {0 5} [get_ports {clk}];\n\n## FPGAOL SWITCH\n\nset_property -dict { PACKAGE_PIN D14   IOSTANDARD LVCMOS33 } [get_ports { in[0] }];\nset_property -dict { PACKAGE_PIN F16   IOSTANDARD LVCMOS33 } [get_ports { in[1] }];\nset_property -dict { PACKAGE_PIN G16   IOSTANDARD LVCMOS33 } [get_ports { in[2] }];\nset_property -dict { PACKAGE_PIN H14   IOSTANDARD LVCMOS33 } [get_ports { in[3] }];\nset_property -dict { PACKAGE_PIN E16   IOSTANDARD LVCMOS33 } [get_ports { in[4] }];\nset_property -dict { PACKAGE_PIN F13   IOSTANDARD LVCMOS33 } [get_ports { ctrl[0] }];\nset_property -dict { PACKAGE_PIN G13   IOSTANDARD LVCMOS33 } [get_ports { ctrl[1] }];\nset_property -dict { PACKAGE_PIN H16   IOSTANDARD LVCMOS33 } [get_ports { rst }];\n\n\n## FPGAOL HEXPLAY\n\nset_property -dict { PACKAGE_PIN A14   IOSTANDARD LVCMOS33 } [get_ports { seg_data[0] }];\nset_property -dict { PACKAGE_PIN A13   IOSTANDARD LVCMOS33 } [get_ports { seg_data[1] }];\nset_property -dict { PACKAGE_PIN A16   IOSTANDARD LVCMOS33 } [get_ports { seg_data[2] }];\nset_property -dict { PACKAGE_PIN A15   IOSTANDARD LVCMOS33 } [get_ports { seg_data[3] }];\nset_property -dict { PACKAGE_PIN B17   IOSTANDARD LVCMOS33 } [get_ports { seg_an[0] }];\nset_property -dict { PACKAGE_PIN B16   IOSTANDARD LVCMOS33 } [get_ports { seg_an[1] }];\nset_property -dict { PACKAGE_PIN A18   IOSTANDARD LVCMOS33 } [get_ports { seg_an[2] }];\n\n## FPGAOL BUTTON &amp; SOFT_CLOCK\n\nset_property -dict { PACKAGE_PIN B18   IOSTANDARD LVCMOS33 } [get_ports { enable }];\n</code></pre> \u4ec0\u4e48\u662f\u7ea6\u675f\u6587\u4ef6\uff1f\u5982\u4f55\u4e0a\u677f\u8fd0\u884c\uff1f <p>\u8bf7\u53c2\u8003\u8fd9\u91cc\u548c\u8fd9\u91cc\u3002</p> <p>TOP \u6a21\u5757\u7684\u90e8\u5206\u4ee3\u7801\u5982\u4e0b\uff1a</p> TOP<pre><code>module TOP (\n    input                   [ 0 : 0]            clk,\n    input                   [ 0 : 0]            rst,\n\n    input                   [ 0 : 0]            enable,\n    input                   [ 4 : 0]            in,\n    input                   [ 1 : 0]            ctrl,\n\n    output                  [ 3 : 0]            seg_data,\n    output                  [ 2 : 0]            seg_an\n);\n\nendmodule\n</code></pre> <p>\u6570\u7801\u7ba1\u663e\u793a\u6a21\u5757 Segment \u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> Segment<pre><code>module Segment(\n    input                   [ 0 : 0]            clk,\n    input                   [ 0 : 0]            rst,\n    input                   [31 : 0]            output_data,\n    output          reg     [ 3 : 0]            seg_data,\n    output          reg     [ 2 : 0]            seg_an\n);\n\nparameter COUNT_NUM = 50_000_000 / 400;         // 100MHz to 400Hz\nparameter SEG_NUM = 8;                          // Number of segments\n\nreg [31:0] counter;\nalways @(posedge clk) begin\n    if (rst)\n        counter &lt;= 0;\n    else if (counter &gt;= COUNT_NUM)\n        counter &lt;= 0;\n    else\n        counter &lt;= counter + 1;\nend\n\nreg [2:0] seg_id;\nalways @(posedge clk) begin\n    if (rst)\n        seg_id &lt;= 0;\n    else if (counter == COUNT_NUM) begin\n        if (seg_id &gt;= SEG_NUM - 1)\n            seg_id &lt;= 0;\n        else\n            seg_id &lt;= seg_id + 1;\n    end\nend\n\nalways @(*) begin\n    seg_data = 0;\n    case (seg_an)\n        'd0     : seg_data = output_data[3:0]; \n        'd1     : seg_data = output_data[7:4];\n        'd2     : seg_data = output_data[11:8];\n        'd3     : seg_data = output_data[15:12];\n        'd4     : seg_data = output_data[19:16];\n        'd5     : seg_data = output_data[23:20];\n        'd6     : seg_data = output_data[27:24];\n        'd7     : seg_data = output_data[31:28];\n        default : seg_data = 0;\n    endcase\nend\n\nalways @(*) begin\n    seg_an = seg_id;\nend\nendmodule\n</code></pre> Segment \u6a21\u5757\u7684\u539f\u7406\u548c\u4f5c\u7528\uff1f <p>\u8bf7\u53c2\u8003\u8fd9\u91cc\u5fc5\u505a\u90e8\u5206\u7684\u7b2c\u4e09\u9898\u3002</p> <p>\u4efb\u52a1 4\uff1a\u521d\u59cb\u5316\u5b58\u50a8\u5668\uff081 \u5206\uff09</p> <p>\u8bf7\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\uff0c\u4f8b\u5316\u5408\u9002\u5927\u5c0f\u7684\u5b58\u50a8\u5668 IP \u6838\uff08\u5206\u5e03\u5f0f\u3001\u5757\u5f0f\u5747\u53ef\uff09\uff0c\u5c06\u4e0a\u4e00\u6b21\u5b9e\u9a8c\u751f\u6210\u7684\u6307\u4ee4\u6bb5 COE \u6587\u4ef6\u5bfc\u5165\u5230 IP \u6838\u4e2d\uff0c\u5e76\u5411\u52a9\u6559\u5c55\u793a\u3002</p>"},{"location":"lab2/#_3","title":"\u5b9e\u9a8c\u68c0\u67e5\u4e0e\u63d0\u4ea4","text":"<p>\u672c\u6b21\u5b9e\u9a8c\u5e03\u7f6e\u65f6\u95f4\u4e3a 2024-03-25\uff0c\u6301\u7eed\u4e00\u5468\u3002\u76f8\u5e94\u7684 DDL \u8282\u70b9\u5982\u4e0b\uff1a</p> \u7ec4\u522b \u68c0\u67e5 DDL \u62a5\u544a\u63d0\u4ea4 DDL \u5468\u4e00\u7ec4 2024-04-01 2024-04-08 \u5468\u4e09\u7ec4 2024-04-03 2024-04-10 <p>\u68c0\u67e5\u4e0e\u62a5\u544a\u5ef6\u8fdf\u4e00\u5468\u4ee5\u5185\uff08\u542b\uff09\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 80% \u5206\u6570\uff1b\u5ef6\u8fdf\u4e00\u5468\u4ee5\u4e0a\u3001\u4e24\u5468\u4ee5\u5185\uff08\u542b\uff09\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 60% \u5206\u6570\uff1b\u5ef6\u8fdf\u8d85\u8fc7\u4e24\u5468\u7684\u4e0d\u5f97\u5206\u3002</p> <p>\u63d0\u9192</p> <p>\u5b9e\u9a8c\u7684 DDL \u4e3a\u5f53\u5929\u665a\u4e0a 21:30\u3002\u52a9\u6559\u6709\u6743\u5229\u5728 21:30 \u51c6\u65f6\u505c\u6b62\u68c0\u67e5\uff0c\u8bf7\u5927\u5bb6\u5408\u7406\u5b89\u6392\u597d\u81ea\u5df1\u7684\u65f6\u95f4\u3002\u80fd\u5426\u7ebf\u4e0a\u68c0\u67e5\u3001\u80fd\u5426\u5728\u5176\u4ed6\u65f6\u95f4\u68c0\u67e5\u8bf7\u54a8\u8be2\u672c\u7ec4\u7684\u52a9\u6559\u3002</p> <p>\u5173\u4e8e\u5b9e\u9a8c\u62a5\u544a</p> <p>\u5b9e\u9a8c\u62a5\u544a\u9700\u8981\u5927\u5bb6\u63d0\u4ea4 PDF \u683c\u5f0f\u3002\u6211\u4eec\u63a8\u8350\u5927\u5bb6\u4f7f\u7528 Markdown \u6216\u8005 Latex \u64b0\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u5bfc\u51fa\u4e3a PDF\u3002\u5927\u5bb6\u4e5f\u53ef\u4ee5\u4f7f\u7528 Word\u3001WPS \u7b49\u8fdb\u884c\u62a5\u544a\u64b0\u5199\uff0c\u6700\u540e\u8f6c\u6362\u4e3a PDF \u683c\u5f0f\u3002\u6211\u4eec\u4e0d\u63a8\u8350\u4e5f\u4e0d\u62d2\u7edd\u5927\u5bb6\u624b\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u4f46\u8bf7\u5c06\u5176\u62cd\u7167\u626b\u63cf\u6210 PDF \u6587\u4ef6\u540e\u518d\u4e0a\u4f20\u3002\u6211\u4eec\u4e0d\u63a5\u53d7\u4efb\u4f55\u56e0\u4e3a\u6587\u4ef6\u683c\u5f0f\u9519\u8bef\u800c\u5bfc\u81f4\u6210\u7ee9\u5f02\u5e38\u7684\u7533\u8bc9\u8bf7\u6c42\uff01</p> <p>\u5728\u5b9e\u9a8c\u62a5\u544a\u4e2d\uff0c\u4f60\u9700\u8981\u7ed9\u51fa\u6bcf\u4e00\u9879\u4efb\u52a1\u7684\u7b54\u6848\uff0c\u5e76\u9644\u4e0a\u5fc5\u8981\u7684\u8bf4\u660e\u8fc7\u7a0b\uff08\u6216\u622a\u56fe\uff09\u3002</p> <p>\u7279\u522b\u5730\uff1a\u5b9e\u9a8c\u62a5\u544a\u7684\u5b57\u6570\u548c\u6392\u7248\u4e0e\u6700\u7ec8\u5f97\u5206\u65e0\u5173\u3002\u5f71\u54cd\u5f97\u5206\u7684\u4ec5\u6709\u5185\u5bb9\u6b63\u786e\u6027\u4e0e\u5b8c\u6574\u6027\u3002</p> <p>\u5b9e\u9a8c\u62a5\u544a\u63d0\u4ea4\u7684\u5730\u5740\u5728\u8fd9\u91cc\u3002</p>"},{"location":"lab2/ALU/","title":"ALU","text":"<p>ALU \u7684\u529f\u80fd\u662f\u5bf9\u4e24\u4e2a\u64cd\u4f5c\u6570\u8fdb\u884c\u7b97\u672f\u6216\u903b\u8f91\u8fd0\u7b97\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u8f93\u51fa\u3002\u5728\u4e0a\u5b66\u671f\u7684\u6570\u5b57\u7535\u8def\u5b9e\u9a8c\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u5b9e\u73b0\u4e86\u4e00\u4e2a\u529f\u80fd\u5b8c\u5584\u7684 ALU\uff08\u70b9\u6211\u8df3\u8f6c\uff09\u3002\u5f53\u7136\uff0c\u672c\u6b21\u5b9e\u9a8c\u5bf9\u4e8e ALU \u5404\u4e2a\u8fd0\u7b97\u7684\u5b9e\u73b0\u5e76\u6ca1\u6709\u8981\u6c42\u3002\u4f8b\u5982\uff1a\u4f60\u53ef\u4ee5\u4f7f\u7528\u95e8\u7ea7\u63cf\u8ff0\uff08\u4f8b\u5982\u4f7f\u7528\u51cf\u6cd5\u5668\u5b9e\u73b0\u51cf\u6cd5\u8fd0\u7b97\uff09\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u884c\u4e3a\u7ea7\u63cf\u8ff0\uff08\u4f8b\u5982\u4f7f\u7528 Verilog \u81ea\u5e26\u7684\u51cf\u6cd5\u8fd0\u7b97\u7b26\u5b9e\u73b0\u51cf\u6cd5\u8fd0\u7b97\uff09\u3002</p> <p>\u4e0b\u9762\u662f ALU \u7684\u7ed3\u6784\u793a\u610f\u56fe\uff1a</p> <p></p> ALU \u6a21\u5757\u793a\u610f\u56fe <p>\u5bf9\u5e94\u7684\u6a21\u5757\u7aef\u53e3\u4e3a\uff1a</p> ALU<pre><code>module ALU (\n    input                   [31 : 0]            alu_src0,\n    input                   [31 : 0]            alu_src1,\n    input                   [ 4 : 0]            alu_op,\n\n    output      reg         [31 : 0]            alu_res\n);\n</code></pre> <p>\u672c\u6b21\u5b9e\u9a8c\u7684 ALU \u9700\u8981\u652f\u6301\u5bf9\u4e8e 32 \u6bd4\u7279\u6574\u6570\u7684\u76f8\u5173\u8fd0\u7b97\u3002\u76f8\u5e94\u7684\u8fd0\u7b97\u64cd\u4f5c\u7801\u5982\u4e0b\uff1a</p> <pre><code>`define ADD                 5'B00000    \n`define SUB                 5'B00010   \n`define SLT                 5'B00100\n`define SLTU                5'B00101\n`define AND                 5'B01001\n`define OR                  5'B01010\n`define XOR                 5'B01011\n`define SLL                 5'B01110   \n`define SRL                 5'B01111    \n`define SRA                 5'B10000  \n`define SRC0                5'B10001\n`define SRC1                5'B10010\n</code></pre> <p>\u5176\u4e2d\uff0cSRC0 \u7684\u4f5c\u7528\u662f\u8ba9 <code>alu_res</code> \u8f93\u51fa <code>alu_src0</code> \u7684\u503c\uff1bSRC1 \u7684\u4f5c\u7528\u662f\u8ba9 <code>alu_res</code> \u8f93\u51fa <code>alu_src1</code> \u7684\u503c\uff0c\u5176\u4f59\u64cd\u4f5c\u5747\u5bf9\u5e94\u7740\u6307\u4ee4\u4e2d\u7684\u76f8\u5e94\u64cd\u4f5c\u3002<code>`define</code> \u8bed\u53e5\u7528\u6cd5\u4e0e C \u8bed\u8a00\u4e2d\u7684 <code>#define</code> \u7c7b\u4f3c\uff0c\u53ef\u4ee5\u5c06\u67d0\u7279\u5b9a\u6570\u503c\u5b9a\u4e49\u4e3a\u7b26\u53f7 <code>&lt;name&gt;</code>\uff0c\u5728\u4f7f\u7528\u65f6\u5219\u9700\u8981\u5728\u7b26\u53f7\u7684\u524d\u9762\u6dfb\u52a0\u53cd\u5f15\u53f7 <code>`</code>\uff0c\u53d8\u4e3a <code>`&lt;name&gt;</code> \u7684\u5f62\u5f0f\u3002</p> \u4e3a\u4ec0\u4e48 ALU \u8981\u8fd9\u4e48\u7f16\u7801\uff1f <p>\u4e0a\u9762\u7684\u7f16\u7801\u89c4\u5219\u662f\u4e3a\u4e86\u4fbf\u4e8e LA32R \u6307\u4ee4\u96c6\u7684\u8bd1\u7801\u3002\u81ea\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece 0 \u5f00\u59cb\u987a\u5e8f\u7f16\u7801\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u72ec\u70ed\u7801\u8fdb\u884c\u7f16\u7801\u3002\u5bf9\u4e8e\u9009\u62e9 RV32I \u6307\u4ee4\u96c6\u7684\u540c\u5b66\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0a\u9762\u7684\u7f16\u7801\uff0c\u4e5f\u53ef\u4ee5\u7ed3\u5408 RV32I \u6307\u4ee4\u96c6\u7684\u8bd1\u7801\u89c4\u5219\u91cd\u65b0\u8bbe\u8ba1\u4e00\u5957 ALU \u7684\u7f16\u7801\u3002</p> <p>\u8bf7\u636e\u6b64\u5c06\u4e0b\u9762\u7684\u4ee3\u7801\u8865\u5145\u5b8c\u6574\u3002</p> ALU<pre><code>module ALU (\n    input                   [31 : 0]            alu_src0,\n    input                   [31 : 0]            alu_src1,\n    input                   [ 4 : 0]            alu_op,\n\n    output      reg         [31 : 0]            alu_res\n);\n    always @(*) begin\n        case(alu_op)\n            `ADD  :\n                alu_res = alu_src0 + alu_src1;\n            default :\n                alu_res = 32'H0;\n        endcase\n    end\nendmodule\n</code></pre>"},{"location":"lab2/IP/","title":"IP \u6838\u4f7f\u7528","text":""},{"location":"lab2/IP/#_1","title":"\u6982\u8ff0","text":"<p>Intellectual Property (IP) core \u662f\u4e00\u79cd\u5728\u6570\u5b57\u8bbe\u8ba1\u4e2d\u5e7f\u6cdb\u4f7f\u7528\u7684\u6982\u5ff5\uff0c\u5b83\u4ee3\u8868\u4e86\u53ef\u91cd\u7528\u7684\u3001\u72ec\u7acb\u7684\u6570\u5b57\u7535\u8def\u6a21\u5757\uff0c\u901a\u5e38\u662f\u7ecf\u8fc7\u9a8c\u8bc1\u548c\u4f18\u5316\u7684\u3002IP \u6838\u7684\u76ee\u7684\u662f\u901a\u8fc7\u63d0\u4f9b\u901a\u7528\u548c\u6807\u51c6\u7684\u529f\u80fd\u5757\uff0c\u4f7f\u6570\u5b57\u8bbe\u8ba1\u53d8\u5f97\u66f4\u52a0\u6a21\u5757\u5316\u3001\u6613\u4e8e\u7ef4\u62a4\uff0c\u5e76\u52a0\u901f\u8bbe\u8ba1\u6d41\u7a0b\u3002</p> <p>\u76f8\u8f83\u4e8e\u4f20\u7edf\u7684\u6a21\u5757\uff0cIP \u6838\u5177\u6709\u4ee5\u4e0b\u7684\u7279\u70b9\uff1a</p> <ul> <li>\u53ef\u91cd\u7528\u6027\uff1aIP \u6838\u662f\u53ef\u91cd\u7528\u7684\uff0c\u53ef\u4ee5\u5728\u591a\u4e2a\u9879\u76ee\u548c\u8bbe\u8ba1\u4e2d\u4f7f\u7528\u3002\u8fd9\u6709\u52a9\u4e8e\u63d0\u9ad8\u8bbe\u8ba1\u7684\u6548\u7387\uff0c\u51cf\u5c11\u91cd\u590d\u5de5\u4f5c\u3002</li> <li>\u72ec\u7acb\u6027\uff1aIP \u6838\u901a\u5e38\u662f\u72ec\u7acb\u7684\u529f\u80fd\u5757\uff0c\u4e0e\u5176\u4ed6 IP \u6838\u548c\u7cfb\u7edf\u7684\u5176\u4ed6\u90e8\u5206\u89e3\u8026\u3002\u8fd9\u4f7f\u5f97\u5b83\u4eec\u66f4\u5bb9\u6613\u6d4b\u8bd5\u3001\u9a8c\u8bc1\u548c\u7ef4\u62a4\u3002</li> <li>\u6807\u51c6\u63a5\u53e3\uff1aIP \u6838\u901a\u5e38\u4f7f\u7528\u6807\u51c6\u63a5\u53e3\u4e0e\u5176\u4ed6\u6a21\u5757\u8fdb\u884c\u901a\u4fe1\uff0c\u4f8b\u5982 AXI\uff08Advanced eXtensible Interface\uff09\u603b\u7ebf\u534f\u8bae\u3002\u8fd9\u79cd\u6807\u51c6\u5316\u6709\u52a9\u4e8e\u5728\u4e0d\u540c\u7684\u8bbe\u8ba1\u4e2d\u66f4\u8f7b\u677e\u5730\u96c6\u6210 IP \u6838\u3002</li> <li>\u5145\u5206\u9a8c\u8bc1\uff1a\u5927\u591a\u6570 IP \u6838\u90fd\u7ecf\u8fc7\u4e86\u5145\u5206\u7684\u9a8c\u8bc1\uff0c\u8bbe\u8ba1\u8005\u53ef\u4ee5\u76f8\u5bf9\u653e\u5fc3\u5730\u5728\u4ed6\u4eec\u7684\u9879\u76ee\u4e2d\u4f7f\u7528\u8fd9\u4e9b IP \u6838\uff0c\u800c\u65e0\u9700\u91cd\u65b0\u9a8c\u8bc1\u5176\u529f\u80fd\u3002</li> <li>\u5b9a\u5236\u6027\uff1a\u4e00\u4e9b IP \u6838\u5141\u8bb8\u7528\u6237\u8fdb\u884c\u4e00\u5b9a\u7a0b\u5ea6\u7684\u5b9a\u5236\uff0c\u4ee5\u9002\u5e94\u7279\u5b9a\u7684\u8bbe\u8ba1\u9700\u6c42\u3002\u8fd9\u79cd\u5b9a\u5236\u6027\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\u914d\u7f6e\u6216\u5176\u4ed6\u624b\u6bb5\u5b9e\u73b0\u3002</li> </ul> <p></p> <p>Vivado \u4e2d\u5185\u7f6e\u4e86\u8bb8\u591a\u5e38\u7528\u7684 IP \u6838\uff0c\u5176\u4e2d\u5305\u62ec\uff1a</p> <ul> <li> <p>\u5904\u7406\u5668\u7cfb\u7edf IP\uff1aVivado \u63d0\u4f9b\u4e86\u5404\u79cd\u5904\u7406\u5668\u7cfb\u7edf IP\uff0c\u5305\u62ec MicroBlaze\u2122 \u5fae\u5904\u7406\u5668\u548c Zynq\u00ae UltraScale+\u2122 MPSoC \u7b49\u3002\u8fd9\u4e9b IP \u6838\u5141\u8bb8\u8bbe\u8ba1\u8005\u5728 FPGA \u6216 SoC \u4e2d\u96c6\u6210\u5904\u7406\u5668\uff0c\u5b9e\u73b0\u8f6f\u786c\u4ef6\u534f\u540c\u8bbe\u8ba1\u3002</p> </li> <li> <p>\u903b\u8f91\u548c\u7b97\u672f IP\uff1aVivado \u5305\u542b\u4e86\u4e00\u7cfb\u5217\u7684\u903b\u8f91\u548c\u7b97\u672f IP \u6838\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>\u5e38\u89c1\u903b\u8f91\u95e8\uff1aAND\u3001OR\u3001XOR \u7b49\u3002</li> <li>\u591a\u8f93\u5165\u903b\u8f91\uff1aLUT\uff08\u67e5\u627e\u8868\uff09\u7b49\u3002</li> <li>\u7b97\u672f\u8fd0\u7b97\uff1a\u52a0\u6cd5\u5668\u3001\u51cf\u6cd5\u5668\u3001\u4e58\u6cd5\u5668\u7b49\u3002</li> </ul> </li> <li> <p>\u901a\u4fe1\u548c\u5b58\u50a8 IP\uff1aVivado \u63d0\u4f9b\u4e86\u7528\u4e8e\u901a\u4fe1\u548c\u5b58\u50a8\u7684 IP \u6838\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>DDR \u63a7\u5236\u5668\uff1a\u7528\u4e8e\u8fde\u63a5\u5916\u90e8 DDR \u5b58\u50a8\u5668\u3002</li> <li>PCI Express \u63a7\u5236\u5668\uff1a\u7528\u4e8e\u5b9e\u73b0 PCI Express \u63a5\u53e3\u3002</li> <li>\u4ee5\u592a\u7f51\u63a7\u5236\u5668\uff1a\u7528\u4e8e\u5b9e\u73b0\u4ee5\u592a\u7f51\u901a\u4fe1\u3002</li> </ul> </li> <li> <p>\u89c6\u9891\u548c\u56fe\u50cf\u5904\u7406 IP\uff1aVivado \u5305\u542b\u4e00\u4e9b\u7528\u4e8e\u89c6\u9891\u548c\u56fe\u50cf\u5904\u7406\u7684 IP \u6838\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>\u89c6\u9891\u8f93\u5165\u8f93\u51fa\uff08VIO\uff09\uff1a\u7528\u4e8e\u5904\u7406\u89c6\u9891\u8f93\u5165\u548c\u8f93\u51fa\u3002</li> <li>\u89c6\u9891\u5904\u7406\u5668\uff1a\u7528\u4e8e\u56fe\u50cf\u7f29\u653e\u3001\u6ee4\u6ce2\u7b49\u5904\u7406\u3002</li> </ul> </li> <li> <p>\u6570\u5b57\u4fe1\u53f7\u5904\u7406\uff08DSP\uff09IP\uff1aVivado \u63d0\u4f9b\u4e86\u7528\u4e8e\u6570\u5b57\u4fe1\u53f7\u5904\u7406\u7684 IP \u6838\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>FIR \u548c IIR \u6ee4\u6ce2\u5668\uff1a\u7528\u4e8e\u6570\u5b57\u4fe1\u53f7\u6ee4\u6ce2\u3002</li> <li>FFT\uff1a\u7528\u4e8e\u5feb\u901f\u5085\u7acb\u53f6\u53d8\u6362\u3002</li> </ul> </li> <li> <p>\u7cfb\u7edf\u7ba1\u7406 IP\uff1aVivado \u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u7528\u4e8e\u7cfb\u7edf\u7ba1\u7406\u7684 IP \u6838\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>\u7cfb\u7edf\u76d1\u89c6\u5668\uff1a\u7528\u4e8e\u76d1\u89c6\u7cfb\u7edf\u6027\u80fd\u548c\u8d44\u6e90\u5229\u7528\u7387\u3002</li> <li>\u65f6\u949f\u7ba1\u7406\u5668\uff1a\u7528\u4e8e\u751f\u6210\u548c\u7ba1\u7406\u65f6\u949f\u4fe1\u53f7\u3002</li> </ul> </li> </ul> <p>\u4e0a\u8ff0\u8fd9\u4e9b IP \u6838\u53ef\u901a\u8fc7 Vivado \u7684\u56fe\u5f62\u7528\u6237\u754c\u9762\uff08GUI\uff09\u6216\u547d\u4ee4\u884c\u754c\u9762\uff08Tcl shell\uff09\u8fdb\u884c\u914d\u7f6e\u548c\u96c6\u6210\u3002\u8bbe\u8ba1\u8005\u53ef\u4ee5\u6839\u636e\u4ed6\u4eec\u7684\u7279\u5b9a\u9700\u6c42\u9009\u62e9\u5e76\u96c6\u6210\u8fd9\u4e9b IP \u6838\uff0c\u4ece\u800c\u52a0\u901f\u6570\u5b57\u7cfb\u7edf\u7684\u8bbe\u8ba1\u8fc7\u7a0b\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c06\u5bf9\u5176\u4e2d\u7684\u4e24\u79cd\u8fdb\u884c\u4ecb\u7ecd\uff1a\u65f6\u949f IP \u6838\uff0c\u4ee5\u53ca\u5b58\u50a8\u5668 IP \u6838\u3002</p>"},{"location":"lab2/IP/#ip_1","title":"\u5b58\u50a8\u5668 IP \u6838","text":"<p>Vivado \u63d0\u4f9b\u4e86\u4e24\u79cd\u5b58\u50a8\u5668\uff1a\u5206\u5e03\u5f0f\u5b58\u50a8\u5668\u4e0e\u5757\u5f0f\u5b58\u50a8\u5668\u3002\u6211\u4eec\u540c\u6837\u6253\u5f00 Vivado \u8fdb\u5165\u9879\u76ee\u754c\u9762\u3002\u70b9\u51fb IP catalog\uff0c\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u4e2d\u641c\u7d22 Distributed Memory Generator\uff08\u5206\u5e03\u5f0f\u5b58\u50a8\u5668\uff09\u6216 Block Memory Generator\uff08\u5757\u5f0f\u5b58\u50a8\u5668\uff09\u5373\u53ef\u627e\u5230\u3002\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u641c\u7d22 mem\uff0c\u6309\u7167\u4e0b\u56fe\u6240\u793a\u7684\u65b9\u6cd5\u627e\u5230\u8fd9\u4e24\u4e2a IP \u6838\u3002</p> <p></p> <p>\u5206\u5e03\u5f0f\u5b58\u50a8\u5668\u662f\u5206\u5e03\u5728 FPGA \u7684\u903b\u8f91\u8d44\u6e90\u4e2d\u7684\u5c0f\u89c4\u6a21\u5b58\u50a8\u5668\u5355\u5143\u3002\u6bcf\u4e2a\u5b58\u50a8\u5668\u5355\u5143\u901a\u5e38\u5305\u542b\u6570\u5341\u5230\u6570\u767e\u4e2a\u5b58\u50a8\u4f4d\u3002\u5b58\u50a8\u5728\u5206\u5e03\u5f0f\u5b58\u50a8\u5668\u4e2d\u7684\u6570\u636e\u4e0e\u903b\u8f91\u7535\u8def\u5171\u4eab\u540c\u4e00\u7247 FPGA \u82af\u7247\u7684 LUTs\uff08\u67e5\u627e\u8868\uff09\u3002\u5206\u5e03\u5f0f\u5b58\u50a8\u5668\u901a\u5e38\u7528\u4e8e\u5b58\u50a8\u8f83\u5c0f\u89c4\u6a21\u7684\u6570\u636e\uff0c\u5982\u5c40\u90e8\u53d8\u91cf\u3001\u4e2d\u95f4\u7ed3\u679c\u7b49\u3002</p> <p>\u5757\u5b58\u50a8\u5668\u662f FPGA \u4e2d\u7684\u786c\u4ef6\u5757\uff0c\u901a\u5e38\u62e5\u6709\u66f4\u5927\u7684\u5b58\u50a8\u5bb9\u91cf\u548c\u66f4\u9ad8\u7684\u5e26\u5bbd\u3002\u5b58\u50a8\u5728\u5757\u5b58\u50a8\u5668\u4e2d\u7684\u6570\u636e\u662f\u4e13\u7528\u7684\uff0c\u4e0d\u4e0e\u903b\u8f91\u7535\u8def\u5171\u4eab LUTs\u3002\u5757\u5b58\u50a8\u5668\u53ef\u4ee5\u770b\u4f5c\u662f FPGA \u4e2d\u7684\u786c\u4ef6\u5185\u5b58\u5757\uff0c\u9002\u7528\u4e8e\u5b58\u50a8\u5927\u91cf\u7684\u6570\u636e\u3002</p> <p>\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u5efa\u8bae\u5927\u5bb6\u4f18\u5148\u4f7f\u7528\u5206\u5e03\u5f0f\u5b58\u50a8\u5668\u3002\u4e0b\u9762\u6211\u4eec\u4ee5\u5206\u5e03\u5f0f\u5b58\u50a8\u5668\u4e3a\u4f8b\u4ecb\u7ecd\u76f8\u5173\u7684\u7ec6\u8282\u3002</p> <p></p> <p>memory config \u4e00\u680f\u5b9a\u4e49\u4e86\u5b58\u50a8\u5668\u7684\u57fa\u672c\u4fe1\u606f\u3002</p> <ul> <li>Options \u4e2d Depth \u53c2\u6570\u5b9a\u4e49\u4e86\u5b58\u50a8\u5355\u5143\u7684\u4e2a\u6570\uff0cData Width \u5b9a\u4e49\u4e86\u6bcf\u4e2a\u5b58\u50a8\u5355\u5143\u7684 bit \u6570\u3002\u4f8b\u5982\uff0c\u4e0a\u56fe\u4e2d\u6240\u793a\u7684\u53c2\u6570\u5b9a\u4e49\u4e86\u4e00\u4e2a \\(64\\times16\\) bits \u5927\u5c0f\u7684\u5b58\u50a8\u5668\u3002\u5de6\u4fa7\u7684\u7f29\u7565\u56fe\u4e2d\u5730\u5740\u4fe1\u53f7 <code>a</code> \u7684\u4f4d\u5bbd\u4e3a \\(\\log_264=6\\)\uff0c\u5199\u5165\u6570\u636e\u4fe1\u53f7 <code>d</code> \u548c\u8bfb\u51fa\u6570\u636e\u4fe1\u53f7 <code>spo</code> \u7684\u4f4d\u5bbd\u5747\u4e3a 16\u3002</li> <li>Memory Type \u4e00\u680f\u5b9a\u4e49\u4e86\u5b58\u50a8\u5668\u7684\u7c7b\u578b\u3002\u652f\u6301\u7684\u56db\u79cd\u7c7b\u578b\u5305\u62ec\uff1a<ul> <li>ROM\uff1a\u53ea\u8bfb\u5b58\u50a8\u5668\u3002\u4ec5\u5305\u542b\u5730\u5740\u7aef\u53e3 <code>a</code> \u548c\u8bfb\u51fa\u6570\u636e\u7aef\u53e3 <code>spo</code>\uff0c\u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a\u5927\u578b\u67e5\u627e\u8868 LUT\u3002</li> <li>Single Port RAM\uff1a\u5355\u7aef\u53e3\u5b58\u50a8\u5668\u3002\u8bfb\u5199\u4f7f\u7528\u76f8\u540c\u5730\u5740\uff0c\u4f9d\u636e\u5199\u4f7f\u80fd\u4fe1\u53f7 <code>we</code> \u662f\u5426\u6709\u6548\u8fdb\u884c\u533a\u5206\u3002</li> <li>Simple Dual Port RAM\uff1a\u7b80\u5355\u53cc\u7aef\u53e3\u5b58\u50a8\u5668\u3002\u8bfb\u53d6\u4f7f\u7528\u4e13\u95e8\u7684\u5730\u5740 <code>dpra</code> \u548c\u8bfb\u51fa\u6570\u636e <code>dpo</code>\uff0c\u5199\u5165\u4f7f\u7528\u4e13\u95e8\u7684\u5730\u5740 <code>a</code> \u548c <code>d</code>\u3002\u4e24\u7ec4\u7aef\u53e3\u4e4b\u95f4\u4e92\u4e0d\u5e72\u6270\u3002</li> <li>Dual Port RAM\uff1a\u771f\u6b63\u53cc\u7aef\u53e3\u5b58\u50a8\u5668\u3002\u4e0e\u7b80\u5355\u53cc\u7aef\u53e3\u5b58\u50a8\u5668\u7684\u4e0d\u540c\u5728\u4e8e\uff0c<code>a</code> \u7aef\u53e3\u662f\u53ef\u8bfb\u53ef\u5199\u7684\uff0c\u6839\u636e <code>we</code> \u4fe1\u53f7\u8fdb\u884c\u533a\u5206\uff0c\u8be5\u7aef\u53e3\u7684\u8bfb\u51fa\u6570\u636e\u4ece <code>spo</code> \u7aef\u53e3\u8f93\u51fa\u3002<code>dpra</code> \u4f9d\u7136\u662f\u53ea\u8bfb\u7aef\u53e3\uff0c\u4e8c\u8005\u4e92\u4e0d\u5e72\u6270\u3002</li> </ul> </li> </ul> <p>Port config \u754c\u9762\u5bf9\u4e8e\u5b58\u50a8\u5668\u7684\u8f93\u5165\u548c\u8f93\u51fa\u7aef\u53e3\u8fdb\u884c\u4e86\u66f4\u4e3a\u7ec6\u81f4\u7684\u8bbe\u7f6e\u3002\u6b64\u5904\u8bf7\u5168\u90e8\u9009\u62e9 Non Registered\uff0c\u611f\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u81ea\u884c\u63a2\u7d22\u5176\u4ed6\u9009\u9879\u7684\u610f\u4e49\u3002</p> <p>RST &amp; Initialization \u754c\u9762\u5b9a\u4e49\u4e86\u5b58\u50a8\u5668\u7684\u521d\u59cb\u5316\u4fe1\u606f\u3002IP \u6838\u4f7f\u7528\u4e00\u79cd\u7279\u5b9a\u7684\u6587\u4ef6\uff1aCOE \u6587\u4ef6\u8fdb\u884c\u521d\u59cb\u5316\u3002\u8be5\u6587\u4ef6\u7684\u4ecb\u7ecd\u5982\u4e0b\uff1a</p> <pre><code>; Sample Initialization file for a 32x16 distributed ROM \uff08\u6ce8\u91ca\u884c\uff09\nmemory_initialization_radix = 16;\nmemory_initialization_vector =\n23f4 0721 11ff ABe1 0001 1 0A 0\n23f4 0721 11ff ABe1 0001 1 0A 0\n23f4 721 11ff ABe1 0001 1 A 0\n23f4 721 11ff ABe1 0001 1 A 0;\n</code></pre> <p>\u7b2c\u4e00\u884c\u4e3a\u6ce8\u91ca\uff0c\u8868\u660e\u8fd9\u662f\u4e00\u4e2a \\(32\\times16\\) bits \u7684\u5b58\u50a8\u5668\u3002<code>memory_initialization_radix</code> \u6307\u5b9a\u4e86\u8f93\u5165\u6570\u636e\u4e3a 16 \u8fdb\u5236\u8868\u793a\u3002<code>memory_initialization_vector</code> \u6307\u5b9a\u4e86\u5b58\u50a8\u5668\u6bcf\u4e00\u4e2a\u5b58\u50a8\u5355\u5143\u7684\u521d\u59cb\u6570\u503c\u3002\u4f8b\u5982\uff0c<code>MEM[0] = 16'H23f4</code>\uff0c<code>mem[1] = 16'H0721</code>\uff0c<code>mem[6] = 16'H000a</code>\u3002COE \u6587\u4ef6\u4f7f\u7528\u9017\u53f7\u3001\u7a7a\u683c\u6216\u6362\u884c\u7b26\u5206\u9694\u6bcf\u4e00\u4e2a\u6570\u636e\uff0c\u6570\u636e\u662f\u6309\u987a\u5e8f\u5199\u5165\u7684\uff0c\u6700\u540e\u4ee5\u5206\u53f7\u4f5c\u4e3a\u7ed3\u5c3e\u3002</p> <p>\u5b8c\u6210 IP \u6838\u7684\u8bbe\u7f6e\u540e\uff0c\u4fbf\u53ef\u4ee5\u5355\u51fb <code>OK</code> \u751f\u6210 IP \u6838\u4e86\u3002\u5bf9\u4e8e\u751f\u6210\u597d\u7684 IP \u6838\uff0c\u53ef\u4ee5\u4ece .veo \u6587\u4ef6\u4e2d\u67e5\u770b\u4f8b\u5316\u6240\u9700\u8981\u7684\u7aef\u53e3\u4fe1\u606f\uff0c\u4e4b\u540e\u5c31\u53ef\u4ee5\u50cf\u666e\u901a\u6a21\u5757\u4e00\u6837\u5728\u9879\u76ee\u4e2d\u4f8b\u5316 IP \u6838\u3002</p> <p></p>"},{"location":"lab2/RF/","title":"\u5bc4\u5b58\u5668\u5806","text":""},{"location":"lab2/RF/#_2","title":"\u5bc4\u5b58\u5668","text":"<p>\u5bc4\u5b58\u5668\u662f\u5341\u5206\u57fa\u7840\u7684\u65f6\u5e8f\u903b\u8f91\u5143\u4ef6\u3002\u5728\u300c\u6570\u5b57\u7535\u8def\u5b9e\u9a8c\u300d\u4e2d\u6211\u4eec\u63d0\u5230\uff1a\u53ef\u4ee5\u901a\u8fc7 D \u9501\u5b58\u5668\u642d\u5efa\u4e00\u4e2a\u57fa\u7840\u7684 D \u89e6\u53d1\u5668\u5355\u5143\u3002</p> \u4ec0\u4e48\u662f D \u9501\u5b58\u5668\uff1f <p>\u8bf7\u53c2\u8003\u6570\u5b57\u7535\u8def\u5b9e\u9a8c\u6559\u7a0b\u4e2d\u7684\u76f8\u5173\u4ecb\u7ecd\u3002</p> <p></p> D \u89e6\u53d1\u5668 <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u6211\u4eec\u5c06\u4e24\u4e2a D \u9501\u5b58\u5668\u7ea7\u8054\uff0c\u5e76\u52a0\u5165\u4e00\u4e2a\u975e\u95e8\uff0c\u5c31\u5f97\u5230\u4e86 D \u89e6\u53d1\u5668\uff08D flip flop\uff09\u3002\u8fd9\u91cc\u6211\u4eec\u8ba9\u63a7\u5236\u4fe1\u53f7\u4ee5\u4e00\u5b9a\u7684\u5468\u671f\u8fdb\u884c\u9ad8\u4f4e\u7535\u5e73\u7ffb\u8f6c\uff0c\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u65f6\u949f Clock \u4fe1\u53f7\uff0c\u56e0\u6b64\u8bb0\u4f5c clk\u3002\u7535\u8def\u7684\u5206\u6790\u5982\u4e0b\uff1a</p> <ul> <li> <p>\u5f53 clk \u4e3a\u4f4e\u7535\u5e73\u65f6\uff0c\u524d\u4e00\u4e2a\u9501\u5b58\u5668\u5904\u4e8e\u66f4\u65b0\u72b6\u6001\uff0c\u6b64\u65f6 D \u7aef\u8f93\u5165\u53ef\u4ee5\u76f4\u63a5\u5199\u5165\u524d\u4e00\u4e2a\u9501\u5b58\u5668\u3002\u540e\u4e00\u4e2a\u9501\u5b58\u5668\u5904\u4e8e\u4fdd\u6301\u72b6\u6001\uff0c\u65e0\u8bba\u524d\u4e00\u4e2a\u9501\u5b58\u5668\u8f93\u51fa\u5982\u4f55\uff0c\u540e\u4e00\u4e2a\u9501\u5b58\u5668\u5747\u4fdd\u6301\u81ea\u8eab\u539f\u5148\u7684\u6570\u503c\u4e0d\u53d8\u3002</p> </li> <li> <p>\u5f53 clk \u4e3a\u9ad8\u7535\u5e73\u65f6\uff0c\u524d\u4e00\u4e2a\u9501\u5b58\u5668\u5904\u4e8e\u4fdd\u5b58\u72b6\u6001\uff0c\u6b64\u65f6 D \u7aef\u8f93\u5165\u65e0\u6cd5\u5199\u5165\u524d\u4e00\u4e2a\u9501\u5b58\u5668\u3002\u540e\u4e00\u4e2a\u9501\u5b58\u5668\u5904\u4e8e\u66f4\u65b0\u72b6\u6001\uff0c\u5c06\u4f1a\u5199\u5165\u524d\u4e00\u4e2a\u9501\u5b58\u5668\u7684\u503c\u3002\u8fd9\u4e2a\u65f6\u5019\u6bdb\u523a\u4fe1\u53f7\u5747\u65e0\u6cd5\u5f71\u54cd\u5230\u540e\u4e00\u4e2a\u9501\u5b58\u5668\uff0c\u56e0\u800c\u589e\u5f3a\u4e86\u7535\u8def\u7684\u7a33\u5b9a\u6027\u3002</p> </li> </ul> <p>\u901a\u8fc7\u975e\u95e8\uff0c\u4e24\u4e2a D \u9501\u5b58\u5668\u7684\u65f6\u949f\u5b58\u5728\u4e00\u4e2a 180\u00b0 \u7684\u76f8\u4f4d\u5dee\uff08\u4e5f\u5c31\u662f\u662f\u76f8\u5dee\u534a\u4e2a\u65f6\u949f\u5468\u671f\uff09\uff0c\u4ece\u800c\u5b9e\u73b0\uff1a\u53ea\u5728\u65f6\u949f\u4e0a\u5347\u6cbf\u7684\u65f6\u5019\u8bfb\u53d6\u8f93\u5165\u5e76\u8f93\u51fa\uff0c\u5176\u4ed6\u65f6\u5019\u8f93\u5165\u7684\u53d8\u5316\u4e0d\u4f1a\u4f20\u5bfc\u5230\u8f93\u51fa\u7aef\u3002</p> <p>\u4e0a\u9762\u7684 Logisim \u7535\u8def\u4e0e\u4e0b\u9762\u7684 Verilog \u4ee3\u7801\u5bf9\u5e94\uff1a</p> D \u89e6\u53d1\u5668<pre><code>always @(posedge clk) begin\n    Q &lt;= D;\nend\n</code></pre> <p>\u4e3a\u4e86\u66f4\u597d\u5730\u63a7\u5236\u89e6\u53d1\u5668\u7684\u884c\u4e3a\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a D \u89e6\u53d1\u5668\u589e\u52a0\u4f7f\u80fd\u7aef enable\uff0c\u5f97\u5230\u95e8\u63a7\u7684 D \u89e6\u53d1\u5668\u3002</p> <p></p> \u95e8\u63a7 D \u89e6\u53d1\u5668 <p>\u5982\u4e0a\u56fe\u6240\u793a\u3002\u5f53 enable \u4fe1\u53f7\u4e3a 0 \u65f6\uff0c\u7535\u8def\u5c06\u6301\u7eed\u5199\u5165\u5185\u90e8\u4fdd\u5b58\u7684\u6570\u503c\uff0c\u4e0d\u4f1a\u88ab\u5916\u754c\u8f93\u5165 D \u66f4\u65b0\u3002\u8fd9\u5c31\u662f\u4e00\u4e2a\u6700\u4e3a\u57fa\u672c\u7684\u5bc4\u5b58\u5668\u5355\u5143\uff0c\u4e0e\u4e4b\u5bf9\u5e94\u7684 Verilog \u4ee3\u7801\u5982\u4e0b\uff1a</p> \u95e8\u63a7 D \u89e6\u53d1\u5668<pre><code>always @(posedge clk) begin\n    if (enable)\n        Q &lt;= D;\n    else\n        Q &lt;= Q;\nend\n</code></pre> <p>\u5728\u5b9e\u9645\u7684\u5e94\u7528\u4e2d\uff0c\u5bc4\u5b58\u5668\u5f80\u5f80\u4f1a\u6709\u4e00\u4e2a\u4f7f\u80fd\u7aef\u53e3\u548c\u590d\u4f4d\u7aef\u53e3\uff0c\u4ee5\u4fbf\u7528\u6237\u66f4\u597d\u5730\u63a7\u5236\u5bc4\u5b58\u5668\u7684\u884c\u4e3a\u3002</p>"},{"location":"lab2/RF/#_3","title":"\u5bc4\u5b58\u5668\u5806","text":"<p>\u4e0a\u9762\u4ecb\u7ecd\u7684\u5bc4\u5b58\u5668\u4ec5\u80fd\u5b58\u50a8 1 \u4f4d\u7684\u6570\u636e\u3002\u4e3a\u4e86\u63d0\u9ad8\u5176\u5b58\u50a8\u5bb9\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u591a\u4e2a\u5bc4\u5b58\u5668\u62fc\u63a5\u8d77\u6765\uff0c\u7ec4\u6210\u4e00\u4e2a\u5927\u7684\u5bc4\u5b58\u5668\u9635\u5217\uff0c\u8fd9\u5c31\u5f97\u5230\u4e86\u5bc4\u5b58\u5668\u5806\u3002</p> <p>\u5bc4\u5b58\u5668\u5806\u662f CPU \u4e2d\u7684\u4e34\u65f6\u6570\u636e\u5b58\u50a8\u5355\u5143\u3002\u5728\u6211\u4eec\u7684 CPU \u4e2d\uff0c\u5bc4\u5b58\u5668\u5806\u6709 1 \u4e2a\u5199\u7aef\u53e3\uff0c2 \u4e2a\u8bfb\u7aef\u53e3\u3002\u672c\u6b21\u5b9e\u9a8c\u4e2d\uff0c\u5bc4\u5b58\u5668\u5806\u7684\u5927\u5c0f\u4e3a \\(32\\times32\\) \u6bd4\u7279\uff0c\u4e5f\u5c31\u662f\u5305\u542b 32 \u4e2a\u4f4d\u5bbd\u4e3a 32 \u6bd4\u7279\u7684\u5bc4\u5b58\u5668\u7684\u9635\u5217\u3002</p> <p>\u4e0b\u9762\u662f\u5bc4\u5b58\u5668\u5806\u6a21\u5757\u7684\u793a\u610f\u56fe\uff1a</p> <p></p> \u5bc4\u5b58\u5668\u5806\u793a\u610f\u56fe <p>\u5176\u4e2d\uff0crf_ra0 - rf_rd0\u3001rf_ra1 - rf_rd1 \u4e3a\u6570\u636e\u8bfb\u53d6\u7aef\u53e3\uff1brf_wd - rf_wa \u4e3a\u6570\u636e\u5199\u5165\u7aef\u53e3\uff1brf_we \u4e3a\u5199\u4f7f\u80fd\u4fe1\u53f7\u3002</p> <p>\u4e3a\u4e86\u5e2e\u52a9\u5927\u5bb6\u66f4\u597d\u5730\u7406\u89e3\u5bc4\u5b58\u5668\u5806\u7684\u4f5c\u7528\uff0c\u6211\u4eec\u4e3a\u5927\u5bb6\u63d0\u4f9b\u4e86\u4e00\u4e2a\u57fa\u7840\u7684\u5bc4\u5b58\u5668\u5806\u4ee3\u7801\u3002</p> \u5bc4\u5b58\u5668\u5806<pre><code>module REG_FILE (\n    input                   [ 0 : 0]        clk,\n\n    input                   [ 4 : 0]        rf_ra0,\n    input                   [ 4 : 0]        rf_ra1,   \n    input                   [ 4 : 0]        rf_wa,\n    input                   [ 0 : 0]        rf_we,\n    input                   [31 : 0]        rf_wd,\n\n    output                  [31 : 0]        rf_rd0,\n    output                  [31 : 0]        rf_rd1\n);\n\n    reg [31 : 0] reg_file [0 : 31];\n\n    // \u7528\u4e8e\u521d\u59cb\u5316\u5bc4\u5b58\u5668\n    integer i;\n    initial begin\n        for (i = 0; i &lt; 32; i = i + 1)\n            reg_file[i] = 0;\n    end\n\n    always @(posedge clk) begin\n        reg_file[rf_wa] &lt;= rf_wd;\n    end\n\nendmodule\n</code></pre> <p>\u4e3a\u4e86\u652f\u6301 LA32R \u548c RV32I \u6307\u4ee4\u96c6\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u9700\u8981\u505a\u51fa\u5982\u4e0b\u6539\u52a8\uff1a</p> <ul> <li>0 \u53f7\u5bc4\u5b58\u5668\u59cb\u7ec8\u4e3a 0\uff0c\u6c38\u8fdc\u65e0\u6cd5\u88ab\u66f4\u6539\uff1b</li> <li>\u65f6\u949f\u4e0a\u5347\u6cbf\u5230\u6765\u65f6\uff0c\u5982\u679c\u5199\u4f7f\u80fd\u4fe1\u53f7\u6709\u6548\uff0c\u5219\u8fdb\u884c\u5199\u5165\u64cd\u4f5c\uff0c\u5426\u5219\u4e0d\u8fdb\u884c\u5199\u5165\u64cd\u4f5c\uff1b</li> <li>\u5bc4\u5b58\u5668\u5806\u7684\u8bfb\u64cd\u4f5c\u662f\u65f6\u949f\u5f02\u6b65\u7684\uff08\u5b9e\u9645\u4e0a\u662f\u7ec4\u5408\u903b\u8f91\uff09\uff0c\u5373\u53ea\u8981\u5730\u5740\u7ed9\u5b9a\uff0c\u5bf9\u5e94\u5bc4\u5b58\u5668\u7684\u6570\u503c\u5c31\u80fd\u8bfb\u51fa\uff0c\u800c\u65e0\u9700\u7b49\u5f85\u65f6\u949f\u8fb9\u6cbf\u7684\u5230\u6765\u3002</li> </ul> <p>\u5199\u4f18\u5148</p> <p>\u5982\u679c\u4f60\u66fe\u7ecf\u5199\u8fc7\u300c\u5199\u4f18\u5148\u300d\u7684\u5bc4\u5b58\u5668\u5806\uff0c\u8bf7\u4e00\u5b9a\u8981\u5728\u8fd9\u91cc\u5c06\u5176\u5220\u9664\u3002\u5355\u5468\u671f CPU \u4e2d\u5f15\u5165\u5199\u4f18\u5148\u5c06\u4f1a\u5bfc\u81f4\u7ec4\u5408\u73af\u3002</p> \u4e3a\u4ec0\u4e48\u5bc4\u5b58\u5668\u5806\u6ca1\u6709\u590d\u4f4d\u7aef\u53e3\uff1f <p>\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u7684 CPU \u5e76\u6ca1\u6709\u5bf9\u5bc4\u5b58\u5668\u8fdb\u884c\u590d\u4f4d\u7684\u529f\u80fd\u9700\u6c42\u3002\u7528\u6237\u5728\u7f16\u5199\u6c47\u7f16\u7a0b\u5e8f\u65f6\uff0c\u9664\u4e86 0 \u53f7\u5bc4\u5b58\u5668\u59cb\u7ec8\u4e3a 0 \u4e4b\u5916\uff0c\u4e0d\u5e94\u5f53\u5047\u5b9a\u4efb\u4f55\u5bc4\u5b58\u5668\u5177\u6709\u56fa\u5b9a\u7684\u521d\u59cb\u503c\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5728\u5b9e\u73b0 CPU \u65f6\uff0c\u4e5f\u53d6\u6d88\u4e86\u5bc4\u5b58\u5668\u5806\u7684\u590d\u4f4d\u7aef\u53e3\u4fe1\u53f7\u3002</p>"},{"location":"lab3/","title":"\u5b9e\u9a8c 3\uff1a\u7b80\u5355\u5355\u5468\u671f CPU","text":"<p>\u63d0\u95ee\u6c47\u603b</p> <p>\u5173\u4e8e\u672c\u6b21\u5b9e\u9a8c\u4e2d\u5927\u5bb6\u9047\u5230\u7684\u95ee\u9898\uff0c\u8bf7\u9605\u8bfb\u8fd9\u91cc\u3002</p>"},{"location":"lab3/#_1","title":"\u5b9e\u9a8c\u76ee\u7684","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u7ec8\u4e8e\u53ef\u4ee5\u5f00\u59cb\u642d\u5efa\u81ea\u5df1\u7684\u7b2c\u4e00\u4e2a CPU \u4e86\u3002\u5f53\u7136\uff0c\u8fd9\u53ea\u662f\u4e00\u4e2a\u5341\u5206\u57fa\u7840\u7684\u5355\u5468\u671f CPU\uff0c\u4f46\u8fd9\u5c06\u662f\u300c\u56fe\u7075\u5b8c\u5907\u300d\u5728 COD \u8bfe\u7a0b\u4e2d\u7684\u76f4\u63a5\u4f53\u73b0\u3002</p> <p>\u5355\u5468\u671f CPU\uff08Single Cycle Processor\uff09\u662f\u6307\u4e00\u6761\u6307\u4ee4\u5728\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u5185\u5b8c\u6210\uff0c\u5e76\u5728\u4e0b\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u5f00\u59cb\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u6267\u884c\u7684 CPU\u3002\u5355\u5468\u671f CPU \u7531\u65f6\u949f\u7684\u4e0a\u5347\u6cbf\u6216\u4e0b\u964d\u6cbf\u63a7\u5236\u76f8\u5173\u64cd\u4f5c\uff0c\u4e24\u4e2a\u76f8\u90bb\u7684\u4e0a\u5347\u6cbf\u6216\u4e0b\u964d\u6cbf\u4e4b\u95f4\u7684\u65f6\u95f4\u95f4\u9694\u5c31\u662f CPU \u7684\u65f6\u949f\u5468\u671f\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8e\u6ca1\u6709\u989d\u5916\u7684\u6682\u5b58\u5bc4\u5b58\u5668\uff0c\u5355\u5468\u671f\u901a\u8def\u4e2d\u7684\u5173\u952e\u8def\u5f84\u5bf9\u5e94\u7684\u5ef6\u8fdf\u5f88\u9ad8\uff0c\u4ee5\u81f4\u4e8e\u4e0a\u677f\u65f6\u7684\u5355\u6761\u6307\u4ee4\u8fd0\u884c\u65f6\u957f\u5927\u4e8e 10 \u7eb3\u79d2\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u5f00\u53d1\u677f\u4e0a\u7684 100MHz \u65f6\u949f\u4f5c\u4e3a CPU \u7684\u8fd0\u884c\u65f6\u949f\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u4e0a\u677f\u65f6\u6211\u4eec\u4e5f\u65e0\u6cd5\u4e86\u89e3\u5f53\u524d CPU \u8fd0\u884c\u5230\u54ea\u6761\u6307\u4ee4\uff0c\u4ee5\u53ca\u76f8\u5e94\u7684\u7ed3\u679c\u5982\u4f55\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u4e0d\u5f97\u4e0d\u8bf7\u51fa PDU \u6765\u5e2e\u52a9\u6211\u4eec\u5b8c\u6210\u8fd9\u4e9b\u5de5\u4f5c\u3002</p> <p>\u672c\u6b21\u5b9e\u9a8c\u6211\u4eec\u5c06\u5b9e\u73b0\u4e00\u4e2a\u6700\u4e3a\u57fa\u7840\u7684\u5355\u5468\u671f CPU\u3002\u8fd9\u4e2a CPU \u6ca1\u6709\u5206\u652f\u529f\u80fd\uff0c\u4e5f\u6ca1\u6709\u6570\u636e\u8bbf\u5b58\u529f\u80fd\uff0c\u53ea\u80fd\u8fdb\u884c\u57fa\u672c\u7684\u6570\u636e\u8fd0\u7b97\u3002\u4f46\u6211\u4eec\u4ecd\u5c06\u6df1\u523b\u9886\u609f\u5230 CPU\u3001PDU \u4ee5\u53ca MEM \u4e4b\u95f4\u662f\u5982\u4f55\u76f8\u534f\u540c\u5de5\u4f5c\u7684\u3002</p>"},{"location":"lab3/#_2","title":"\u5b9e\u9a8c\u5185\u5bb9","text":"<p>\u4efb\u52a1 1\uff1a\u8bd1\u7801\u5668\u8bbe\u8ba1\uff083 \u5206\uff09</p> <p>\u8bf7\u6839\u636e\u81ea\u5df1\u9009\u62e9\u7684\u6307\u4ee4\u96c6\uff0c\u8bbe\u8ba1\u8bd1\u7801\u5668 Decoder \u6a21\u5757\uff0c\u4ee5\u6b63\u786e\u751f\u6210\u63a7\u5236\u4fe1\u53f7\u3002\u4f60\u53ef\u4ee5\u7ed3\u5408\u4eff\u771f\u8bc1\u660e\u81ea\u5df1\u7684\u8bbe\u8ba1\u3002</p> <p>\u4efb\u52a1 2\uff1a\u642d\u5efa CPU\uff084 \u5206\uff09</p> <p>\u8bf7\u6b63\u786e\u5b9e\u73b0 CPU \u7684\u5404\u4e2a\u529f\u80fd\u6a21\u5757\uff0c\u5e76\u6839\u636e\u6570\u636e\u901a\u8def\u5c06\u5176\u6b63\u786e\u8fde\u63a5\u3002\u7406\u8bba\u4e0a\uff0c\u4f60\u53ea\u9700\u8981\u5b8c\u6210 CPU \u6a21\u5757\u53ca\u5176\u5b50\u6a21\u5757\u7684\u8bbe\u8ba1\uff0c\u800c\u65e0\u9700\u4fee\u6539\u5176\u4ed6\u6a21\u5757\u7684\u5185\u5bb9\u3002\u6700\u7ec8\uff0c\u4f60\u9700\u8981\u5728 FPGAOL \u4e0a\u4e0a\u677f\u8fd0\u884c\uff0c\u5e76\u901a\u8fc7\u6211\u4eec\u7ed9\u51fa\u7684\u6d4b\u8bd5\u7a0b\u5e8f\uff0c\u4e3a\u6b64\u4f60\u9700\u8981\u5b9e\u73b0 Lab1 \u5217\u51fa\u7684\u6307\u4ee4\u4e2d\uff0c\u4ece add.w\uff08add\uff09\u5230 pcaddu12i\uff08auipc\uff09\u4e4b\u95f4\u7684\u5168\u90e8\u6307\u4ee4\u3002</p> Lab3 \u9700\u8981\u5b9e\u73b0\u7684\u6c47\u7f16\u6307\u4ee4 LA32R \u4e2d\u6307\u4ee4 RV32I \u4e2d\u6307\u4ee4 \u6307\u4ee4\u529f\u80fd \u8bf4\u660e add.w rd, rj, rk add rd, rs1, rs2 GR[rd] = GR[rj] + GR[rk]  x[rd] = x[rs1] + x[rs2] \u6574\u6570\u52a0\u6cd5 addi.w rd, rj, imm addi rd, rs1, imm GR[rd] = GR[rj] + sext(imm)  x[rd] = x[rs1] + sext(imm) \u6574\u6570\u52a0\u6cd5 sub.w rd, rj, rk sub rd, rs1, rs2 GR[rd] = GR[rj] - GR[rk]  x[rd] = x[rs1] - x[rs2] \u6574\u6570\u51cf\u6cd5 slt rd, rj, rk slt rd, rs1, rs2 GR[rd] = (GR[rj] &lt; GR[rk])  x[rd] = (x[rs1] &lt; x[rs2]) \u6709\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 sltu rd, rj, rk sltu rd, rs1, rs2 GR[rd] = (GR[rj] &lt;u GR[rk])  x[rd] = (x[rs1] &lt;u x[rs2]) \u65e0\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 and rd, rj, rk and rd, rs1, rs2 GR[rd] = GR[rj] &amp; GR[rk]  x[rd] = x[rs1] &amp; x[rs2] \u6309\u4f4d\u4e0e or rd, rj, rk or rd, rs1, rs2 GR[rd] = GR[rj] | GR[rk]  x[rd] = x[rs1] | \ud835\udc65[rs2] \u6309\u4f4d\u6216 xor rd, rj, rk xor rd, rs1, rs2 GR[rd] = GR[rj] ^ GR[rk]  x[rd] = x[rs1] ^ \ud835\udc65[rs2] \u6309\u4f4d\u5f02\u6216 sll.w rd, rj, rk sll rd, rs1, rs2 GR[rd] = GR[rj] &lt;&lt; GR[rk][4:0]   x[rd] = x[rs1] &lt;&lt; x[rs2][4:0] \u903b\u8f91\u5de6\u79fb srl.w rd, rj, rk srl rd, rs1, rs2 GR[rd]= GR[rj] &gt;&gt; GR[rk][4:0]   x[rd] = x[rs1] &gt;&gt; x[rs2][4:0] \u903b\u8f91\u53f3\u79fb sra.w rd, rj, rk sra rd, rs1, rs2 GR[rd] = GR[rj] &gt;&gt;&gt; GR[rk][4:0]   x[rd] = x[rs1] &gt;&gt;&gt; x[rs2][4:0] \u7b97\u672f\u53f3\u79fb slli.w rd, rj, imm slli rd, rs1, shamt GR[rd] = GR[rj] &lt;&lt; imm  x[rd] = x[rs1] &lt;&lt; shamt \u903b\u8f91\u5de6\u79fb srli.w rd, rj, imm srli rd, rs1, shamt GR[rd] = GR[rj] &gt;&gt; imm  x[rd] = x[rs1] &gt;&gt; shamt \u903b\u8f91\u53f3\u79fb srai.w rd, rj, imm srai rd, rs1, shamt GR[rd] = GR[rj] &gt;&gt;&gt; imm   x[rd] = x[rs1] &gt;&gt;&gt; shamt \u7b97\u672f\u53f3\u79fb slti rd, rj, imm slti rd, rs1, imm GR[rd] = (GR[rj] &lt; sext(imm))  x[rd] = (x[rs1] &lt; sext(imm)) \u6709\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 sltui rd, rj, imm sltiu rd, rs1, imm GR[rd] = (GR[rj] &lt;u sext(imm))  x[rd] = (x[rs1] &lt;u sext(imm)) \u65e0\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 andi rd, rj, imm andi rd, rs1, imm GR[rd] = GR[rj] &amp; zext(imm)   x[rd] = x[rs1] &amp; sext(imm) \u6309\u4f4d\u4e0e ori rd, rj, imm ori rd, rs1, imm GR[rd] = GR[rj] | zext(imm)    x[rd] = x[rs1] | sext(imm) \u6309\u4f4d\u6216 xori rd, rj, imm xori rd, rs1, imm GR[rd] = GR[rj] ^ zext(imm)    x[rd] = x[rs1] ^  sext(imm) \u6309\u4f4d\u5f02\u6216 lu12i.w rd, imm lui rd, imm GR[rd] = imm &lt;&lt; 12  x[rd] = sext(imm &lt;&lt; 12) \u52a0\u8f7d\u9ad820\u4f4d\u7acb\u5373\u6570 pcaddu12i rd, imm auipc rd, imm GR[rd] = pc + sext(imm &lt;&lt; 12)  x[rd] = pc + sext(imm[31:12] &lt;&lt; 12) \u52a0\u8f7d\u52a0\u4e0a PC \u7684\u9ad8 20 \u4f4d\u7acb\u5373\u6570 LA32R \u7684\u6d4b\u8bd5\u6c47\u7f16\u7a0b\u5e8f <p>\u8bf7\u786e\u4fdd\u4e0b\u9762\u7684\u7a0b\u5e8f\u8fd0\u884c\u5b8c\u6210\u540e\uff0c\u5bc4\u5b58\u5668\u5806\u4e2d\u7684\u7ed3\u679c\u4e0e LARS \u8fd0\u884c\u7684\u7ed3\u679c\u4e00\u81f4\u3002</p> <ul> <li>\u4eff\u771f\u6846\u67b6\u7528\u7684\u6d4b\u8bd5\u6587\u4ef6\u5728\u8fd9\u91cc\u3002</li> <li>Vivado \u4eff\u771f\u4ee5\u53ca\u4e0a\u677f\u7528\u7684\u6d4b\u8bd5\u6587\u4ef6\u5728\u8fd9\u91cc\u3002</li> </ul> RV32I \u7684\u6d4b\u8bd5\u6c47\u7f16\u7a0b\u5e8f <p>\u8bf7\u786e\u4fdd\u4e0b\u9762\u7684\u7a0b\u5e8f\u8fd0\u884c\u5b8c\u6210\u540e\uff0c\u5bc4\u5b58\u5668\u5806\u4e2d\u7684\u7ed3\u679c\u4e0e RARS \u8fd0\u884c\u7684\u7ed3\u679c\u4e00\u81f4\u3002</p> <p>\u5728\u8fd9\u91cc\u3002</p> <p>\u5efa\u8bae</p> <p>\u4e3a\u4e86\u5b8c\u6210\u672c\u9879\u4efb\u52a1\uff0c\u4f60\u53ef\u4ee5\u6309\u7167\u4e0b\u9762\u7684\u987a\u5e8f\u8fdb\u884c\uff1a</p> <ol> <li>\u4f7f\u7528 Verilog \u786c\u4ef6\u63cf\u8ff0\u8bed\u8a00\u7f16\u5199 CPU \u5173\u952e\u90e8\u4ef6\u7684\u4ee3\u7801\uff0c\u4f8b\u5982\u7b97\u6570\u903b\u8f91\u5355\u5143\uff08ALU\uff09\u3001\u5bc4\u5b58\u5668\u5806\uff08RF\uff09\u3001\u7a0b\u5e8f\u8ba1\u6570\u5668\uff08PC\uff09\u3001\u8bd1\u7801\u5668\uff08DECODER\uff09\u3001\u591a\u8def\u9009\u62e9\u5668\uff08MUX\uff09\u7b49\u3002\u5176\u4e2d ALU\u3001RF \u5728 Lab2 \u4e2d\u5df2\u7ecf\u5b8c\u6210\u4e86\u8bbe\u8ba1\uff0cPC\u3001DECODER \u4ee5\u53ca MUX \u9700\u8981\u7ed3\u5408\u672c\u6b21\u5b9e\u9a8c\u7684\u6559\u7a0b\u8fdb\u884c\u8bbe\u8ba1\u3002\u8bf7\u6ce8\u610f\u81ea\u5df1\u4f7f\u7528\u7684\u6307\u4ee4\u96c6\u662f RV32I \u8fd8\u662f LA32R\uff0c\u4e8c\u8005\u5728\u672c\u6b21\u5b9e\u9a8c\u4e2d\u662f\u5b58\u5728\u5dee\u5f02\u7684\u3002</li> <li>\u7ed3\u5408\u6559\u7a0b\u4e2d\u63d0\u4f9b\u7684\u7b80\u5355\u5355\u5468\u671f CPU \u6570\u636e\u901a\u8def\uff0c\u5728\u6211\u4eec\u63d0\u4f9b\u7684 CPU \u6a21\u5757\u4e2d\u5c06\u4e0a\u8ff0\u90e8\u4ef6\u6b63\u786e\u8fde\u63a5\uff0c\u540c\u65f6\u4e5f\u5c06 CPU \u6a21\u5757\u7684\u63a5\u53e3\u6b63\u786e\u8fde\u63a5\u5230\u5185\u90e8\u5bf9\u5e94\u7684\u7ebf\u8def\u4e0a\u3002</li> <li>\u5c06\u6211\u4eec\u63d0\u4f9b\u7684\u6d4b\u8bd5\u6c47\u7f16\u7a0b\u5e8f\u5bfc\u5165\u6307\u4ee4\u5b58\u50a8\u5668\u3002</li> <li>\u5bf9\u4e8e\u4f7f\u7528 RV32I \u6307\u4ee4\u96c6\u7684\u540c\u5b66\uff0c\u53ef\u4ee5\u5c06 CPU \u6a21\u5757\u8bbe\u4e3a TOP\uff0c\u5e76\u7528 Vivado \u7684\u884c\u4e3a\u7ea7\u4eff\u771f\u9a8c\u8bc1 CPU \u6a21\u5757\u7684\u6b63\u786e\u6027\uff08\u4e0e RARS \u8fd0\u884c\u7684\u7ed3\u679c\u8fdb\u884c\u5bf9\u6bd4\uff09\uff1b\u5bf9\u4e8e\u4f7f\u7528 LA32R \u6307\u4ee4\u96c6\u7684\u540c\u5b66\uff0c\u9664\u4e86\u53ef\u4ee5\u4f7f\u7528 Vivado \u7684\u884c\u4e3a\u7ea7\u4eff\u771f\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u4eff\u771f\u6846\u67b6\u8fdb\u884c\u4eff\u771f\u6d4b\u8bd5\u3002\u4f7f\u7528\u4eff\u771f\u6846\u67b6\u524d\uff0c\u8bf7\u4ed4\u7ec6\u9605\u8bfb\u4f7f\u7528\u8bf4\u660e\uff0c\u5e76\u6b63\u786e\u914d\u7f6e\u597d\u9879\u76ee\u7ed3\u6784\u3002</li> <li>\u4eff\u771f\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u5c06\u6846\u67b6\u4e2d\u7684 TOP \u6a21\u5757\u8bbe\u5b9a\u4e3a\u9879\u76ee\u7684 TOP\uff0c\u5e76\u67e5\u770b Elaborated Design\u3002\u4f60\u9700\u8981\u53c2\u8003\u8fd9\u91cc\u4ecb\u7ecd\u7684\u5185\u5bb9\u6d88\u9664\u53ef\u80fd\u5b58\u5728\u7684 Bug\u3002</li> <li>\u5728\u786e\u4fdd TOP \u6a21\u5757\u4e3a\u9879\u76ee\u7684 TOP \u7684\u524d\u63d0\u4e0b\u751f\u6210\u6bd4\u7279\u6d41\uff0c\u5e76\u53c2\u8003 PDU \u4f7f\u7528\u624b\u518c\u5728 FPGAOL \u5e73\u53f0\u4e0a\u5b9e\u9645\u8fd0\u884c\u3002</li> </ol> <p>\u8bf7\u7262\u8bb0\uff1a Debug \u7684\u8fc7\u7a0b\u5e94\u5f53\u5728\u4eff\u771f\u9636\u6bb5\u5b8c\u6210\uff0c\u4e0a\u677f\u4ec5\u4ec5\u662f\u4e3a\u4e86\u8fd0\u884c\u6c47\u7f16\u7a0b\u5e8f\u3002</p> <p>\u4efb\u52a1 3\uff1a\u601d\u8003\u4e0e\u603b\u7ed3\uff083 \u5206\uff09</p> <p>\u8bf7\u5728\u5b9e\u9a8c\u62a5\u544a\u4e2d\u56de\u7b54\u4e0b\u9762\u7684\u95ee\u9898\uff1a</p> <ol> <li>\u672c\u6b21\u5b9e\u9a8c\u7684 CPU \u4e2d\uff0c\u54ea\u4e9b\u6a21\u5757\u7528\u5230\u4e86\u65f6\u949f\u4fe1\u53f7\uff1f</li> <li>\u8bf7\u5206\u522b\u7ed9\u51fa\u4e00\u6761\u6307\u4ee4\uff0c\u4ee5\u7b26\u5408\u4e0b\u9762\u7684\u63cf\u8ff0\uff1a<ul> <li>alu_src0 \u9009\u62e9 pc;</li> <li>alu_src0 \u9009\u62e9 rf_rd0\uff1b</li> <li>alu_src1 \u9009\u62e9 rf_rd1\uff1b</li> <li>alu_src1 \u9009\u62e9 imm\uff1b </li> </ul> </li> <li>\u8bf7\u6307\u51fa\u672c\u6b21\u5b9e\u9a8c\u7684 CPU \u4e2d\u53ef\u80fd\u7684\u5173\u952e\u8def\u5f84\uff1b\u5982\u679c\u8fd9\u6761\u8def\u5f84\u7684\u5ef6\u8fdf\u5927\u4e8e\u4e00\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u53ef\u80fd\u4f1a\u5e26\u6765\u4ec0\u4e48\u5f71\u54cd\uff1f</li> </ol>"},{"location":"lab3/#_3","title":"\u5b9e\u9a8c\u68c0\u67e5\u4e0e\u63d0\u4ea4","text":"<p>\u672c\u6b21\u5b9e\u9a8c\u5e03\u7f6e\u65f6\u95f4\u4e3a 2024-04-01\uff0c\u6301\u7eed\u4e00\u5468\u3002\u76f8\u5e94\u7684 DDL \u8282\u70b9\u5982\u4e0b\uff1a</p> \u7ec4\u522b \u68c0\u67e5 DDL \u62a5\u544a\u63d0\u4ea4 DDL \u5468\u4e00\u7ec4 2024-04-08 2024-04-15 \u5468\u4e09\u7ec4 2024-04-10 2024-04-17 <p>\u68c0\u67e5\u4e0e\u62a5\u544a\u5ef6\u8fdf\u4e00\u5468\u4ee5\u5185\uff08\u542b\uff09\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 80% \u5206\u6570\uff1b\u5ef6\u8fdf\u4e00\u5468\u4ee5\u4e0a\u3001\u4e24\u5468\u4ee5\u5185\uff08\u542b\uff09\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 60% \u5206\u6570\uff1b\u5ef6\u8fdf\u8d85\u8fc7\u4e24\u5468\u7684\u4e0d\u5f97\u5206\u3002</p> <p>\u63d0\u9192</p> <p>\u5b9e\u9a8c\u7684 DDL \u4e3a\u5f53\u5929\u665a\u4e0a 21:30\u3002\u52a9\u6559\u6709\u6743\u5229\u5728 21:30 \u51c6\u65f6\u505c\u6b62\u68c0\u67e5\uff0c\u8bf7\u5927\u5bb6\u5408\u7406\u5b89\u6392\u597d\u81ea\u5df1\u7684\u65f6\u95f4\u3002\u80fd\u5426\u7ebf\u4e0a\u68c0\u67e5\u3001\u80fd\u5426\u5728\u5176\u4ed6\u65f6\u95f4\u68c0\u67e5\u8bf7\u54a8\u8be2\u672c\u7ec4\u7684\u52a9\u6559\u3002</p> <p>\u5173\u4e8e\u5b9e\u9a8c\u62a5\u544a</p> <p>\u5b9e\u9a8c\u62a5\u544a\u9700\u8981\u5927\u5bb6\u63d0\u4ea4 PDF \u683c\u5f0f\u3002\u6211\u4eec\u63a8\u8350\u5927\u5bb6\u4f7f\u7528 Markdown \u6216\u8005 Latex \u64b0\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u5bfc\u51fa\u4e3a PDF\u3002\u5927\u5bb6\u4e5f\u53ef\u4ee5\u4f7f\u7528 Word\u3001WPS \u7b49\u8fdb\u884c\u62a5\u544a\u64b0\u5199\uff0c\u6700\u540e\u8f6c\u6362\u4e3a PDF \u683c\u5f0f\u3002\u6211\u4eec\u4e0d\u63a8\u8350\u4e5f\u4e0d\u62d2\u7edd\u5927\u5bb6\u624b\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u4f46\u8bf7\u5c06\u5176\u62cd\u7167\u626b\u63cf\u6210 PDF \u6587\u4ef6\u540e\u518d\u4e0a\u4f20\u3002\u6211\u4eec\u4e0d\u63a5\u53d7\u4efb\u4f55\u56e0\u4e3a\u6587\u4ef6\u683c\u5f0f\u9519\u8bef\u800c\u5bfc\u81f4\u6210\u7ee9\u5f02\u5e38\u7684\u7533\u8bc9\u8bf7\u6c42\uff01</p> <p>\u5728\u5b9e\u9a8c\u62a5\u544a\u4e2d\uff0c\u4f60\u9700\u8981\u7ed9\u51fa\u6bcf\u4e00\u9879\u4efb\u52a1\u7684\u7b54\u6848\uff0c\u5e76\u9644\u4e0a\u5fc5\u8981\u7684\u8bf4\u660e\u8fc7\u7a0b\uff08\u6216\u622a\u56fe\uff09\u3002</p> <p>\u7279\u522b\u5730\uff1a\u5b9e\u9a8c\u62a5\u544a\u7684\u5b57\u6570\u548c\u6392\u7248\u4e0e\u6700\u7ec8\u5f97\u5206\u65e0\u5173\u3002\u5f71\u54cd\u5f97\u5206\u7684\u4ec5\u6709\u5185\u5bb9\u6b63\u786e\u6027\u4e0e\u5b8c\u6574\u6027\u3002</p> <p>\u5b9e\u9a8c\u62a5\u544a\u63d0\u4ea4\u7684\u5730\u5740\u5728\u8fd9\u91cc\u3002</p>"},{"location":"lab3/CPU/","title":"\u5355\u5468\u671f CPU\uff08\u7b80\u5316\u7248\uff09","text":""},{"location":"lab3/CPU/#_1","title":"\u6574\u4f53\u6846\u67b6","text":"CPU \u6570\u636e\u901a\u8def <p>\u4e0a\u56fe\u5c55\u793a\u4e86\u672c\u6b21\u5b9e\u9a8c\u4e2d CPU \u7684\u6570\u636e\u901a\u8def\u3002\u8be5\u6570\u636e\u901a\u8def\u53ef\u4ee5\u517c\u5bb9 RV32I \u7248\u672c\u7684 CPU \u548c LA32R \u7248\u672c\u7684 CPU\uff0c\u4e8c\u8005\u4ec5\u5728\u8bd1\u7801\u5668 Decoder \u7684\u5185\u90e8\u7ed3\u6784\u4e0a\u4e0d\u540c\u3002\u6b64\u5916\uff0c\u901a\u8def\u4e2d\u7701\u7565\u4e86\u63a7\u5236\u4fe1\u53f7\uff0c\u4f8b\u5982 alu_op\u3001rf_we \u7b49\u3002</p>"},{"location":"lab3/CPU/#_2","title":"\u6a21\u5757\u8bbe\u8ba1","text":""},{"location":"lab3/CPU/#pc","title":"PC \u5bc4\u5b58\u5668","text":"<p>\u5bc4\u5b58\u5668\u662f\u6211\u4eec\u6700\u5148\u63a5\u89e6\u7684\u65f6\u5e8f\u5143\u4ef6\u3002\u4e00\u822c\u800c\u8a00\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u5982\u4e0b\u7684 Verilog \u7a0b\u5e8f\u63cf\u8ff0\u5bc4\u5b58\u5668\u7684\u884c\u4e3a\uff1a</p> <p>\u5bc4\u5b58\u5668\u7684 Verilog \u5b9e\u73b0<pre><code>always @(posedge clk) begin\n    if (rst)\n        q &lt;= 0; \n    else\n        q &lt;= d;     // q stores the value inside the register\nend\n</code></pre> \u4e0a\u9762\u7684\u4ee3\u7801\u7ed9\u51fa\u4e86\u5e26\u6709\u540c\u6b65\u590d\u4f4d\u4fe1\u53f7\u7684\u5bc4\u5b58\u5668\u5355\u5143\u3002\u5176\u4e2d\uff0cq \u4e3a\u5f53\u524d\u5bc4\u5b58\u5668\u4e2d\u4fdd\u5b58\u7684\u6570\u636e\uff0cd \u4e3a\u5373\u5c06\u5199\u5165\u5bc4\u5b58\u5668\u7684\u6570\u636e\u3002</p> <p>\u5728 CPU \u4e2d\uff0cPC \u5bc4\u5b58\u5668\u65f6\u523b\u5b58\u50a8\u4e86\u6b63\u5728\u6267\u884c\u7684\u6307\u4ee4\u7684\u5730\u5740\u3002\u5b83\u7684\u529f\u80fd\u662f\u5c06\u5f53\u524d\u6307\u4ee4\u7684\u5730\u5740\u4f20\u9012\u7ed9\u6307\u4ee4\u5b58\u50a8\u5668\uff0c\u4ece\u800c\u8bfb\u51fa\u6b64\u65f6\u6b63\u786e\u7684\u6307\u4ee4\u5185\u5bb9\u3002\u540c\u65f6\uff0c\u5b83\u4e5f\u9700\u8981\u80fd\u591f\u63a5\u53d7\u4e0b\u4e00\u6761\u6307\u4ee4\u5730\u5740\u7684\u8f93\u5165\uff0c\u5e76\u5728\u65f6\u949f\u4e0a\u5347\u6cbf\u5230\u6765\u65f6\u66f4\u65b0\u81ea\u5df1\u7684\u503c\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u6307\u4ee4\u7684\u8fde\u7eed\u8fd0\u884c\u3002</p> <p>PC \u5bc4\u5b58\u5668\u7684\u6a21\u5757\u793a\u610f\u5982\u4e0b\u6240\u793a\uff1a</p> <p></p> PC \u6a21\u5757\u793a\u610f\u56fe <p>\u5176\u7aef\u53e3\u4ee3\u7801\u4e3a\uff1a</p> PC<pre><code>module PC (\n    input                   [ 0 : 0]            clk,\n    input                   [ 0 : 0]            rst,\n    input                   [ 0 : 0]            en,\n    input                   [31 : 0]            npc,\n\n    output      reg         [31 : 0]            pc\n);\n</code></pre> \u4e3a\u4ec0\u4e48\u8981\u6709\u4f7f\u80fd\u4fe1\u53f7\uff1f <p>\u5728\u8bfe\u5802\u4e0a\u6211\u4eec\u63d0\u5230\u8fc7\uff1a\u5355\u5468\u671f CPU \u6bcf\u4e2a\u65f6\u949f\u5468\u671f\u90fd\u4f1a\u66f4\u65b0 PC \u5bc4\u5b58\u5668\u4e2d\u7684\u503c\u3002\u56e0\u6b64\uff0c\u5bc4\u5b58\u5668\u7684\u5199\u5165\u64cd\u4f5c\u5e94\u5f53\u5728\u6bcf\u4e2a\u65f6\u949f\u5468\u671f\u5185\u8fdb\u884c\u3002\u90a3\u4e48\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u4f9d\u7136\u4fdd\u7559\u4e86\u4f7f\u80fd\u4fe1\u53f7\u5462\uff1f</p> <p>\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u9700\u8981\u5f15\u5165\u6765\u81ea PDU \u7684\u63a7\u5236\u903b\u8f91\u3002\u8bd5\u60f3\uff1a\u867d\u7136\u5355\u5468\u671f CPU \u6bcf\u4e2a\u65f6\u949f\u5468\u671f\u90fd\u4f1a\u6267\u884c\u4e00\u6761\u6307\u4ee4\uff0c\u4f46\u6307\u4ee4\u7684\u6570\u76ee\u662f\u6709\u9650\u7684\u3002\u6211\u4eec\u5fc5\u7136\u9700\u8981\u5728\u5408\u9002\u7684\u65f6\u5019\u8ba9 CPU \u505c\u4e0b\u6765\uff0c\u4ece\u800c\u8ba9\u6211\u4eec\u89c2\u5bdf CPU \u7684\u6267\u884c\u60c5\u51b5\u3002\u56e0\u6b64\uff0cPC \u5bc4\u5b58\u5668\u4f9d\u7136\u9700\u8981\u4fdd\u7559\u5916\u754c\u7684\u4f7f\u80fd\u4fe1\u53f7\u3002</p> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u4ece\u4ee3\u7801\u4e0a\u770b\uff0cPC \u5bc4\u5b58\u5668\u7684\u884c\u4e3a\u53ef\u4ee5\u88ab\u4e00\u4e2a always \u5757\u5b8c\u5168\u5b9e\u73b0\u3002\u90a3\u4e48\u4e3a\u4ec0\u4e48\u6211\u4eec\u8fd8\u662f\u5c06\u5176\u5c01\u88c5\u6210\u4e86\u4e00\u4e2a\u6a21\u5757\u5462\uff1f</p> <ul> <li>\u4e00\u65b9\u9762\uff0c\u9ad8\u5ea6\u6a21\u5757\u5316\u7684\u8bbe\u8ba1\u53ef\u4ee5\u4f7f\u6211\u4eec\u7684\u7535\u8def\u7ed3\u6784\u66f4\u52a0\u6e05\u6670\uff0c\u51cf\u5c11\u6742\u4e71\u7684\u95e8\u7535\u8def\u7684\u51fa\u73b0\uff08\u770b\u4e0d\u89c1\u5c31\u662f\u6ca1\u6709.jpg\uff09\u3002</li> <li>\u53e6\u4e00\u65b9\u9762\uff0c\u6211\u4eec\u53ef\u4ee5\u66f4\u4e3a\u76f4\u89c2\u5730\u770b\u5230\u5404\u4e2a\u6a21\u5757\u4e4b\u95f4\u6570\u636e\u7684\u4f20\u8f93\u5173\u7cfb\uff0c\u4fbf\u4e8e\u548c\u63d0\u4f9b\u7684\u5355\u5468\u671f\u6570\u636e\u901a\u8def\u8fdb\u884c\u6bd4\u5bf9\u3002</li> <li>\u6b64\u5916\uff0c\u4e3a\u4e86\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\uff0c\u6211\u4eec\u4e00\u822c\u4e0d\u4f1a\u5728\u4e00\u4e2a\u6a21\u5757\u4e2d\u4fdd\u7559\u8fc7\u591a\u7684\u4ee3\u7801\u3002</li> </ul> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u5bf9\u4e8e\u90e8\u5206\u57fa\u7840\u6a21\u5757\u7684\u5c01\u88c5\u662f\u5f88\u6709\u5fc5\u8981\u7684\u3002</p> <p>\u6b63\u786e\u8bbe\u7f6e PC \u7684\u8d77\u59cb\u5730\u5740\uff01</p> <p> \u8bf7\u6839\u636e\u4f60\u6240\u4f7f\u7528\u7684\u6307\u4ee4\u96c6\u5408\u7406\u8bbe\u7f6e PC \u5bc4\u5b58\u5668\u7684\u590d\u4f4d\u503c\u3002 </p> <p>\u5728\u4eff\u771f\u548c\u4e0a\u677f\u65f6\uff0c\u6211\u4eec\u5f80\u5f80\u4f1a\u5148\u7f6e rst \u4fe1\u53f7\u4e3a\u9ad8\u7535\u5e73\uff0c\u5c06\u6240\u6709\u7684\u5bc4\u5b58\u5668\u590d\u4f4d\u5230\u6b63\u786e\u7684\u521d\u59cb\u72b6\u6001\uff0c\u800c LA32R \u548c RV32I \u6307\u4ee4\u96c6\u5bf9\u7528\u6237\u7a0b\u5e8f\u7684\u8d77\u59cb\u5730\u5740\u6709\u7740\u4e0d\u540c\u7684\u89c4\u5b9a\u3002</p> <ul> <li>\u5bf9\u4e8e LA32R \u6307\u4ee4\u96c6\uff0c\u7a0b\u5e8f\u6bb5\u7684\u8d77\u59cb\u5730\u5740\u4f4d\u4e8e 0x1C000000\u3002\u8fd9\u4e5f\u5bf9\u5e94\u7740 Lars \u4e2d .text \u6bb5\u7684\u8d77\u59cb\u5730\u5740\uff1b</li> <li>\u5bf9\u4e8e RV32I \u6307\u4ee4\u96c6\uff0c\u7a0b\u5e8f\u6bb5\u7684\u8d77\u59cb\u5730\u5740\u4f4d\u4e8e 0x00400000\u3002\u8fd9\u4e5f\u5bf9\u5e94\u7740 Rars \u4e2d\u9ed8\u8ba4\u7c7b\u578b\u5185\u5b58\u5206\u5e03\u4e0b .text \u6bb5\u7684\u8d77\u59cb\u5730\u5740\u3002</li> </ul>"},{"location":"lab3/CPU/#_3","title":"\u5bc4\u5b58\u5668\u5806","text":"RF \u6a21\u5757\u793a\u610f\u56fe <p>\u672c\u6b21\u5b9e\u9a8c\u6211\u4eec\u9700\u8981\u5728 Lab2 \u7684\u5bc4\u5b58\u5668\u5806\u57fa\u7840\u4e0a\uff0c\u4e3a\u5176\u6dfb\u52a0\u4e00\u7ec4 debug \u63a5\u53e3 debug_reg_ra\u3001debug_reg_rd\u3002\u8fd9\u4e00\u5bf9\u7aef\u53e3\u4e0e\u6570\u636e\u8bfb\u7aef\u53e3\u529f\u80fd\u4e00\u81f4\uff0c\u53ea\u7528\u4e8e\u4eff\u771f\u4e0e\u4e0a\u677f\u65f6\u7684\u8c03\u8bd5\u3002CPU \u5728\u6b63\u5e38\u8fd0\u884c\u65f6\u5e76\u4e0d\u4f1a\u7528\u5230\u8fd9\u4e24\u4e2a\u7aef\u53e3\u3002</p>"},{"location":"lab3/CPU/#_4","title":"\u6570\u636e\u9009\u62e9\u5668","text":"\u9009\u62e9\u5668\u6a21\u5757\u793a\u610f\u56fe <p>ALU \u7684\u4e24\u4e2a\u6e90\u64cd\u4f5c\u6570\u53ef\u80fd\u662f\u5bc4\u5b58\u5668\u5806\u7684\u8f93\u51fa\uff0c\u4e5f\u53ef\u80fd\u662f\u7acb\u5373\u6570\uff0c\u8fd8\u53ef\u80fd\u662f\u5f53\u524d PC \u7684\u503c\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u9700\u8981\u4e3a\u6e90\u64cd\u4f5c\u6570\u6dfb\u52a0\u6570\u636e\u9009\u62e9\u5668\uff0c\u7528\u4e8e\u63a7\u5236 ALU \u7684\u6570\u636e\u6765\u6e90\u3002\u4e00\u4e2a\u7b80\u5355\u7684\u53c2\u6570\u5316\u9009\u62e9\u5668\u5b9e\u73b0\u5982\u4e0b\uff1a</p> \u4e8c\u9009\u4e00\u9009\u62e9\u5668<pre><code>module MUX1 # (\n    parameter               WIDTH                   = 32\n)(\n    input                   [WIDTH-1 : 0]           src0, src1,\n    input                   [      0 : 0]           sel,\n\n    output                  [WIDTH-1 : 0]           res\n);\n\n    assign res = sel ? src1 : src0;\n\nendmodule\n</code></pre> <p>\u5bf9\u4e8e LA32R \u548c RV32I \u6307\u4ee4\u96c6\u6765\u8bf4\uff0cALU \u7684\u6570\u636e\u6765\u6e90\u4e3a\uff1a</p> <ul> <li>alu_src0\uff1a\u53ef\u80fd\u6765\u81ea PC\uff0c\u53ef\u80fd\u6765\u81ea\u5bc4\u5b58\u5668\u5806\uff1b</li> <li>alu_src1\uff1a\u53ef\u80fd\u6765\u81ea\u7acb\u5373\u6570\uff0c\u53ef\u80fd\u6765\u81ea\u5bc4\u5b58\u5668\u5806\u3002</li> </ul>"},{"location":"lab3/CPU/#_5","title":"\u8bd1\u7801\u5668","text":"<p>\u8bd1\u7801\u5668\u662f CPU \u7684\u5fc3\u810f\uff0c\u5b83\u8d1f\u8d23\u6839\u636e\u8f93\u5165\u7684\u6307\u4ee4\u751f\u6210\u76f8\u5e94\u7684\u63a7\u5236\u4e0e\u6570\u636e\u4fe1\u53f7\u3002\u4e0b\u9762\u662f\u672c\u6b21\u5b9e\u9a8c\u4e2d\u8bd1\u7801\u5668\u7684\u7ed3\u6784\u793a\u610f\u56fe\u3002</p> <p></p> \u8bd1\u7801\u5668\u6a21\u5757\u793a\u610f\u56fe <p>\u5176\u7aef\u53e3\u4ee3\u7801\u4e3a\uff1a</p> \u8bd1\u7801\u5668<pre><code>module DECODE (\n    input                   [31 : 0]            inst,\n\n    output                  [ 4 : 0]            alu_op,\n    output                  [31 : 0]            imm,\n\n    output                  [ 4 : 0]            rf_ra0,\n    output                  [ 4 : 0]            rf_ra1,\n    output                  [ 4 : 0]            rf_wa,\n    output                  [ 0 : 0]            rf_we,\n\n    output                  [ 0 : 0]            alu_src0_sel,\n    output                  [ 0 : 0]            alu_src1_sel\n);\n</code></pre> <p>\u5404\u4e2a\u8f93\u51fa\u7aef\u53e3\u7684\u4f5c\u7528\u662f\uff1a</p> <ul> <li>alu_op\uff1aALU \u7684\u8fd0\u7b97\u6a21\u5f0f\u7801\uff1b</li> <li>imm\uff1a\u7ecf\u8fc7\u6269\u5c55\u7684\u7acb\u5373\u6570\uff1b</li> <li>rf_ra0\u3001rf_ra1\uff1a\u5bc4\u5b58\u5668\u5806\u7684\u8bfb\u5730\u5740\uff1b</li> <li>rf_wa\uff1a\u5bc4\u5b58\u5668\u5806\u7684\u5199\u5730\u5740\uff1b</li> <li>rf_we\uff1a\u5bc4\u5b58\u5668\u5806\u7684\u5199\u4f7f\u80fd\uff1b</li> <li>alu_src0_sel\u3001alu_src1_sel\uff1aALU \u7684\u6e90\u64cd\u4f5c\u6570\u9009\u62e9\u4fe1\u53f7\u3002</li> </ul> <p>\u8bd1\u7801\u5668\u6a21\u5757\u4e3a\u4e00\u4e2a\u5de8\u5927\u7684\u7ec4\u5408\u903b\u8f91\u5355\u5143\uff0c\u6240\u6709\u7684\u4fe1\u53f7\u90fd\u6839\u636e inst \u7684\u6570\u503c\uff0c\u7ed3\u5408\u5bf9\u5e94\u6307\u4ee4\u96c6\u7684\u8bd1\u7801\u89c4\u5219\u5f97\u51fa\u3002\u9700\u8981\u6307\u51fa\u7684\u662f\uff1arf_ra0\u3001rf_ra1 \u548c rf_wa \u4e09\u6761\u4fe1\u53f7\u8f83\u4e3a\u7279\u6b8a\uff0c\u56e0\u4e3a\u5176\u5728\u6307\u4ee4\u4e2d\u7684\u4f4d\u7f6e\u662f\u56fa\u5b9a\u7684\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u622a\u53d6\u5f97\u5230\uff1b\u5176\u4ed6\u4fe1\u53f7\u5219\u9700\u8981\u5224\u65ad\u6307\u4ee4\u7684\u7c7b\u578b\u540e\uff0c\u901a\u8fc7\u66f4\u4e3a\u590d\u6742\u7684\u903b\u8f91\u5f97\u5230\u3002</p> <p>\u8bd1\u7801\u5668</p> <p> \u8bf7\u6839\u636e\u4f60\u6240\u4f7f\u7528\u7684\u6307\u4ee4\u96c6\u5b9e\u73b0\u8bd1\u7801\u5668\u7684\u529f\u80fd\u3002 </p> <p>\u7531\u4e8e\u6307\u4ee4\u96c6\u4e0d\u540c\uff0c\u56e0\u6b64\u6bcf\u6761\u6307\u4ee4\u7684\u8bd1\u7801\u89c4\u5219\u4e5f\u4e0d\u540c\u3002\u8bf7\u6839\u636e Lab1 \u4e2d\u6211\u4eec\u9700\u8981\u5b9e\u73b0\u6307\u4ee4\uff0c\u67e5\u9605\u5bf9\u5e94\u7684\u6307\u4ee4\u96c6\u624b\u518c\uff0c\u4ee5\u6b63\u786e\u751f\u6210\u8bd1\u7801\u5668\u6a21\u5757\u7684\u8f93\u51fa\u4fe1\u53f7\u3002</p> \u4e00\u6761\u6307\u4ee4\u6ca1\u6709\u8fd9\u4e2a\u4fe1\u53f7\u8be5\u600e\u4e48\u529e\uff1f <p>\u8fd9\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u95ee\u9898\u3002\u4ee5\u4e0b\u9762\u4e24\u6761 LA32R \u6307\u4ee4\u4e3a\u4f8b\uff1a</p> <ul> <li>\u7b97\u6570\u7acb\u5373\u6570\u53f3\u79fb\uff1asrai.w rd, rj, imm\uff08RISC-V \u4e2d\u4e3a srai rd, rs1, shamt\uff09</li> <li>\u7b97\u6570\u53f3\u79fb\uff1asra.w rd, rj, rk\uff08RISC-V \u4e2d\u4e3a sra rd, rs1, rs2\uff09</li> </ul> <p>srai.w \u6307\u4ee4\u5e76\u6ca1\u6709 rk \u5b57\u6bb5\uff0c\u56e0\u6b64\u4e5f\u5c31\u4e0d\u9700\u8981\u8bd1\u7801\u5668\u7684 rf_ra1 \u7aef\u53e3\u3002\u6211\u4eec\u81ea\u7136\u53ef\u4ee5\u8ba9\u6b64\u65f6 rf_ra1 \u7684\u8f93\u51fa\u4e3a 0\uff0c\u4e5f\u53ef\u4ee5\u6309\u7167\u76f8\u540c\u7684\u903b\u8f91\u8bfb\u53d6\u6307\u4ee4\u5bf9\u5e94\u90e8\u5206\u7684\u503c\uff08\u5c3d\u7ba1\u6b64\u65f6\u8be5\u5b57\u6bb5\u4e3a\u7acb\u5373\u6570\uff09\uff0c\u53ea\u9700\u8981\u4fdd\u8bc1\u540e\u7eed\u9001\u5165 ALU \u7684\u6e90\u64cd\u4f5c\u6570\u662f\u6b63\u786e\u7684\u5373\u53ef\u3002</p> <p>\u540c\u7406\uff0c\u5bf9\u4e8e sra.w \u6307\u4ee4\uff0c\u8bd1\u7801\u5668\u7684 imm \u7aef\u53e3\u53ef\u4ee5\u662f\u4efb\u610f\u7684\u6570\u503c\uff0c\u53ea\u9700\u8981\u4fdd\u8bc1\u540e\u7eed\u9001\u5165 ALU \u7684\u6e90\u64cd\u4f5c\u6570\u662f\u6b63\u786e\u7684\u5373\u53ef\u3002</p>"},{"location":"lab3/PDU_intro/","title":"PDU \u4f7f\u7528\u624b\u518c","text":"<p>\u66f4\u65b0</p> <p>2024-04-10 \u66f4\u65b0\uff1a\u5c06\u65f6\u949f\u9891\u7387\u964d\u4e3a 25MHz\uff1b\u589e\u52a0\u4e86\u7f13\u51b2\u533a\u5927\u5c0f\u3002</p>"},{"location":"lab3/PDU_intro/#_1","title":"\u7b80\u4ecb","text":"<p>PDU \u662f\u4e3a\u4e86\u672c\u5b66\u671f\u7ec4\u6210\u539f\u7406\u5b9e\u9a8c\u800c\u5f00\u53d1\u8bbe\u8ba1\u7684\u677f\u4e0a\u63a7\u5236\u5355\u5143\u3002\u5b83\u53ef\u4ee5\u63a5\u6536\u6765\u81ea\u7528\u6237\u7684\u4e32\u53e3\u6307\u4ee4\uff0c\u5c06\u5176\u89e3\u7801\u5e76\u5b8c\u6210\u5bf9\u5e94\u7684\u64cd\u4f5c\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u83b7\u53d6 CPU \u8fd0\u884c\u65f6\u7684\u6570\u636e\uff0c\u5e76\u901a\u8fc7\u4e32\u53e3\u53cd\u9988\u7ed9\u7528\u6237\u3002</p> <p></p> \u9879\u76ee\u7684 TOP \u6846\u67b6 <p>\u53ef\u80fd\u5b58\u5728\u7684\u95ee\u9898</p> <p>\u76ee\u524d\u5728\u4e32\u53e3\u5199\u5165\u65f6\uff0c\u5982\u679c\u5e8f\u5217\u8fc7\u957f\uff0c\u53ef\u80fd\u5bfc\u81f4\u4e32\u53e3\u5d29\u6e83\u3002\u5982\u679c\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u901a\u8fc7 sw7 \u624b\u52a8\u5237\u65b0\u4e32\u53e3\u3002\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e00\u6b21\u547d\u4ee4\u6700\u540e\u90fd\u4f1a\u4ee5 <code>User:</code> \u7684\u63d0\u793a\u7b26\u7ed3\u5c3e\u3002\u5982\u679c\u9047\u5230\u4e86\u5176\u4ed6\u95ee\u9898\uff0c\u6b22\u8fce\u5728\u672c\u754c\u9762\u7684\u8bc4\u8bba\u533a\u6216 QQ \u7fa4\u4e2d\u6307\u51fa\u3002</p>"},{"location":"lab3/PDU_intro/#_2","title":"\u652f\u6301\u547d\u4ee4","text":""},{"location":"lab3/PDU_intro/#_3","title":"\u4e32\u53e3\u8bfb\u5199\u547d\u4ee4","text":"<p>\u63d0\u793a</p> <p>\u5728\u4f7f\u7528 RI\u3001RD\u3001RR \u547d\u4ee4\u65f6\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u540e\u9762\u6dfb\u52a0\u4e00\u4e2a\u6362\u884c\u7b26 <code>\\n</code>\uff0c\u4ece\u800c\u907f\u514d\u51fa\u73b0\u4e71\u7801\u3002\u4f8b\u5982\uff1a\u8bfb\u53d6 32 \u4e2a\u5bc4\u5b58\u5668\u5806\uff0c\u53ef\u4ee5\u8f93\u5165 <code>RR 0 32;\\n</code>\uff08\u8fd9\u91cc\u7684 <code>\\n</code> \u662f\u6362\u884c\u7b26\uff01\uff09\u3002</p> <p>RI [base]_16 [length]_10;</p> <p>\u8be5\u547d\u4ee4\u4ece base \u5730\u5740\u5f00\u59cb\uff0c\u4ece\u6307\u4ee4\u5b58\u50a8\u5668\u4e2d\u8bfb\u53d6\u8fde\u7eed\u7684 length \u4e2a\u5b58\u50a8\u5355\u5143\uff0c\u5e76\u5c06\u7ed3\u679c\u663e\u793a\u5728\u4e32\u53e3\u4e0a\u3002</p> <p>length \u7684\u957f\u5ea6\u4e0d\u8d85\u8fc7 64\u3002</p> <pre><code>e.g.    \n    RI 0 10;\n    \u5c06\u4f1a\u663e\u793a 0x0~0x24 \u5341\u4e2a\u5b58\u50a8\u5355\u5143\u7684\u6570\u636e\n</code></pre> <p>RD [base]_16 [length]_10;</p> <p>\u8be5\u547d\u4ee4\u4ece base \u5730\u5740\u5f00\u59cb\uff0c\u4ece\u6570\u636e\u5b58\u50a8\u5668\u4e2d\u8bfb\u53d6\u8fde\u7eed\u7684 length \u4e2a\u5b58\u50a8\u5355\u5143\uff0c\u5e76\u5c06\u7ed3\u679c\u663e\u793a\u5728\u4e32\u53e3\u4e0a\u3002</p> <p>length \u7684\u957f\u5ea6\u4e0d\u8d85\u8fc7 64\u3002</p> <p>RR [base]_16 [length]_10;</p> <p>\u8be5\u547d\u4ee4\u4ece base \u5730\u5740\u5f00\u59cb\u4ece\u5bc4\u5b58\u5668\u5806\u4e2d\u8bfb\u53d6\u8fde\u7eed\u7684 length \u4e2a\u5b58\u50a8\u5355\u5143\uff0c\u5e76\u5c06\u7ed3\u679c\u663e\u793a\u5728\u4e32\u53e3\u4e0a\u3002</p> <p>length \u7684\u957f\u5ea6\u4e0d\u8d85\u8fc7 64\u3002</p> <pre><code>e.g.    \n    RR 0 10; \n    \u5c06\u4f1a\u663e\u793a R0 ~ R9 \u5341\u4e2a\u5bc4\u5b58\u5668\u7684\u6570\u636e\n</code></pre> <p>WI [base]_16 [length]_10 [code]_16;</p> <p>\u8be5\u547d\u4ee4\u4ece base \u5f00\u59cb\u5199\u5165\u6307\u4ee4\u5b58\u50a8\u5668\u8fde\u7eed\u7684 length \u4e2a\u5b58\u50a8\u5355\u5143\u3002\u540e\u7eed\u7684 code \u4ee5\u7a7a\u683c\u6216\u6362\u884c\u7b26\u4f5c\u4e3a\u5206\u9694\uff0c\u4ee5\u5206\u53f7\u7ed3\u675f\u3002\u5982\u679c code \u7684\u6570\u76ee\u5c0f\u4e8e length \u7684\u6570\u76ee\uff0c\u5219\u5269\u4e0b\u7684\u5730\u5740\u81ea\u52a8\u5199 0\u3002</p> <p>length \u7684\u957f\u5ea6\u65e0\u9650\u5236\u3002</p> <pre><code>e.g.    \n    WI 0 2 1234 1235;\n    \u5199\u5165\u64cd\u4f5c\u4e3a\uff1a\n        M[0x0] &lt;- 0x1234\n        M[0x4] &lt;- 0x1235\n\n    WI 4 3 1234;\n    \u5199\u5165\u64cd\u4f5c\u4e3a\uff1a\n        M[0x4] &lt;- 0x1234\n        M[0x8] &lt;- 0x0\n        M[0xC] &lt;- 0x0\n</code></pre> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u6362\u884c\u4ee3\u66ff\u7a7a\u683c\u3002\u8bf7\u6ce8\u610f\uff1a\u4e0d\u80fd\u5f15\u5165\u591a\u4f59\u7684\u7a7a\u683c\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u89e3\u7801\u5668\u89e3\u7801\u9519\u8bef\uff01</p> <pre><code>e.g.\n    WI 0 3\n    1234\n    1235\n    1236;\n    \u5199\u5165\u64cd\u4f5c\u4e3a\uff1a\n        M[0x0] &lt;- 0x1234\n        M[0x4] &lt;- 0x1235\n        M[0x8] &lt;- 0x1236\n</code></pre> <p>WD [base]_16 [length]_10 [code]_16;</p> <p>\u8be5\u547d\u4ee4\u4ece base \u5f00\u59cb\u5199\u5165\u6570\u636e\u5b58\u50a8\u5668\u8fde\u7eed\u7684 length \u4e2a\u5b58\u50a8\u5355\u5143\u3002\u540e\u7eed\u7684 code \u4ee5\u7a7a\u683c\u6216\u6362\u884c\u7b26\u4f5c\u4e3a\u5206\u9694\uff0c\u4ee5\u5206\u53f7\u7ed3\u675f\u3002\u5982\u679c code \u7684\u6570\u76ee\u5c0f\u4e8e length \u7684\u6570\u76ee\uff0c\u5219\u5269\u4e0b\u7684\u5730\u5740\u81ea\u52a8\u5199 0\u3002</p> <p>length \u7684\u957f\u5ea6\u65e0\u9650\u5236\u3002</p>"},{"location":"lab3/PDU_intro/#_4","title":"\u65ad\u70b9\u547d\u4ee4","text":"<p>\u65ad\u70b9\u5b9e\u73b0\u7684\u57fa\u672c\u539f\u7406\u662f\uff1a\u5f53 CPU \u4ea7\u751f <code>commit</code> \u4fe1\u53f7\u65f6\uff0cPDU \u4f1a\u5c06 CPU \u7684 <code>commit_pc</code> \u4e0e PDU \u5185\u90e8\u5b58\u50a8\u7684\u65ad\u70b9\u8fdb\u884c\u6bd4\u5bf9\uff0c\u4ece\u800c\u5224\u65ad\u662f\u5426\u8fbe\u5230\u4e86\u65ad\u70b9\u3002</p> <p>BS [addr0]_16 [addr1]_16 [addr2]_16;</p> <p>\u8be5\u547d\u4ee4\u4f1a\u8bbe\u7f6e\u65ad\u70b9\uff0c\u540e\u4e24\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\u3002PDU \u5141\u8bb8\u81f3\u591a\u8bbe\u7f6e\u4e09\u4e2a\u4e0d\u540c\u7684\u65ad\u70b9\uff0c\u5e76\u59cb\u7ec8\u4fa6\u6d4b CPU \u662f\u5426\u8fd0\u884c\u5230\u4e86 bp0 \u7684\u5730\u5740\u3002 \u65ad\u70b9\u65e0\u6cd5\u88ab\u8986\u76d6\uff0c\u53ea\u53ef\u4ee5\u89e6\u53d1\u6216\u5220\u9664\u3002</p> <pre><code>e.g.\n    BS 1000 2000;\n\n    \u4f1a\u8bbe\u7f6e\u65ad\u70b9\u4e3a \n        bp0 &lt;- 0x1000\n        bp1 &lt;- 0x2000\n\n    \u5982\u679c\u6b64\u65f6\u518d\u6b21\u8f93\u5165\n    BS 3000 4000 5000;\n    \u6b64\u65f6\u524d\u4e24\u4e2a\u65ad\u70b9\u5730\u5740\u5df2\u7ecf\u88ab\u5360\u7528\uff0c\u6545\u4f1a\u8bbe\u7f6e\u65ad\u70b9\u4e3a\n        bp2 &lt;- 0x3000\n\n    \u5982\u679c CPU \u5230\u8fbe\u4e86 bp0 \u7684\u5730\u5740\uff0c\u5219\u63a5\u4e0b\u6765 bp0 \u4f1a\u81ea\u52a8\u53d8\u4e3a bp1\uff0cbp1 \u4f1a\u81ea\u52a8\u53d8\u4e3a bp2\uff0cbp2 \u4f1a\u88ab\u81ea\u52a8\u6e05\u9664\u3002\n    \u5373\uff1a\n        bp0 &lt;- bp1\n        bp1 &lt;- bp2\n        bp2 &lt;- invalid\n</code></pre> <p>BL;</p> <p>\u8be5\u547d\u4ee4\u53ef\u4ee5\u67e5\u8be2\u5f53\u524d\u5df2\u8bbe\u7f6e\u7684\u65ad\u70b9\u3002</p> <p>BC;</p> <p>\u8be5\u547d\u4ee4\u4f1a\u6e05\u9664\u6240\u6709\u7684\u65ad\u70b9\u3002</p>"},{"location":"lab3/PDU_intro/#cpu","title":"CPU \u547d\u4ee4","text":"<p>R;</p> <p>\u8fde\u7eed\u8fd0\u884c\u547d\u4ee4\u3002\u6b64\u65f6 CPU \u5c06\u6301\u7eed\u8fd0\u884c\uff0c\u76f4\u5230\u8fbe\u5230\u65ad\u70b9\u3001\u8fd0\u884c\u5b8c\u6210\u6216\u7528\u6237\u4e2d\u65ad\u3002</p> <p>S;</p> <p>\u5355\u6b65\u8fd0\u884c\u547d\u4ee4\u3002</p> <p>H;</p> <p>\u5f3a\u5236\u505c\u673a\u547d\u4ee4\u3002\u8be5\u547d\u4ee4\u5c06\u4e2d\u65ad CPU \u7684\u8fde\u7eed\u8fd0\u884c\u72b6\u6001\u3002</p>"},{"location":"lab3/PDU_intro/#mmio","title":"MMIO","text":"<p>PDU \u8fd8\u63d0\u4f9b\u4e86 MMIO \u7684\u529f\u80fd\u3002\u76f8\u5173\u5730\u5740\u6620\u5c04\u89c4\u5219\u5982\u4e0b\uff1a</p> <ul> <li>0xFFFF0008\uff1a\u8be5\u5730\u5740\u5355\u5143\u7684\u4f4e 8 \u4f4d\u5bf9\u5e94 led[7:0]\u3002</li> </ul>"},{"location":"lab3/SIM_intro/","title":"LA32R \u4eff\u771f\u6846\u67b6\u4f7f\u7528\u624b\u518c","text":"<p>LA32R \u7279\u4f9b</p> <p>\u672c\u4eff\u771f\u6846\u67b6\u4e3a LA32R \u6307\u4ee4\u96c6\u6240\u5b9a\u5236\uff0c\u9009\u62e9 RISC-V \u6307\u4ee4\u96c6\u7684\u540c\u5b66\u4ecd\u9700\u81ea\u884c\u7f16\u5199\u4eff\u771f\u6fc0\u52b1\u6587\u4ef6\u5e76\u4f7f\u7528 Vivado \u8fdb\u884c\u4eff\u771f\u3002</p> <p>Difftest</p> <p>\u672c\u4eff\u771f\u6846\u67b6\u65e8\u5728\u4e8e\u63d0\u4f9b Difftest \u529f\u80fd\u3002\u5bf9\u4e8e Difftest\uff0c\u4f60\u53ef\u4ee5\u7406\u89e3\u4e3a\uff0c\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u53c2\u8003 CPU \u4e0e\u4f60\u5b9e\u73b0\u7684 CPU \u8fdb\u884c\u5bf9\u6bd4\uff0c\u4e00\u65e6\u4e24\u8005\u4e0d\u4e00\u81f4\uff0c\u6211\u4eec\u5c31\u8f93\u51fa\u9519\u8bef\u4fe1\u606f\u5e76\u505c\u6b62\u4eff\u771f\u3002</p>"},{"location":"lab3/SIM_intro/#_1","title":"\u4f7f\u7528\u6b65\u9aa4","text":"<p>\u53d1\u884c\u7248</p> <p>\u672c\u5b9e\u9a8c\u6846\u67b6\u76ee\u524d\u6709 Ubuntu-AMD64 \u548c MacOS-AArch64 \u4e24\u4e2a\u5e73\u53f0\u7684\u53d1\u884c\u7248\uff0cWindows \u5e73\u53f0\u7684\u53d1\u884c\u7248\u5c06\u4e0d\u4f1a\u88ab\u63d0\u4f9b\u3002</p> <p>\u5404\u53d1\u884c\u7248\u7684\u8be6\u7ec6\u4fe1\u606f\u4f1a\u5728 CMake \u547d\u4ee4\u6267\u884c\u7684\u65f6\u5019\u8f93\u51fa\u3002\u5982\u9700\u5176\u5b83\u67b6\u6784\u7684\u53d1\u884c\u7248\uff0c\u8bf7\u8054\u7cfb\u52a9\u6559\u3002</p> <p>\u6211\u4eec\u4ee5 Ubuntu-AMD64 \u53d1\u884c\u7248\u4e3a\u4f8b\u4ecb\u7ecd\u672c\u4eff\u771f\u6846\u67b6\u7684\u4f7f\u7528\u3002\u5bf9\u4e8e\u5176\u5b83\u7684\u53d1\u884c\u7248\uff0c\u64cd\u4f5c\u6b65\u9aa4\u662f\u7c7b\u4f3c\u7684\u3002</p>"},{"location":"lab3/SIM_intro/#1","title":"1. \u5b89\u88c5\u4f9d\u8d56\u9879","text":"<p>\u672c\u4eff\u771f\u6846\u67b6\u6240\u9700\u8981\u7684\u4f9d\u8d56\u9879\u5305\u62ec Git, CMake \u548c Verilator\u3002\u5bf9\u4e8e Git \u548c CMake\uff0c\u4f60\u53ef\u4ee5\u7b80\u5355\u5730\u4f7f\u7528 APT \u5b89\u88c5\uff1a</p> <pre><code>$ sudo apt install git cmake\n</code></pre> <p>\u5bf9\u4e8e Verilator\uff0c\u7531\u4e8e APT \u63d0\u4f9b\u7684\u7248\u672c\u8f83\u65e7\uff0c\u4f60\u9700\u8981\u53c2\u7167\u6211\u4eec\u7684\u8fd9\u7bc7\u6587\u6863\u624b\u52a8\u7f16\u8bd1\u5b89\u88c5\u3002</p> <p>\u5efa\u8bae\u4f7f\u7528 Vlab \u865a\u62df\u673a</p> <p>\u4f60\u53ef\u80fd\u5df2\u7ecf\u5728 Verilator \u5b89\u88c5\u7684\u6559\u7a0b\u9875\u9762\u770b\u5230\u4e86\u201cVlab \u865a\u62df\u673a\u5df2\u90e8\u7f72\u6b64\u5de5\u5177\u201d\u7684\u63d0\u793a\u6846\u3002\u4f7f\u7528 Vlab \u865a\u62df\u673a\u53ef\u4ee5\u7701\u53bb\u81ea\u884c\u624b\u52a8\u7f16\u8bd1\u5b89\u88c5 Verilator \u7684\u8fc7\u7a0b\u3002</p> <p>\u4f60\u53ef\u4ee5\u70b9\u6b64\u8df3\u8f6c\u81f3 Vlab \u9875\u9762\u3002</p>"},{"location":"lab3/SIM_intro/#2","title":"2. \u83b7\u53d6\u5b9e\u9a8c\u6846\u67b6","text":"<p>\u672c\u5b9e\u9a8c\u6846\u67b6\u5b58\u653e\u5728 GitHub \u4ed3\u5e93 <code>https://github.com/USTC-Loong-COD/LA32R-Simulation-Framework/</code> \u4e2d\uff0c\u4f60\u9700\u8981\u9009\u62e9\u5408\u9002\u7684\u5206\u652f\u8fdb\u884c\u514b\u9686\u3002</p> <p></p> \u9009\u62e9\u5206\u652f <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e Ubuntu-AMD64 \u5206\u652f\uff0c\u4f60\u9700\u8981\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u514b\u9686\uff1a</p> <pre><code>$ git clone -b Ubuntu-AMD64 https://github.com/USTC-Loong-COD/LA32R-Simulation-Framework.git\n</code></pre>"},{"location":"lab3/SIM_intro/#3-cpu","title":"3. \u6dfb\u52a0 CPU \u5b9e\u73b0\u6587\u4ef6","text":"<p>\u6253\u5f00\u4eff\u771f\u6846\u67b6\u76ee\u5f55\uff0c\u5c06\u4f60\u7684 CPU \u5b9e\u73b0\u6587\u4ef6\u653e\u5230 vsrc/your_vsrc \u76ee\u5f55\u4e0b\uff1b\u5982\u679c\u4f60\u4f7f\u7528\u4e86 Verilog \u7684\u5934\u6587\u4ef6\uff0c\u8bf7\u5c06\u5176\u653e\u5728 vsrc/your_include \u76ee\u5f55\u4e0b\u3002</p> <p></p> \u6dfb\u52a0 CPU \u5b9e\u73b0\u6587\u4ef6 <p>Warning</p> <p>\u4f60\u7684 CPU \u63a5\u53e3\u5e94\u5f53\u4e0e\u6846\u67b6\u4ecb\u7ecd\u4e2d\u7ed9\u51fa\u7684\u6846\u67b6\u4fdd\u6301\u4e00\u81f4\u3002</p> <p>\u8be5\u63a5\u53e3\u540c\u6837\u4e5f\u9002\u7528\u4e8e\u4e0a\u677f\u9a8c\u8bc1\u3002</p>"},{"location":"lab3/SIM_intro/#4","title":"4. \u4fee\u6539\u5185\u5b58\u521d\u59cb\u5316\u6587\u4ef6","text":"<p>\u4fee\u6539 mem_init \u76ee\u5f55\u4e0b\u7684 imem.init \u548c dmem.init \u6587\u4ef6\uff0c\u8fd9\u4e24\u4e2a\u6587\u4ef6\u7684\u683c\u5f0f\u8981\u6c42\u4e3a\uff1a</p> <ul> <li>\u6bcf\u4e00\u884c\u4e00\u4e2a 8 \u4f4d 16 \u8fdb\u5236\u503c\uff1b</li> <li>\u65e0 header\uff1b</li> <li>\u4e0d\u8981\u4f7f\u7528\u9017\u53f7\u6216\u5206\u53f7\u7b49\u5206\u9694\u7b26\uff1b</li> <li>\u6587\u4ef6\u5c3e\u9700\u8981\u4e00\u4e2a\u7a7a\u884c\u3002</li> </ul> <p>\u4f60\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u522b\u7684\u6587\u4ef6\u4f5c\u4e3a\u4e24\u4e2a\u5b58\u50a8\u5668\u7684\u521d\u59cb\u5316\u6587\u4ef6\uff0c\u53ea\u8981\u7b26\u5408\u4e0a\u8ff0\u8981\u6c42\u5373\u53ef\u3002\u82e5\u5982\u6b64\u505a\uff0c\u4f60\u9700\u8981\u4fee\u6539 vsrc/configs/configs.vh \u4e2d\u7684 <code>INST_MEM_FILE</code> \u548c <code>DATA_MEM_FILE</code> \u914d\u7f6e\u3002</p>"},{"location":"lab3/SIM_intro/#5","title":"5. \u4fee\u6539\u914d\u7f6e","text":"<p>\u6211\u4eec\u5728\u8be5 vsrc/configs/configs.vh \u4e2d\u63d0\u4f9b\u4e86\u591a\u4e2a\u53ef\u53d8\u914d\u7f6e\u3002</p> <ul> <li><code>INST_MEM_START</code>, <code>DATA_MEM_START</code>\uff1a\u4e24\u4e2a\u5b58\u50a8\u5668\u7684\u8d77\u59cb\u5730\u5740\uff1b</li> <li><code>INST_MEM_DEPTH</code>, <code>DATA_MEM_DEPTH</code>\uff1a\u4e24\u4e2a\u5b58\u50a8\u5668\u7684\u5927\u5c0f\uff08\u53d6 2 \u7684\u5bf9\u6570\uff09\uff1b</li> <li><code>INST_MEM_FILE</code>, <code>DATA_MEM_FILE</code>\uff1a\u4e24\u4e2a\u5b58\u50a8\u5668\u7684\u521d\u59cb\u5316\u6587\u4ef6\u8def\u5f84\uff08\u76f8\u5bf9\u4e8e\u8fd0\u884c\u65f6\u7684\u8def\u5f84\uff09\uff1b</li> <li><code>CORE_TYPE</code>\uff1a\u88ab\u4eff\u771f\u7684 CPU \u7c7b\u578b\uff1b</li> <li><code>UART_IO</code>\uff1a\u662f\u5426\u5f00\u542f\u4e32\u53e3\u3002</li> </ul> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ea\u9700\u8981\u4fee\u6539 <code>CORE_TYPE</code> \u548c <code>UART_IO</code> \u914d\u7f6e\u5373\u53ef\u3002</p> <p></p> \u4fee\u6539\u914d\u7f6e"},{"location":"lab3/SIM_intro/#6","title":"6. \u7f16\u8bd1","text":"<p>\u5728\u4eff\u771f\u6846\u67b6\u6839\u76ee\u5f55\u4e0b\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u8fdb\u884c\u7f16\u8bd1\uff1a</p> <pre><code>$ mkdir build\n$ cd build\n$ cmake ..\n$ cmake --build .\n</code></pre> <p></p> \u7f16\u8bd1 <p>\u8be6\u7ec6\u67b6\u6784\u4fe1\u606f</p> <p>\u5728\u6267\u884c <code>cmake ..</code> \u8fd9\u4e00\u6b65\u7684\u65f6\u5019 CMake \u4f1a\u8f93\u51fa\u82e5\u5e72\u4fe1\u606f\uff0c\u5176\u4e2d\u5305\u62ec\u4e86\u52a9\u6559\u5d4c\u5165\u7684\u4e24\u884c\u8be6\u7ec6\u7684\u5e73\u53f0\u67b6\u6784\u4fe1\u606f\u3002</p> <p>\u6b64\u4fe1\u606f\u4e3a\u52a9\u6559\u7f16\u8bd1 simulator/libSIMULATOR.a \u65f6\u4f7f\u7528\u7684\u5e73\u53f0\u4fe1\u606f\u3002\u5982\u679c\u4f60\u5728\u6784\u5efa\u65f6\u9047\u5230\u56f0\u96be\uff0c\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e24\u6761\u4fe1\u606f\uff0c\u8c03\u6574\u7f16\u8bd1\u5668\u7684\u7248\u672c\u3002</p> <p>\u4f8b\u5982\uff0c\u5728\u4e0a\u56fe\u4e2d\u4f60\u53ef\u4ee5\u770b\u5230 Ubuntu-AMD64 \u53d1\u884c\u7248\u8f93\u51fa\u7684\u67b6\u6784\u4fe1\u606f\uff1a</p> <pre><code>-- Version: Ubuntu-AMD64\n-- Built by Intel Core i9-14900K, Ubuntu 22.04.4 LTS, GCC 11.4.0.\n</code></pre>"},{"location":"lab3/SIM_intro/#7","title":"7. \u8fd0\u884c","text":"<p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4f60\u9700\u8981\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u8fd0\u884c\uff1a</p> <pre><code>./build/sim\n</code></pre> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574 vsrc/configs/configs.vh \u4e2d\u7684 <code>INST_MEM_FILE</code> \u548c <code>DATA_MEM_FILE</code> \u8def\u5f84\u5b9e\u73b0\u5728\u5e0c\u671b\u7684\u76ee\u5f55\u4e0b\u8fd0\u884c\u3002</p> <p>\u5728\u8fd0\u884c\u65f6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u53c2\u6570\u6307\u5b9a Difftest \u7684\u7b49\u7ea7\uff0c\u662f\u5426\u5bfc\u51fa\u6ce2\u5f62\u56fe\u548c\u6ce2\u5f62\u56fe\u7684\u8def\u5f84\u3002\u5177\u4f53\u7684\u53c2\u6570\u5982\u4e0b\uff1a</p> <pre><code>Options:\n    --difftest-level &lt;level&gt;, -l &lt;level&gt;            Set difftest level\n        -ln                                         -   no-difftest\n        -lc                                         -   compare-commit\n        -lf                                         -   compare-full-status\n    --dump-waveform, -d                             Dump waveform\n    --dump-path &lt;path&gt;, -p &lt;path&gt;                   Set dump path\n</code></pre> <p></p> \u8fd0\u884c"},{"location":"lab3/SIM_intro/#_2","title":"\u6ce2\u5f62\u56fe\u4f7f\u7528\u6b65\u9aa4","text":""},{"location":"lab3/SIM_intro/#1_1","title":"1. \u5b89\u88c5\u4f9d\u8d56\u9879","text":"<p>\u8981\u4f7f\u7528\u4eff\u771f\u6846\u67b6\u4e2d\u751f\u6210\u7684\u6ce2\u5f62\u56fe\uff0c\u9700\u8981\u7528\u5230 gtkwave\uff0c\u4f60\u53ef\u4ee5\u7b80\u5355\u5730\u4f7f\u7528 APT \u5b89\u88c5\uff1a</p> <pre><code>$ sudo apt install gtkwave\n</code></pre>"},{"location":"lab3/SIM_intro/#2_1","title":"2. \u6253\u5f00\u6ce2\u5f62\u56fe","text":"<p>\u5b89\u88c5\u597d gtkwave \u540e\uff0c\u4f60\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4f7f\u7528\uff1a</p> <pre><code>$ gtkwave &lt;vcd-file-path&gt;\n</code></pre> <p>\u6216\u8005\u53cc\u51fb\u6ce2\u5f62\u56fe\u6587\u4ef6\u6765\u6253\u5f00\u6ce2\u5f62\u56fe\u3002</p>"},{"location":"lab3/SIM_intro/#3","title":"3. \u5c06\u4fe1\u53f7\u6dfb\u52a0\u5230\u754c\u9762","text":"<p>\u4f7f\u7528 gtkwave \u540e\u6253\u5f00\u6ce2\u5f62\u56fe\uff0c\u4f60\u5c06\u770b\u5230\u4e0b\u9762\u7684\u754c\u9762\uff1a</p> <p></p> \u8fd0\u884c <p>\u8be5\u754c\u9762\u4e0e Vivado \u7684\u6ce2\u5f62\u56fe\u754c\u9762\u5341\u5206\u7c7b\u4f3c\u3002\u4f60\u53ef\u4ee5\u5728\u5de6\u4fa7\u4e0a\u65b9\u7684\u7a97\u53e3\u4e2d\u770b\u5230\u6a21\u5757\u7684\u7ed3\u6784\uff0c\u5728\u5de6\u4fa7\u4e0b\u65b9\u7a97\u53e3\u4e2d\u770b\u5230\u6a21\u5757\u4e2d\u7684\u4fe1\u53f7\u3002\u9009\u4e2d\uff08ctrl+a \u5168\u9009\uff0c\u6309\u4f4f ctrl \u53ef\u591a\u9009\uff09\u60f3\u8981\u89c2\u5bdf\u7684\u4fe1\u53f7\u540e\uff0c\u5355\u51fb\u4e0b\u65b9\u7684 Append \u6216 Insert \u5373\u53ef\u5c06\u5176\u6dfb\u52a0\u8fdb\u53f3\u4fa7\u7684\u6ce2\u5f62\u51fa\u7a97\u53e3\u4e2d\u3002\u754c\u9762\u4e0a\u65b9\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u529f\u80fd\u6309\u94ae\uff0c\u4f60\u53ef\u4ee5\u53c2\u8003 Vivado \u4eff\u771f\u6559\u7a0b\u8fdb\u884c\u4f7f\u7528\u3002</p>"},{"location":"lab3/problem/","title":"\u95ee\u9898\u6c47\u603b","text":"<p>\u63d0\u9192</p> <p>\u8bf7\u5927\u5bb6\u5728\u63d0\u95ee\u524d\uff0c\u4ed4\u7ec6\u9605\u8bfb\u62a5\u9519\u4fe1\u606f\u3002\u5411\u52a9\u6559\u63d0\u95ee\u65f6\uff0c\u63d0\u4f9b\u5c3d\u53ef\u80fd\u591a\u7684\u64cd\u4f5c\u6b65\u9aa4\u3001\u62a5\u9519\u4fe1\u606f\u4ee5\u53ca\u81ea\u5df1\u7684\u5206\u6790\u7b49\u3002\u6211\u4eec\u5c06\u4e0d\u518d\u56de\u7b54\u4ec5\u95ee\u51fa\u95ee\u9898\u800c\u4e0d\u52a0\u601d\u8003\u7684\u7591\u95ee\u3002</p> <p>\u53e6\u5916\uff0c\u6211\u4eec\u5efa\u8bae\u5927\u5bb6\u9605\u8bfb\u63d0\u95ee\u7684\u667a\u6167\uff0c\u4ee5\u4fbf\u4e8e\u66f4\u9ad8\u6548\u5730\u4ea4\u6d41\u8ba8\u8bba\u3002</p> \u4eff\u771f\u6846\u67b6\u4e3a\u4ec0\u4e48\u62a5\u9519\uff1f <p>\u8bf7\u786e\u4fdd\u4e0b\u9762\u7684\u5185\u5bb9\uff1a</p> <ul> <li>\u5728 <code>vsrc</code> \u76ee\u5f55\u4e0b\u6dfb\u52a0\u4e86 <code>your_vsrc</code> \u76ee\u5f55\uff0c\u5e76\u5c06 CPU \u4ee5\u53ca\u5176\u5305\u542b\u7684\u6240\u6709\u5b50\u6a21\u5757\uff08ALU\u3001\u5bc4\u5b58\u5668\u5806\uff09\u7b49\u653e\u5165\u8be5\u76ee\u5f55\u4e0b\u3002\u6ce8\u610f\uff1aPDU \u4ee5\u53ca\u4e0a\u677f\u6846\u67b6\u7684 TOP \u4e0d\u5305\u542b\u5728\u5185\u3002</li> <li>\u5982\u679c\u4f60\u4f7f\u7528\u4e86 Verilog \u5934\u6587\u4ef6\uff0c\u5219\u9700\u8981\u5728 <code>vsrc</code> \u76ee\u5f55\u4e0b\u6dfb\u52a0 <code>your_include</code> \u76ee\u5f55\uff0c\u5e76\u653e\u5728\u8fd9\u91cc\u3002</li> <li>\u8fd0\u884c <code>cmake</code> \u65f6\u4f4d\u4e8e <code>build</code> \u76ee\u5f55\u4e0b\uff0c\u6267\u884c <code>sim</code> \u65f6\u4f4d\u4e8e\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u3002</li> <li>\u6b63\u786e\u8fde\u63a5\u4e86 <code>commit</code> \u548c <code>debug</code> \u7cfb\u5217\u7684\u4fe1\u53f7\u3002</li> <li>\u786e\u4fdd\u81ea\u5df1\u6ca1\u6709\u968f\u610f\u4fee\u6539 <code>configs.vh</code> \u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u3002</li> <li>\u5982\u679c\u662f Hit Bad Trap\uff0c\u8bf7\u786e\u4fdd\u4f7f\u7528\u7684\u6d4b\u8bd5\u7a0b\u5e8f\u6700\u540e\u5c06 a0 \u5bc4\u5b58\u5668\u7f6e\u4e3a 0\u3002</li> <li>\u786e\u4fdd\u6240\u6709\u7684\u8bbe\u8ba1\u6587\u4ef6\u91cc\u5747\u6ca1\u6709 <code>`timescale</code> \u8bed\u53e5\u3002</li> </ul> RV \u5982\u4f55\u4eff\u771f\uff1f <p>\u624b\u52a8\u7f16\u5199\u4e00\u4e2a <code>CPU_tb</code> \u6587\u4ef6\uff0c\u5728\u5176\u4e2d\u4f8b\u5316 CPU \u548c\u5b58\u50a8\u5668 IP \u6838\u3002\u5c06 CPU \u7ed9\u51fa\u7684 <code>imem_raddr</code> \u53f3\u79fb\u4e24\u4f4d\u540e\u63a5\u5165\u5b58\u50a8\u5668\u7684 <code>a</code> \u7aef\u53e3\uff0c\u5c06\u5b58\u50a8\u5668\u7684 <code>spo</code> \u7aef\u53e3\u63a5\u5165 CPU \u7684 <code>imem_rdata</code> \u7aef\u53e3\u3002\u4eff\u771f\u65f6\uff0c\u5c06 COE \u5bfc\u5165\u5b58\u50a8\u5668 IP \u6838\uff0c\u751f\u6210\u5408\u9002\u7684\u65f6\u949f\u4fe1\u53f7\u548c\u590d\u4f4d\u4fe1\u53f7\u5373\u53ef\u3002\u4eff\u771f\u65f6\u7684 <code>global_en</code> \u4fe1\u53f7\u7f6e\u4e3a 1\u3002</p> include \u76f8\u5173\u7684\u95ee\u9898 <ul> <li>\u89e3\u51b3\u65b9\u6848 1\uff1a\u76f4\u63a5\u5220\u9664\u4e0a\u677f\u6846\u67b6\u4e2d\u7684 <code>config.v</code> \u6587\u4ef6\uff0c\u5c06\u5176\u4e2d\u7684\u5b8f\u5b9a\u4e49\u5185\u5bb9\u79fb\u52a8\u5230\u9700\u8981\u4f7f\u7528\u5b8f\u5b9a\u4e49\u7684\u5404\u4e2a\u6587\u4ef6\u4e2d\uff08\u4f8b\u5982 CPU.v\u3001Decode.v \u7b49\uff09\uff0c\u6700\u540e\u5220\u9664 CPU \u4ee5\u53ca\u5176\u5305\u542b\u7684\u5404\u4e2a\u6a21\u5757\u4e2d\u6240\u6709\u7684 <code>include</code> \u8bed\u53e5\u3002\u6b64\u65f6\u4f7f\u7528\u4eff\u771f\u6846\u67b6\u53ea\u9700\u8981\u5c06 CPU \u4ee5\u53ca\u5176\u5b50\u6a21\u5757\u5bfc\u5165\u5230 <code>your_vsrc</code> \u76ee\u5f55\u4e0b\u5373\u53ef\u3002</li> <li>\u89e3\u51b3\u65b9\u6848 2\uff1a\u6309\u7167\u4e0b\u9762\u7684\u6b65\u9aa4\u8fdb\u884c\uff1a<ol> <li>\u5728\u6240\u6709\u4f7f\u7528\u4e86 <code>config.v</code> \u7684\u6587\u4ef6\u4e2d\uff0c\u5c06 include \u8bed\u53e5\u6539\u4e3a <code>`include \"config.v\"</code>\uff08\u4e0d\u518d\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\u6216\u7edd\u5bf9\u8def\u5f84\uff09\uff1b</li> <li>\u5c06 <code>config.v</code> \u6587\u4ef6\u653e\u5165\u4eff\u771f\u6846\u67b6\u7684 <code>your_include</code> \u76ee\u5f55\u4e0b\uff0c\u5c06 CPU \u4ee5\u53ca\u5176\u5b50\u6a21\u5757\u653e\u5165\u4eff\u771f\u6846\u67b6\u7684 <code>your_vsrc</code> \u76ee\u5f55\u4e0b\uff1b</li> <li>\u5728 Vivado \u7684\u9879\u76ee\u4e2d\uff0c\u5c06 <code>config.v</code> \u8bbe\u7f6e\u6210 Verilog \u5934\u6587\u4ef6\u3002\u65b9\u6cd5\u4e3a\uff1a\u5728 Vivado \u7684 Sources \u7a97\u53e3\u4e2d\u53f3\u952e <code>config.v</code> \u6587\u4ef6\uff0c\u9009\u62e9 Set File Type\uff0c\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u4e2d\u9009\u62e9 Verilog Header \u5373\u53ef\u3002      \u5c06 config.v \u8bbe\u7f6e\u6210 Verilog \u5934\u6587\u4ef6 </li> <li>\u6b64\u65f6\uff0c\u4eff\u771f\u6846\u67b6\u548c\u4e0a\u677f\u6846\u67b6\u5747\u53ef\u6b63\u5e38\u8bc6\u522b\u5230 <code>config.v</code> \u6587\u4ef6\u3002</li> </ol> </li> </ul>"},{"location":"lab3/proj/","title":"\u6846\u67b6\u4ecb\u7ecd","text":"<p>\u4ec5\u4ec5\u5b8c\u6210 CPU \u7684\u8bbe\u8ba1\u662f\u4e0d\u591f\u7684\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e9b\u7279\u522b\u7684\u5de5\u5177\u68c0\u9a8c\u5e76\u63a7\u5236 CPU\uff0c\u8fd9\u5c31\u9700\u8981\u4eff\u771f\u6846\u67b6\u548c\u4e0a\u677f\u6846\u67b6\u3002</p> <p>\u672c\u6b21\u5b9e\u9a8c\u7684\u6846\u67b6\uff08\u5df2\u66f4\u65b0\uff0c\u6700\u65b0\u7248\u672c 0415\uff09\u5728\u8fd9\u91cc\uff0c\u5bf9\u5e94\u7684\u7ea6\u675f\u6587\u4ef6\u5728\u8fd9\u91cc\u3002</p> \u5982\u4f55\u5224\u65ad\u662f\u5426\u4f7f\u7528\u7684\u662f\u6700\u65b0\u7684 PDU\uff1f <p>\u4f60\u53ef\u4ee5\u67e5\u770b TOP.v \u6587\u4ef6\u7684\u7b2c 84 \u884c\uff1a\u5982\u679c\u4e3a <code>.CLKOUT0_DIVIDE(64),</code>\uff0c\u5219\u4ee3\u8868\u4f7f\u7528\u7684\u662f\u6700\u65b0\u7684 PDU\u3002\u6b64\u5916\uff0c\u6700\u65b0\u7684 PDU \u7684 TOP.v \u4e2d\uff0cclk \u4fe1\u53f7\u7684\u540d\u79f0\u4e3a <code>CLK25MHZ</code>\u3002\u5982\u679c\u4f60\u4e0b\u8f7d\u7684\u4e0d\u662f\u6700\u65b0\u7684 PDU\uff0c\u53ef\u4ee5\u5728\u6e05\u9664\u6d4f\u89c8\u5668\u7f13\u5b58\u540e\u91cd\u65b0\u4e0b\u8f7d\u3002\u6ce8\u610f\uff1a\u4e0d\u8981\u901a\u8fc7\u79c1\u81ea\u4fee\u6539\u6587\u4ef6\u7684\u65b9\u5f0f\u5c06 PDU \u5347\u7ea7\uff01</p>"},{"location":"lab3/proj/#cpu","title":"CPU \u9876\u5c42\u63a5\u53e3","text":"<p>\u63d0\u9192</p> <p>\u65e0\u8bba\u662f RV32I \u8fd8\u662f LA32R\uff0c\u672c\u6b21\u5b9e\u9a8c\u90fd\u9700\u8981\u4f7f\u7528\u4e0b\u9762\u7684\u63a5\u53e3\uff01</p> <p>\u672c\u6b21\u5b9e\u9a8c\u4e2d CPU \u7684\u9876\u5c42\u6a21\u5757\u5982\u4e0b\u6240\u793a\uff1a</p> CPU<pre><code>module CPU (\n    input                   [ 0 : 0]            clk,\n    input                   [ 0 : 0]            rst,\n\n    input                   [ 0 : 0]            global_en,\n\n/* ------------------------------ Memory (inst) ----------------------------- */\n    output                  [31 : 0]            imem_raddr,\n    input                   [31 : 0]            imem_rdata,\n\n/* ------------------------------ Memory (data) ----------------------------- */\n    input                   [31 : 0]            dmem_rdata,\n    output                  [ 0 : 0]            dmem_we,\n    output                  [31 : 0]            dmem_addr,\n    output                  [31 : 0]            dmem_wdata,\n\n/* ---------------------------------- Debug --------------------------------- */\n    output                  [ 0 : 0]            commit,\n    output                  [31 : 0]            commit_pc,\n    output                  [31 : 0]            commit_inst,\n    output                  [ 0 : 0]            commit_halt,\n    output                  [ 0 : 0]            commit_reg_we,\n    output                  [ 4 : 0]            commit_reg_wa,\n    output                  [31 : 0]            commit_reg_wd,\n    output                  [ 0 : 0]            commit_dmem_we,\n    output                  [31 : 0]            commit_dmem_wa,\n    output                  [31 : 0]            commit_dmem_wd,\n\n    input                   [ 4 : 0]            debug_reg_ra,\n    output                  [31 : 0]            debug_reg_rd\n);\n// ......\nendmodule\n</code></pre> <p>\u5176\u4e2d\uff1a</p> <ul> <li> <p><code>global_en</code> \u4fe1\u53f7\u4e3a\u6765\u81ea PDU \u7684\u63a7\u5236\u4fe1\u53f7\u3002\u8be5\u4fe1\u53f7\u5728\u672c\u6b21\u5b9e\u9a8c\u4e2d\u4f1a\u63a7\u5236 PC \u5bc4\u5b58\u5668\u7684\u5199\u4f7f\u80fd\uff0c\u4ece\u800c\u63a7\u5236 CPU \u662f\u5426\u6267\u884c\u6307\u4ee4\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u4f8b\u5316 PC \u5bc4\u5b58\u5668\uff1a</p> <pre><code>PC my_pc (\n    .clk    (clk        ),\n    .rst    (rst        ),\n    .en     (global_en  ),    // \u5f53 global_en \u4e3a\u9ad8\u7535\u5e73\u65f6\uff0cPC \u624d\u4f1a\u66f4\u65b0\uff0cCPU \u624d\u4f1a\u6267\u884c\u6307\u4ee4\u3002\n    .npc    (cur_npc    ),\n    .pc     (cur_pc     )\n);\n</code></pre> </li> <li> <p><code>Memory (inst)</code> \u4e0b\u7684\u63a5\u53e3\u5c06\u8fde\u63a5\u5230\u6307\u4ee4\u5b58\u50a8\u5668\u3002\u8bf7\u6ce8\u610f\u7a0b\u5e8f\u6bb5\u7684\u5730\u5740\u8303\u56f4\uff1aRV32I \u6307\u4ee4\u96c6 0x00400000 ~ 0x0ffffffc\u3001LA32R \u6307\u4ee4\u96c6 0x1c000000~0x1c7ffffc\uff1b</p> </li> <li><code>Memory (data)</code> \u4e0b\u7684\u63a5\u53e3\u5c06\u8fde\u63a5\u5230\u6570\u636e\u5b58\u50a8\u5668\u3002\u672c\u6b21\u5b9e\u9a8c\u4e2d\uff0c<code>dmem_we</code>\u3001<code>dmem_addr</code> \u548c <code>dmem_wdata</code> \u7aef\u53e3\u5728 CPU \u6a21\u5757\u5185\u90e8\u65e0\u9700\u8fde\u63a5\uff1b</li> <li><code>Debug</code> \u4e0b\u7684\u63a5\u53e3\u4f1a\u7528\u4e8e\u4eff\u771f\u548c\u4e0a\u677f\u6846\u67b6\uff0c\u4e0b\u9762\u4ecb\u7ecd\u4e86\u8fd9\u4e9b\u7aef\u53e3\u5e94\u5f53\u5982\u4f55\u8fde\u63a5\u3002</li> </ul>"},{"location":"lab3/proj/#cpu_1","title":"CPU \u4e0e\u4eff\u771f\u6846\u67b6\u7684\u9002\u914d","text":"<p>\u672c\u5b66\u671f\u5f00\u53d1\u7684\u4eff\u771f\u6846\u67b6\u5185\u90e8\u4f7f\u7528 C++ \u642d\u5efa\u4e86\u4e00\u4e2a\u7ecf\u8fc7\u6b63\u786e\u6027\u6d4b\u8bd5\u7684 CPU\uff08\u4ee5\u4e0b\u7edf\u79f0\u6807\u51c6\u6838\uff09\u3002\u5728\u8fd0\u884c\u4eff\u771f\u65f6\uff0c\u6846\u67b6\u4f1a\u9996\u5148\u5c06\u7528\u6237\u7f16\u5199\u7684 Verilog \u4ee3\u7801\u7ffb\u8bd1\u6210 C++ \u4ee3\u7801\uff08\u4ee5\u4e0b\u7edf\u79f0\u7528\u6237\u6838\uff09\u3002\u63a5\u4e0b\u6765\uff0c\u6846\u67b6\u4f1a\u5355\u6b65\u8fd0\u884c\u7528\u6237\u6838\u4e0e\u6807\u51c6\u6838\uff0c\u5e76\u6bd4\u8f83\u4e8c\u8005\u8fd0\u884c\u7684\u72b6\u6001\u3002\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u6846\u67b6\u4f1a\u8bb0\u5f55\u76f8\u5e94\u7684 CPU \u72b6\u6001\u5e76\u544a\u77e5\u7528\u6237\uff0c\u4ece\u800c\u9ad8\u6548\u5b9a\u4f4d\u8bbe\u8ba1\u4e2d\u53ef\u80fd\u5b58\u5728\u7684\u95ee\u9898\u3002</p> <p>\u8fd9\u91cc\u6d89\u53ca\u5230\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u4f55\u7cbe\u786e\u63cf\u8ff0 CPU \u7684\u72b6\u6001\u5462\uff1f\u81ea\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u8bb0\u5f55 CPU \u5185\u90e8\u6240\u6709\u7684\u4fe1\u53f7\uff0c\u7136\u540e\u6328\u4e2a\u8fdb\u884c\u5bf9\u6bd4\u3002\u7136\u800c\u4e0d\u540c\u7528\u6237\u7684\u8bbe\u8ba1\u4e5f\u4e0d\u5b8c\u5168\u76f8\u540c\uff0c\u6211\u4eec\u4e5f\u4e0d\u80fd\u7edf\u4e00\u5404\u4e2a\u4fe1\u53f7\u7684\u540d\u79f0\u4e0e\u4f5c\u7528\uff0c\u6240\u4ee5\u8fd9\u6837\u7684\u601d\u8def\u662f\u4e0d\u73b0\u5b9e\u7684\u3002\u4e8b\u5b9e\u4e0a\uff0cCPU \u7684\u72b6\u6001\u53ef\u4ee5\u7531 PC\u3001\u5bc4\u5b58\u5668\u5806\u548c\u5b58\u50a8\u5668\u7684\u5199\u5165\u72b6\u6001\u5b8c\u5168\u786e\u5b9a\uff1a\u53ea\u8981\u4fdd\u8bc1 CPU \u6b63\u786e\u5199\u5165\u4e86\u8fd9\u4e9b\u7ec4\u4ef6\uff0c\u5c31\u53ef\u4ee5\u4fdd\u8bc1 CPU \u8fd0\u884c\u7684\u6b63\u786e\u6027\u3002\u6bd4\u5982\uff1a\u5982\u679c ALU \u7ed3\u679c\u7b97\u9519\u4e86\uff0c\u90a3\u4e48\u6700\u540e\u5199\u56de\u5bc4\u5b58\u5668\u5806\u7684\u6570\u636e\u5c31\u4f1a\u51fa\u9519\uff1b\u5982\u679c\u5206\u652f\u8df3\u8f6c\u51fa\u9519\u4e86\uff0c\u90a3\u4e48\u5199\u5165 PC \u7684\u6570\u636e\u5c31\u4f1a\u51fa\u9519\uff1b\u5982\u679c\u8bbf\u5b58\u5730\u5740\u7b97\u9519\u4e86\uff0c\u90a3\u4e48\u5199\u5165\u6570\u636e\u5b58\u50a8\u5668\u7684\u5730\u5740\u5c31\u4f1a\u9519\u8bef\u3002</p> <p>\u6211\u4eec\u7684\u4eff\u771f\u6846\u67b6\u6b63\u662f\u57fa\u4e8e\u8fd9\u6837\u7684\u601d\u60f3\u8bbe\u8ba1\u7684\uff1a\u6bd4\u8f83\u6bcf\u4e00\u6761\u6307\u4ee4\u8fd0\u884c\u5b8c\u6210\u540e\uff0c\u6807\u51c6\u6838\u4e0e\u7528\u6237\u6838\u5728 PC\u3001\u5bc4\u5b58\u5668\u5806\u548c\u5b58\u50a8\u5668\u7684\u5199\u5165\u72b6\u6001\u4e0a\u7684\u5f02\u540c\uff0c\u5373\u53ef\u5224\u65ad\u7528\u6237\u6838\u662f\u5426\u5b58\u5728\u6f5c\u5728\u7684\u95ee\u9898\u3002</p> <p>\u56de\u5230\u6211\u4eec CPU \u7684\u7aef\u53e3\u4e0a\uff1a</p> <pre><code>output                  [ 0 : 0]            commit,\noutput                  [31 : 0]            commit_pc,\noutput                  [31 : 0]            commit_inst,\noutput                  [ 0 : 0]            commit_halt,\noutput                  [ 0 : 0]            commit_reg_we,\noutput                  [ 4 : 0]            commit_reg_wa,\noutput                  [31 : 0]            commit_reg_wd,\noutput                  [ 0 : 0]            commit_dmem_we,\noutput                  [31 : 0]            commit_dmem_wa,\noutput                  [31 : 0]            commit_dmem_wd,\n\ninput                   [ 4 : 0]            debug_reg_ra,\noutput                  [31 : 0]            debug_reg_rd\n</code></pre> <p>\u8fd9\u4e9b\u7aef\u53e3\u4e2d\uff0c<code>commit</code> \u7cfb\u5217\u7684\u7aef\u53e3\u5373\u4e3a\u6bcf\u4e00\u6761\u6307\u4ee4\u6267\u884c\u5b8c\u6210\u540e\uff0c\u63d0\u4ea4\uff08Commit\uff09\u7ed9\u4eff\u771f\u6846\u67b6\u7684\u5199\u72b6\u6001\u4fe1\u53f7\u3002\u5176\u4e2d\uff1a</p> <ul> <li><code>commit</code> \u7aef\u53e3\u7528\u4e8e\u6307\u793a\u5f53\u524d\u662f\u5426\u6709\u4e00\u6761\u6307\u4ee4\u6267\u884c\u5b8c\u6210\u3002\u5728\u5355\u5468\u671f CPU \u4e2d\uff0c\u53ea\u8981 PC \u53d1\u751f\u4e86\u53d8\u5316\uff0c\u5c31\u5fc5\u7136\u6709\u4e00\u6761\u6307\u4ee4\u6267\u884c\u5b8c\u6210\uff08\u56e0\u4e3a\u4e00\u4e2a\u5468\u671f\u6267\u884c\u4e00\u6761\u6307\u4ee4\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u540e\u9762\u7684\u4ee3\u7801\u4e2d\u5c06\u5176\u8bbe\u7f6e\u4e3a 1\u3002</li> <li><code>commit_pc</code> \u4e3a\u8fd9\u6761\u6307\u4ee4\u7684 PC\u3002</li> <li><code>commit_inst</code> \u4e3a\u8fd9\u6761\u6307\u4ee4\u672c\u8eab\u3002</li> <li><code>commit_halt</code> \u7528\u4e8e\u6307\u793a\u8fd9\u6761\u6307\u4ee4\u662f\u5426\u662f\u6307\u4ee4\u5e8f\u5217\u4e2d\u7684\u6700\u540e\u4e00\u6761\u6307\u4ee4\u3002\u4f60\u53ef\u80fd\u5df2\u7ecf\u6ce8\u610f\u5230\u4e86\uff0cLars \u5728\u7f16\u8bd1\u65f6\u4f1a\u5728\u6c47\u7f16\u4ee3\u7801\u672b\u5c3e\u6dfb\u52a0\u4e00\u6761\u6307\u4ee4 0x80000000\uff0c\u8fd9\u6761\u6307\u4ee4\u662f\u6211\u4eec\u7ea6\u5b9a\u7684 <code>HALT</code> \u6307\u4ee4\uff0c\u7528\u4e8e\u6307\u793a\u5f53\u524d\u7a0b\u5e8f\u5df2\u7ecf\u8fd0\u884c\u5b8c\u6210\u3002\u4eff\u771f\u6846\u67b6\u5728\u83b7\u5f97\u8fd9\u4e2a\u4fe1\u53f7\u540e\u5c31\u4f1a\u505c\u6b62\u6bd4\u5bf9\u3002</li> <li><code>commit_reg</code> \u7cfb\u5217\u7528\u4e8e\u6307\u793a\u5bc4\u5b58\u5668\u5806\u7684\u5199\u72b6\u6001\u3002</li> <li><code>commit_dmem</code> \u7cfb\u5217\u7528\u4e8e\u6307\u793a\u6570\u636e\u5b58\u50a8\u5668\u7684\u5199\u72b6\u6001\u3002</li> </ul> <p><code>debug</code> \u7cfb\u5217\u7684\u7aef\u53e3\u7528\u4e8e\u4eff\u771f\u6846\u67b6\u8fdb\u884c\u66f4\u4e3a\u5177\u4f53\u7684\u6bd4\u5bf9\u64cd\u4f5c\uff0c\u5373\u5224\u65ad\u7528\u6237\u6838\u7684 32 \u4e2a\u5bc4\u5b58\u5668\u7684\u6570\u503c\u662f\u5426\u4e0e\u6807\u51c6\u6838\u4e00\u81f4\u3002</p> <p>\u4e3a\u4e86\u540c\u6b65\u6bd4\u5bf9\u7684\u65f6\u5e8f\uff0c\u6211\u4eec\u5c06\u4e0a\u8ff0\u4fe1\u53f7\u5728 CPU \u4e2d\u6682\u5b58\u4e00\u7ea7\u540e\u7ed9\u51fa\u3002\u56e0\u6b64\uff0cCPU \u6a21\u5757\u7684\u6700\u540e\u9700\u8981\u6dfb\u52a0\u5982\u4e0b\u7684\u4ee3\u7801\uff1a</p> \u9002\u914d\u6846\u67b6\u7684\u4ee3\u7801<pre><code>reg  [ 0 : 0]   commit_reg          ;\nreg  [31 : 0]   commit_pc_reg       ;\nreg  [31 : 0]   commit_inst_reg     ;\nreg  [ 0 : 0]   commit_halt_reg     ;\nreg  [ 0 : 0]   commit_reg_we_reg   ;\nreg  [ 4 : 0]   commit_reg_wa_reg   ;\nreg  [31 : 0]   commit_reg_wd_reg   ;\nreg  [ 0 : 0]   commit_dmem_we_reg  ;\nreg  [31 : 0]   commit_dmem_wa_reg  ;\nreg  [31 : 0]   commit_dmem_wd_reg  ;\n\nalways @(posedge clk) begin\n    if (rst) begin\n        commit_reg          &lt;= 1'H0;\n        commit_pc_reg       &lt;= 32'H0;\n        commit_inst_reg     &lt;= 32'H0;\n        commit_halt_reg     &lt;= 1'H0;\n        commit_reg_we_reg   &lt;= 1'H0;\n        commit_reg_wa_reg   &lt;= 5'H0;\n        commit_reg_wd_reg   &lt;= 32'H0;\n        commit_dmem_we_reg  &lt;= 1'H0;\n        commit_dmem_wa_reg  &lt;= 32'H0;\n        commit_dmem_wd_reg  &lt;= 32'H0;\n    end\n    else if (global_en) begin\n        // !!!! \u8bf7\u6ce8\u610f\u6839\u636e\u81ea\u5df1\u7684\u5177\u4f53\u5b9e\u73b0\u66ff\u6362 &lt;= \u53f3\u4fa7\u7684\u4fe1\u53f7 !!!!\n        commit_reg          &lt;= 1'H1;                        // \u4e0d\u9700\u8981\u6539\u52a8\n        commit_pc_reg       &lt;= cur_pc;                      // \u9700\u8981\u4e3a\u5f53\u524d\u7684 PC\n        commit_inst_reg     &lt;= cur_inst;                    // \u9700\u8981\u4e3a\u5f53\u524d\u7684\u6307\u4ee4\n        commit_halt_reg     &lt;= cur_inst == `HALT_INST;      // \u6ce8\u610f\uff01\u8bf7\u6839\u636e\u6307\u4ee4\u96c6\u8bbe\u7f6e HALT_INST\uff01\n        commit_reg_we_reg   &lt;= rf_we;                       // \u9700\u8981\u4e3a\u5f53\u524d\u7684\u5bc4\u5b58\u5668\u5806\u5199\u4f7f\u80fd\n        commit_reg_wa_reg   &lt;= rf_wa;                       // \u9700\u8981\u4e3a\u5f53\u524d\u7684\u5bc4\u5b58\u5668\u5806\u5199\u5730\u5740\n        commit_reg_wd_reg   &lt;= rf_wd;                       // \u9700\u8981\u4e3a\u5f53\u524d\u7684\u5bc4\u5b58\u5668\u5806\u5199\u6570\u636e\n        commit_dmem_we_reg  &lt;= 0;                           // \u4e0d\u9700\u8981\u6539\u52a8\n        commit_dmem_wa_reg  &lt;= 0;                           // \u4e0d\u9700\u8981\u6539\u52a8\n        commit_dmem_wd_reg  &lt;= 0;                           // \u4e0d\u9700\u8981\u6539\u52a8\n    end\nend\n\nassign commit               = commit_reg;\nassign commit_pc            = commit_pc_reg;\nassign commit_inst          = commit_inst_reg;\nassign commit_halt          = commit_halt_reg;\nassign commit_reg_we        = commit_reg_we_reg;\nassign commit_reg_wa        = commit_reg_wa_reg;\nassign commit_reg_wd        = commit_reg_wd_reg;\nassign commit_dmem_we       = commit_dmem_we_reg;\nassign commit_dmem_wa       = commit_dmem_wa_reg;\nassign commit_dmem_wd       = commit_dmem_wd_reg;\n</code></pre> <p>HALT \u6307\u4ee4</p> <p> \u8bf7\u6839\u636e\u4f60\u6240\u4f7f\u7528\u7684\u6307\u4ee4\u96c6\u6b63\u786e\u8bbe\u7f6e HALT \u6307\u4ee4 </p> <p>\u4e3a\u4e86\u4fdd\u8bc1\u6c47\u7f16\u7a0b\u5e8f\u8fd0\u884c\u5b8c\u6210\u540e\uff0cPDU \u80fd\u591f\u77e5\u9053 CPU \u5df2\u7ecf\u8fd0\u884c\u5b8c\u6210\uff0cCPU \u9700\u8981\u5728\u7a0b\u5e8f\u6267\u884c\u5b8c\u6210\u540e\u5411 PDU \u53d1\u51fa\u4e00\u4e2a\u7279\u6b8a\u7684\u4fe1\u53f7\uff0c\u5728\u8fd9\u91cc\u5c31\u662f\u6211\u4eec\u7684 <code>halt</code> \u4fe1\u53f7\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u6c47\u7f16\u7a0b\u5e8f\u6700\u540e\u6dfb\u52a0\u4e00\u4e2a\u7279\u6b8a\u7684\u300c\u6307\u4ee4\u300d\uff0c\u4fdd\u8bc1\u5176\u4e0d\u4f1a\u88ab\u7528\u5728\u6b63\u5e38\u7684\u6c47\u7f16\u7a0b\u5e8f\u4e2d\u5373\u53ef\u3002</p> <ul> <li>\u5bf9\u4e8e RV32R \u6307\u4ee4\u96c6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>ebreak</code> \u6307\u4ee4\uff0c\u5b83\u5bf9\u5e94\u7684\u673a\u5668\u7801\u662f 0x00100073\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5c06 <code>HALT_INST</code> \u8bbe\u7f6e\u4e3a 32'H00100073\u3002\u4f60\u53ef\u4ee5\u5728\u6c47\u7f16\u4ee3\u7801\u7684\u6700\u540e\u6dfb\u52a0\u4e00\u6761 <code>ebreak</code> \u6307\u4ee4\uff0c\u4ee5\u6807\u8bc6\u7a0b\u5e8f\u7684\u7ed3\u675f\uff1b</li> <li>\u5bf9\u4e8e LA32R \u6307\u4ee4\u96c6\uff0c\u6211\u4eec\u7684\u4eff\u771f\u6846\u67b6\u89c4\u5b9a\u4e86\u4e2d\u65ad\u6307\u4ee4\u7684\u673a\u5668\u7801\u662f 0x80000000\uff0c\u56e0\u6b64\u5728\u786c\u4ef6\u8bbe\u8ba1\u65f6\u9700\u8981\u4fdd\u6301\u4e00\u81f4\u3002\u4f60\u9700\u8981\u624b\u52a8\u5728 COE \u6587\u4ef6\u7684\u672b\u5c3e\u6dfb\u52a0\u8fd9\u6761\u673a\u5668\u7801\u3002\u8fd9\u6837\uff0c\u5f53\u7a0b\u5e8f\u6267\u884c\u5230\u8fd9\u4e00\u6761\u300c\u6307\u4ee4\u300d\u65f6\uff0cCPU \u5c31\u53ef\u4ee5\u4ea7\u751f <code>commit_halt</code> \u4fe1\u53f7\uff0c\u8fdb\u800c\u88ab PDU \u6355\u6349\u5230\u3002</li> </ul>"},{"location":"lab3/proj/#_2","title":"\u4e0a\u677f\u6846\u67b6\u6982\u8ff0","text":"<p>\u672c\u6b21\u5b9e\u9a8c\u63d0\u4f9b\u7684\u4e0a\u677f\u6846\u67b6\u57fa\u672c\u7ed3\u6784\u5982\u4e0b\uff1a</p> <p></p> \u9879\u76ee\u6846\u67b6 <p>\u9879\u76ee\u7684\u6587\u4ef6\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>vsrc\n\u251c\u2500 CPU  &lt;---------------------------------- \u4f60\u53ea\u9700\u8981\u4fee\u6539 CPU \u76ee\u5f55\u4e0b\u7684\u5185\u5bb9\n\u2502  \u2514\u2500 CPU.v\n\u251c\u2500 MEM  &lt;---------------------------------- \u5185\u5b58\u7ba1\u7406\n\u2502  \u251c\u2500 MEM_BRIDGE.v\n\u2502  \u2514\u2500 MMIO.v\n\u251c\u2500 PDU  &lt;---------------------------------- PDU \u53ca\u5176\u9644\u5c5e\u6a21\u5757\n\u2502  \u251c\u2500 PDU.v\n\u2502  \u251c\u2500 RTL\n\u2502  \u2502  \u251c\u2500 BP_LIST_REG.v  &lt;------------------ \u7528\u4e8e\u8bb0\u5f55\u5e76\u5904\u7406\u65ad\u70b9\n\u2502  \u2502  \u251c\u2500 INFO_SENDER.v  &lt;------------------ \u7528\u4e8e\u5411\u4e32\u53e3\u8f93\u51fa\u63d0\u793a\u4fe1\u606f\n\u2502  \u2502  \u2514\u2500 PDU_decode.v &lt;-------------------- \u7528\u4e8e\u5bf9\u4e32\u53e3\u6570\u636e\u8fdb\u884c\u8bd1\u7801\n\u2502  \u251c\u2500 UART\n\u2502  \u2502  \u251c\u2500 UART_RX.v\n\u2502  \u2502  \u2514\u2500 UART_TX.v\n\u2502  \u2514\u2500 UTILS\n\u2502     \u251c\u2500 HEX2ASCII.v\n\u2502     \u251c\u2500 HEX2UART.v\n\u2502     \u251c\u2500 POSEDGE_GEN.v\n\u2502     \u251c\u2500 QUEUE.v\n\u2502     \u2514\u2500 Segment.v\n\u2514\u2500 TOP.v  &lt;-------------------------------- \u9879\u76ee\u7684\u9876\u5c42\u6587\u4ef6\n</code></pre> <p>\u5176\u4e2d\uff0c\u6211\u4eec\u5728 TOP.v \u6587\u4ef6\u4e2d\u4f8b\u5316\u4e86\u6307\u4ee4\u5b58\u50a8\u5668\u548c\u6570\u636e\u5b58\u50a8\u5668\u3002\u4e3a\u6b64\uff0c\u4f60\u9700\u8981\u5728\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u521b\u5efa\u4e24\u4e2a\u5206\u5e03\u5f0f\u5b58\u50a8\u5668 IP \u6838\uff0c\u5e76\u6309\u7167\u4e0b\u56fe\u6240\u793a\u7684\u53c2\u6570\u8fdb\u884c\u914d\u7f6e\uff08\u6ce8\u610f\u5c06 IP \u6838\u547d\u540d\u4e3a INST_MEM \u548c DATA_MEM\uff09\uff1a</p> <p></p> \u914d\u7f6e\u6307\u4ee4\u5b58\u50a8\u5668 IP \u6838 <p></p> \u914d\u7f6e\u6570\u636e\u5b58\u50a8\u5668 IP \u6838 <p>\u5b8c\u6210\u540e\uff0c\u5728 Vivado \u7684\u9879\u76ee\u4e2d\u5c06 vsrc \u6587\u4ef6\u5939\u5bfc\u5165\uff0c\u5373\u53ef\u4f7f\u7528\u672c\u6b21\u5b9e\u9a8c\u7684\u4e0a\u677f\u6846\u67b6\u3002</p>"},{"location":"lab4/","title":"\u5b9e\u9a8c 4\uff1a\u5b8c\u6574\u5355\u5468\u671f CPU","text":""},{"location":"lab4/#_1","title":"\u5b9e\u9a8c\u76ee\u7684","text":"<p>\u5728\u672c\u6b21\u5b9e\u9a8c\u4e2d\uff0c\u6211\u4eec\u5c06\u8fdb\u4e00\u6b65\u5b8c\u5584\u4e0a\u4e00\u6b21\u5b9e\u9a8c\u8bbe\u8ba1\u7684 CPU\uff0c\u4e3a\u5176\u589e\u52a0\u5206\u652f\u6307\u4ee4\u548c\u8bbf\u5b58\u6307\u4ee4\u7684\u76f8\u5173\u529f\u80fd\u3002</p>"},{"location":"lab4/#_2","title":"\u5b9e\u9a8c\u5185\u5bb9","text":"Lab4 \u989d\u5916\u9700\u8981\u5b9e\u73b0\u7684\u6307\u4ee4 <p>\u672c\u6b21\u5b9e\u9a8c\u9700\u8981\u5728 Lab3 \u652f\u6301\u7684\u6307\u4ee4\u7684\u57fa\u7840\u4e0a\uff0c\u989d\u5916\u652f\u6301\u4e0b\u9762\u7684\u6307\u4ee4\uff08SLU \u6307\u7ecf\u8fc7 SL_UNIT \u5904\u7406\u4e4b\u540e\u7684\u7ed3\u679c\uff09\uff1a</p> LA32R \u4e2d\u6307\u4ee4 RV32I \u4e2d\u6307\u4ee4 \u6307\u4ee4\u529f\u80fd \u8bf4\u660e ld.w rd, rj, imm lw rd, offset(rs1) GR[rd] = Mem[GR[rj] + imm]  x[rd] = sext(M[x[rs1] + sext(offset)]) \u52a0\u8f7d\u5b57 ld.h rd, rj, imm lh rd, offset(rs1) GR[rd] = SLU(Mem[GR[rj] + imm])  x[rd] = SLU((M[x[rs1] + sext(offset)])) \u52a0\u8f7d\u534a\u5b57 ld.b rd, rj, imm lb rd, offset(rs1) GR[rd] = SLU(Mem[GR[rj] + imm])  x[rd] = SLU((M[x[rs1] + sext(offset)])) \u52a0\u8f7d\u5b57\u8282 ld.hu rd, rj, imm lhu rd, offset(rs1) GR[rd] = SLU(Mem[GR[rj] + imm])  x[rd] = SLU((M[x[rs1] + sext(offset)])) \u65e0\u7b26\u53f7\u52a0\u8f7d\u534a\u5b57 ld.bu rd, rj, imm lbu rd, offset(rs1) GR[rd] = SLU(Mem[GR[rj] + imm])  x[rd] = SLU((M[x[rs1] + sext(offset)])) \u65e0\u7b26\u53f7\u52a0\u8f7d\u5b57\u8282 st.w rd, rj, imm sw rs2, offset(rs1) Mem[GR[rj] + imm] = GR[rd]  M[x[rs1] + sext(offset)] = x[rs2] \u5b58\u50a8\u5b57 st.h rd, rj, imm sh rs2, offset(rs1) Mem[GR[rj] + imm] = SLU(GR[rd])  M[x[rs1] + sext(offset)] = SLU(x[rs2]) \u5b58\u50a8\u534a\u5b57 st.b rd, rj, imm sb rs2, offset(rs1) Mem[GR[rj] + imm] = SLU(GR[rd])  M[x[rs1] + sext(offset)] = SLU(x[rs2]) \u5b58\u50a8\u5b57\u8282 jirl rd, rj, label jalr rd, offset(rs1) GR[rd] = pc + 4; pc = label  x[rd] = pc+4; pc=(x[rs1]+sext(offset))&amp;~1; \u95f4\u63a5\u76f8\u5bf9\u8df3\u8f6c\u5e76\u94fe\u63a5 b label j offset(jal x0, offset)\uff08\u4f2a\u6307\u4ee4\uff09 pc = label  pc += sext(offset) \u65e0\u6761\u4ef6\u8df3\u8f6c bl label jal rd, offset GR[1] = pc + 4; pc = label  x[rd] = pc+4; pc += sext(offset) \u51fd\u6570\uff08\u5b50\u7a0b\u5e8f\uff09\u8c03\u7528\u5e76\u94fe\u63a5 beq rj, rd, label beq rs1, rs2, offset if (GR[rj] GR[rd]) pc = label  if (rs1 == rs2) pc += sext(offset) \u76f8\u7b49\u8df3\u8f6c bne rj, rd, label bne rs1, rs2, offset if (GR[rj] GR[rd]) pc = label  if (rs1 != rs2) pc += sext(offset) \u4e0d\u7b49\u8df3\u8f6c blt rj, rd, label blt rs1, rs2, offset if (GR[rj] &lt; GR[rd]) pc = label  if (rs1 &lt; rs2) pc += sext(offset) \u6709\u7b26\u53f7\u5c0f\u4e8e\u8df3\u8f6c bge rj, rd, label bge rs1, rs2, offset if (GR[rj] &gt;= GR[rd]) pc = label  if (rs1 &gt;= rs2) pc += sext(offset) \u6709\u7b26\u53f7\u5927\u4e8e\u7b49\u4e8e\u8df3\u8f6c bltu rj, rd, label bltu rs1, rs2, offset if (GR[rj] &lt;u GR[rd]) pc = label  if (rs1 &lt;u rs2) pc += sext(offset) \u65e0\u7b26\u53f7\u5c0f\u4e8e\u8df3\u8f6c bgeu rj, rd, label bgeu rs1, rs2, offset if (GR[rj] &gt;=u GR[rd]) pc = label  if (rs1 &gt;=u rs2) pc += sext(offset) \u65e0\u7b26\u53f7\u5927\u4e8e\u7b49\u4e8e\u8df3\u8f6c <p>\u4efb\u52a1 1\uff1a\u8bbf\u5b58\u63a7\u5236\u5355\u5143\u8bbe\u8ba1\uff083 \u5206\uff09</p> <p>\u8bf7\u6839\u636e\u81ea\u5df1\u9009\u62e9\u7684\u6307\u4ee4\u96c6\uff0c\u8bbe\u8ba1\u8bbf\u5b58\u63a7\u5236\u5355\u5143 SL_UNIT\uff0c\u4ee5\u6b63\u786e\u5904\u7406\u8bbf\u5b58\u6307\u4ee4\u3002\u4f60\u53ef\u4ee5\u7ed3\u5408\u4eff\u771f\u8bc1\u660e\u81ea\u5df1\u7684\u8bbe\u8ba1\u3002</p> <p>\u4efb\u52a1 2\uff1a\u642d\u5efa CPU\uff084 \u5206\uff09</p> <p>\u8bf7\u6b63\u786e\u5b9e\u73b0 CPU \u7684\u5404\u4e2a\u529f\u80fd\u6a21\u5757\uff0c\u5e76\u6839\u636e\u6570\u636e\u901a\u8def\u5c06\u5176\u6b63\u786e\u8fde\u63a5\u3002\u7406\u8bba\u4e0a\uff0c\u4f60\u53ea\u9700\u8981\u5b8c\u6210 CPU \u6a21\u5757\u53ca\u5176\u5b50\u6a21\u5757\u7684\u8bbe\u8ba1\uff0c\u800c\u65e0\u9700\u4fee\u6539\u5176\u4ed6\u6a21\u5757\u7684\u5185\u5bb9\u3002\u6700\u7ec8\uff0c\u4f60\u9700\u8981\u5728 FPGAOL \u4e0a\u4e0a\u677f\u8fd0\u884c\uff0c\u5e76\u901a\u8fc7\u6211\u4eec\u7ed9\u51fa\u7684\u6d4b\u8bd5\u7a0b\u5e8f\u3002</p> <p>\u63d0\u9192</p> <p>\u672c\u6b21\u5b9e\u9a8c\u9700\u8981\u7528\u5230\u6570\u636e\u5b58\u50a8\u5668\uff0c\u56e0\u6b64\u9700\u8981\u4fee\u6539 CPU \u6a21\u5757\u4e2d <code>commit_dmem</code> \u7cfb\u5217\u7684\u4e09\u4e2a\u7aef\u53e3\u3002</p> <pre><code>commit_dmem_we_reg  &lt;= dmem_we;                         \ncommit_dmem_wa_reg  &lt;= dmem_wa;                         \ncommit_dmem_wd_reg  &lt;= dmem_wd;                           \n</code></pre> LA32R \u7684\u6d4b\u8bd5\u6c47\u7f16\u7a0b\u5e8f <p>\u8bf7\u786e\u4fdd\u4e0b\u9762\u7684\u7a0b\u5e8f\u8fd0\u884c\u5b8c\u6210\u540e\uff0c\u5bc4\u5b58\u5668\u5806\u4e2d\u7684\u7ed3\u679c\u4e0e LARS \u8fd0\u884c\u7684\u7ed3\u679c\u4e00\u81f4\u3002</p> <ul> <li>\u4eff\u771f\u6846\u67b6\u7528\u7684\u6d4b\u8bd5\u6587\u4ef6\u5728\u8fd9\u91cc\u3002</li> <li>Vivado \u4eff\u771f\u4ee5\u53ca\u4e0a\u677f\u7528\u7684\u6d4b\u8bd5\u6587\u4ef6\u5728\u8fd9\u91cc\u3002</li> </ul> RV32I \u7684\u6d4b\u8bd5\u6c47\u7f16\u7a0b\u5e8f <p>\u4e0b\u9762\u4e24\u4e2a\u6d4b\u8bd5\u90fd\u9700\u8981\u901a\u8fc7\u3002</p> <ul> <li>\u6d4b\u8bd5\u7a0b\u5e8f 1\uff08\u666e\u901a\u6d4b\u8bd5\uff09\u5728\u8fd9\u91cc</li> <li>\u6d4b\u8bd5\u7a0b\u5e8f 2\uff08\u5206\u652f\u4e0e\u8bbf\u5b58\u6d4b\u8bd5\uff09\u5728\u8fd9\u91cc</li> </ul> <p>RV32I \u4eff\u771f</p> <p>\u4ece\u672c\u4e2a\u4efb\u52a1\u5f00\u59cb\uff0c\u4f7f\u7528 RV32I \u6307\u4ee4\u96c6\u7684\u540c\u5b66\u4eec\u7684\u4eff\u771f\u9700\u8981\u5728 CPU_tb \u6a21\u5757\u4e2d\u4f8b\u5316 CPU\u3001\u6307\u4ee4\u50a8\u5b58\u5668 IP \u6838\u4e0e\u6570\u636e\u50a8\u5b58\u5668 IP \u6838\u3002\u6307\u4ee4\u50a8\u5b58\u5668 IP \u6838\u4e0e\u6570\u636e\u50a8\u5b58\u5668 IP \u6838\u7684\u5730\u5740\u7aef\u53e3\u5747\u4e3a CPU \u8f93\u51fa\u7aef\u53e3\u53f3\u79fb\u4e24\u4f4d\uff08\u56e0\u4e3a\u5355\u4e2a IP \u6838\u7684\u4f4d\u5bbd\u662f 32 \u4f4d\uff0c\u5bf9\u5e94\u56db\u4e2a\u5730\u5740\uff09\uff0c\u800c\u5176\u4ed6\u4f7f\u80fd\u4fe1\u53f7\u3001\u6570\u636e\u4fe1\u53f7\u8bf7\u5927\u5bb6\u6839\u636e CPU \u4e2d\u7684\u4fe1\u53f7\u542b\u4e49\u81ea\u884c\u8fde\u63a5\u3002</p> <p>\u4efb\u52a1 3\uff1a\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff081 \u5206\uff09</p> <p>\u8bf7\u5c06 Lab1 \u4e2d\u7f16\u5199\u7684\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7a0b\u5e8f\uff08\u666e\u901a\u7248\u672c\u3001\u5927\u6574\u6570\u7248\u672c\u5747\u53ef\uff09\u5bfc\u51fa\u4e3a COE \u6587\u4ef6\uff0c\u5728\u81ea\u5df1\u8bbe\u8ba1\u7684 CPU \u4e0a\u8fd0\u884c\u3002\u76f8\u5173\u6570\u636e\u7684\u8f93\u5165\u3001\u8f93\u51fa\u65b9\u5f0f\u4e0d\u9650\u3002</p> <p>\u4efb\u52a1 4\uff1a\u601d\u8003\u4e0e\u603b\u7ed3\uff082 \u5206\uff09</p> <p>\u8bf7\u5728\u5b9e\u9a8c\u62a5\u544a\u4e2d\u56de\u7b54\u4e0b\u9762\u7684\u95ee\u9898\uff1a</p> <ol> <li> <p>\u5047\u8bbe\u6211\u4eec\u7684\u5b58\u50a8\u5668\u652f\u6301\u63a9\u7801\u8bbf\u95ee\uff0c\u5176\u5bf9\u5e94\u63a5\u53e3\u5982\u4e0b\uff1a <pre><code>module MEM (\n    input       [ 0 : 0]                clk,\n    input       [ 9 : 0]                a,\n    output      [31 : 0]                spo,\n    input       [ 0 : 0]                we,\n    input       [31 : 0]                d,\n    input       [ 3 : 0]                mask\n);\n</code></pre> \u5176\u4e2d\uff0c<code>mask</code> \u4e3a\u9ad8\u7535\u5e73\u6709\u6548\u7684\u63a7\u5236\u4fe1\u53f7\uff0c<code>mask[0]</code> \u63a7\u5236\u5f53\u524d\u6b63\u5728\u8bbf\u95ee\u7684\u5b57\u7684\u6700\u4f4e\u5b57\u8282\u662f\u5426\u6709\u6548\uff1b<code>mask[3]</code> \u63a7\u5236\u5f53\u524d\u6b63\u5728\u8bbf\u95ee\u7684\u5b57\u7684\u6700\u9ad8\u5b57\u8282\u662f\u5426\u6709\u6548\u3002\u4f8b\u5982\uff0c\u5982\u679c <code>a = 0x4</code>\uff0c<code>we = 1</code>\uff0c<code>d = 0x12345678</code>\uff0c<code>mask=4'B0110</code>\uff0c\u5219\u6570\u636e\u5b58\u50a8\u5668\u5bf9\u5e94\u7684\u64cd\u4f5c\u4e3a <pre><code>M[0x4] &lt;- M[0x4]\nM[0x5] &lt;- 0x56\nM[0x6] &lt;- 0x34\nM[0x7] &lt;- M[0x7]\n</code></pre> \u8bfb\u64cd\u4f5c\u5219\u4f1a\u5c06 <code>mask</code> \u4e3a 0 \u7684\u5b57\u8282\u7f6e\u4e3a 0\u3002\u4f8b\u5982\uff0c\u5982\u679c <code>a = 0x4</code>\uff0c<code>we = 0</code>\uff0c<code>mask=4'B0110</code>\uff0c\u5219\u8bfb\u51fa\u7684\u7ed3\u679c\u4e3a <pre><code>{8'B0, M[0x6], M[0x5], 8'B0}\n</code></pre> \u8bf7\u91cd\u65b0\u8bbe\u8ba1 SL_UNIT \u5355\u5143\u3002\u4f60\u53ef\u4ee5\u81ea\u884c\u6dfb\u52a0\u76f8\u5173\u6a21\u5757\u6240\u9700\u8981\u7684\u7aef\u53e3\u3002\u6ce8\u610f\uff1a\u672c\u9898\u7684\u524d\u63d0\u662f\u6211\u4eec\u5047\u8bbe\u5b58\u5728\u8fd9\u6837\u7684\u5b58\u50a8\u5668 IP \u6838\uff0c\u4f60\u5e76\u4e0d\u9700\u8981\u5b9e\u73b0\u8fd9\u4e2a IP \u6838\uff0c\u4e5f\u4e0d\u9700\u8981\u4eff\u771f\u6216\u4e0a\u677f\uff0c\u4ec5\u9610\u8ff0 SL_UNIT \u5355\u5143\u7684\u8bbe\u8ba1\u65b9\u6848\u5373\u53ef\u3002</p> </li> <li> <p>\u8bf7\u6307\u51fa\u672c\u6b21\u5b9e\u9a8c\u7684 CPU \u4e2d\u53ef\u80fd\u7684\u5173\u952e\u8def\u5f84\u3002</p> </li> </ol>"},{"location":"lab4/#_3","title":"\u5b9e\u9a8c\u68c0\u67e5\u4e0e\u63d0\u4ea4","text":"<p>\u672c\u6b21\u5b9e\u9a8c\u5e03\u7f6e\u65f6\u95f4\u4e3a 2024-04-08\uff0c\u6301\u7eed\u4e00\u5468\u3002\u76f8\u5e94\u7684 DDL \u8282\u70b9\u5982\u4e0b\uff1a</p> \u7ec4\u522b \u68c0\u67e5 DDL \u62a5\u544a\u63d0\u4ea4 DDL \u5468\u4e00\u7ec4 2024-04-15 2024-04-22 \u5468\u4e09\u7ec4 2024-04-17 2024-04-24 <p>\u68c0\u67e5\u4e0e\u62a5\u544a\u5ef6\u8fdf\u4e00\u5468\u4ee5\u5185\uff08\u542b\uff09\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 80% \u5206\u6570\uff1b\u5ef6\u8fdf\u4e00\u5468\u4ee5\u4e0a\u3001\u4e24\u5468\u4ee5\u5185\uff08\u542b\uff09\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 60% \u5206\u6570\uff1b\u5ef6\u8fdf\u8d85\u8fc7\u4e24\u5468\u7684\u4e0d\u5f97\u5206\u3002</p> <p>\u63d0\u9192</p> <p>\u5b9e\u9a8c\u7684 DDL \u4e3a\u5f53\u5929\u665a\u4e0a 21:30\u3002\u52a9\u6559\u6709\u6743\u5229\u5728 21:30 \u51c6\u65f6\u505c\u6b62\u68c0\u67e5\uff0c\u8bf7\u5927\u5bb6\u5408\u7406\u5b89\u6392\u597d\u81ea\u5df1\u7684\u65f6\u95f4\u3002\u80fd\u5426\u7ebf\u4e0a\u68c0\u67e5\u3001\u80fd\u5426\u5728\u5176\u4ed6\u65f6\u95f4\u68c0\u67e5\u8bf7\u54a8\u8be2\u672c\u7ec4\u7684\u52a9\u6559\u3002</p> <p>\u5173\u4e8e\u5b9e\u9a8c\u62a5\u544a</p> <p>\u5b9e\u9a8c\u62a5\u544a\u9700\u8981\u5927\u5bb6\u63d0\u4ea4 PDF \u683c\u5f0f\u3002\u6211\u4eec\u63a8\u8350\u5927\u5bb6\u4f7f\u7528 Markdown \u6216\u8005 Latex \u64b0\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u5bfc\u51fa\u4e3a PDF\u3002\u5927\u5bb6\u4e5f\u53ef\u4ee5\u4f7f\u7528 Word\u3001WPS \u7b49\u8fdb\u884c\u62a5\u544a\u64b0\u5199\uff0c\u6700\u540e\u8f6c\u6362\u4e3a PDF \u683c\u5f0f\u3002\u6211\u4eec\u4e0d\u63a8\u8350\u4e5f\u4e0d\u62d2\u7edd\u5927\u5bb6\u624b\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u4f46\u8bf7\u5c06\u5176\u62cd\u7167\u626b\u63cf\u6210 PDF \u6587\u4ef6\u540e\u518d\u4e0a\u4f20\u3002\u6211\u4eec\u4e0d\u63a5\u53d7\u4efb\u4f55\u56e0\u4e3a\u6587\u4ef6\u683c\u5f0f\u9519\u8bef\u800c\u5bfc\u81f4\u6210\u7ee9\u5f02\u5e38\u7684\u7533\u8bc9\u8bf7\u6c42\uff01</p> <p>\u5728\u5b9e\u9a8c\u62a5\u544a\u4e2d\uff0c\u4f60\u9700\u8981\u7ed9\u51fa\u6bcf\u4e00\u9879\u4efb\u52a1\u7684\u7b54\u6848\uff0c\u5e76\u9644\u4e0a\u5fc5\u8981\u7684\u8bf4\u660e\u8fc7\u7a0b\uff08\u6216\u622a\u56fe\uff09\u3002</p> <p>\u7279\u522b\u5730\uff1a\u5b9e\u9a8c\u62a5\u544a\u7684\u5b57\u6570\u548c\u6392\u7248\u4e0e\u6700\u7ec8\u5f97\u5206\u65e0\u5173\u3002\u5f71\u54cd\u5f97\u5206\u7684\u4ec5\u6709\u5185\u5bb9\u6b63\u786e\u6027\u4e0e\u5b8c\u6574\u6027\u3002</p> <p>\u5b9e\u9a8c\u62a5\u544a\u63d0\u4ea4\u7684\u5730\u5740\u5728\u8fd9\u91cc\u3002</p>"},{"location":"lab4/CPU/","title":"\u5355\u5468\u671f CPU","text":""},{"location":"lab4/CPU/#_1","title":"\u6574\u4f53\u6846\u67b6","text":"CPU \u6570\u636e\u901a\u8def <p>\u4e0a\u56fe\u5c55\u793a\u4e86\u672c\u6b21\u5b9e\u9a8c\u4e2d CPU \u7684\u6570\u636e\u901a\u8def\u3002\u8be5\u6570\u636e\u901a\u8def\u53ef\u4ee5\u517c\u5bb9 RV32I \u7248\u672c\u7684 CPU \u548c LA32R \u7248\u672c\u7684 CPU\uff0c\u4e8c\u8005\u4ec5\u5728\u8bd1\u7801\u5668 Decoder \u7684\u5185\u90e8\u7ed3\u6784\u4e0a\u4e0d\u540c\u3002\u6b64\u5916\uff0c\u901a\u8def\u4e2d\u7701\u7565\u4e86\u63a7\u5236\u4fe1\u53f7\uff0c\u4f8b\u5982 alu_op\u3001rf_we \u7b49\u3002</p>"},{"location":"lab4/CPU/#_2","title":"\u6a21\u5757\u8bbe\u8ba1","text":""},{"location":"lab4/CPU/#npc","title":"NPC \u9009\u62e9\u5668","text":"<p>\u4e0e\u7b80\u5355\u5355\u5468\u671f\u4e0d\u540c\u7684\u662f\uff0c\u5355\u5468\u671f CPU \u9700\u8981\u80fd\u591f\u6267\u884c\u5206\u652f\u6307\u4ee4\uff0c\u6240\u4ee5\u4e0b\u4e00\u4e2a\u5468\u671f\u7684 PC \u503c\u5c31\u4e0d\u4e00\u5b9a\u662f PC + 4 \u4e86\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u6570\u636e\u9009\u62e9\u5668\u9009\u62e9\u5408\u9002\u7684\u503c\u6765\u4f20\u9012\u7ed9 PC \u5bc4\u5b58\u5668\uff0c\u4ee5\u4e0b\u662f\u5176\u793a\u610f\u56fe\u3002</p> <p></p> NPC \u9009\u62e9\u5668\u793a\u610f\u56fe <p>\u5176\u4e2d\uff0c<code>pc_j</code> \u7aef\u53e3\u5bf9\u5e94 jalr \u6307\u4ee4\u7684\u7ed3\u679c\uff0c\u8be5\u8f93\u5165\u4e3a\u5c06 <code>alu_res</code> \u7684\u7ed3\u679c\u6700\u4f4e\u4f4d\u7f6e\u4e3a 0\u3002</p> La32R \u6307\u4ee4\u96c6 <p>\u5728 LA32R \u6307\u4ee4\u96c6\u4e2d\uff0c\u4e0e jalr \u6307\u4ee4\u5bf9\u5e94\u7684\u662f jirl \u6307\u4ee4\uff0c\u4f46\u8be5\u6307\u4ee4\u4e0d\u9700\u8981\u5c06\u6700\u4f4e\u4f4d\u7f6e\u4f4d 0\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u9009\u62e9 LA32R \u6307\u4ee4\u96c6\u7684\u540c\u5b66\uff0c\u53ef\u4ee5\u81ea\u4e3b\u9009\u62e9\u662f\u5426\u9700\u8981\u8fd9\u4e2a <code>pc_j</code> \u7aef\u53e3\u3002</p>"},{"location":"lab4/CPU/#_3","title":"\u5206\u652f\u6a21\u5757","text":"<p>\u4e0e\u6559\u6750\u4e0d\u540c\uff0c\u6211\u4eec\u628a\u6761\u4ef6\u8df3\u8f6c\u6307\u4ee4\u7684\u903b\u8f91\u5224\u65ad\u4ece ALU \u4e2d\u79fb\u51fa\uff0c\u5c01\u88c5\u6210\u4e86\u72ec\u7acb\u7684\u6a21\u5757\u3002 Branch \u6a21\u5757\u662f\u4e13\u95e8\u7528\u6765\u5904\u7406\u5206\u652f\u6307\u4ee4\u7684\u6a21\u5757\u3002\u5b83\u63a5\u6536\u6765\u81ea Decoder \u7684\u63a7\u5236\u4fe1\u53f7\uff0c\u4ee5\u53ca\u6765\u81ea\u5bc4\u5b58\u5668\u5806\u7684\u4e24\u4e2a\u6570\u636e\u3002\u6839\u636e\u8fd9\u4e24\u4e2a\u6570\u636e\u4e4b\u95f4\u7684\u5927\u5c0f\u5173\u7cfb\u4ee5\u53ca\u63a7\u5236\u4fe1\u53f7\uff0c Branch \u6a21\u5757\u6700\u7ec8\u4ea7\u751f\u76f8\u5e94\u7684\u8df3\u8f6c\u4fe1\u53f7\u3002\u4ee5\u4e0b\u662f\u672c\u6b21\u5b9e\u9a8c\u4e2d\u7684\u5206\u652f\u6a21\u5757\u7ed3\u6784\u793a\u610f\u56fe\u3002</p> <p></p> \u5206\u652f\u6a21\u5757\u793a\u610f\u56fe <p>\u5176\u7aef\u53e3\u4ee3\u7801\u4e3a\uff1a</p> \u5206\u652f\u6a21\u5757<pre><code>module BRANCH(\n    input                   [ 3 : 0]            br_type,\n\n    input                   [31 : 0]            br_src0,\n    input                   [31 : 0]            br_src1,\n\n    output      reg         [ 1 : 0]            npc_sel\n);\n</code></pre> <p>\u5404\u4e2a\u7aef\u53e3\u7684\u4f5c\u7528\u662f\uff1a</p> <ul> <li>br_type\uff1a\u5206\u652f\u8df3\u8f6c\u7684\u7c7b\u578b\uff1b</li> <li>br_src0\u3001br_src1\uff1a\u6765\u81ea\u5bc4\u5b58\u5668\u5806\u7684\u4e24\u4e2a\u6570\u636e\uff1b</li> <li>npc_sel\uff1anpc \u9009\u62e9\u5668\u7684\u63a7\u5236\u4fe1\u53f7\uff1b</li> </ul>"},{"location":"lab4/CPU/#_4","title":"\u8bd1\u7801\u5668","text":"<p>\u4e3a\u4e86\u5b9e\u73b0\u5b8c\u6574\u7684\u5355\u5468\u671f CPU \uff0c\u4f60\u9700\u8981\u4fee\u6539\u4f60\u5728 lab3 \u4e2d\u7684 Decoder \u8bbe\u8ba1\uff0c\u5904\u7406\u7b80\u5355\u5355\u5468\u671f\u4e2d\u6ca1\u6709\u5b9e\u73b0\u7684\u6307\u4ee4\uff0c\u4ee5\u4e0b\u662f\u672c\u6b21\u5b9e\u9a8c\u4e2d\u7684\u8bd1\u7801\u5668\u7684\u7ed3\u6784\u793a\u610f\u56fe\u3002</p> <p></p> \u8bd1\u7801\u5668\u6a21\u5757\u793a\u610f\u56fe <p>\u5176\u7aef\u53e3\u4ee3\u7801\u4e3a\uff1a</p> \u8bd1\u7801\u5668<pre><code>module DECODER (\n    input                   [31 : 0]            inst,\n\n    output      reg         [ 4 : 0]            alu_op,\n\n    output                  [ 3 : 0]            dmem_access,\n\n    output      reg         [31 : 0]            imm,\n\n    output                  [ 4 : 0]            rf_ra0,\n    output                  [ 4 : 0]            rf_ra1,\n    output                  [ 4 : 0]            rf_wa,\n    output                  [ 0 : 0]            rf_we,\n    output      reg         [ 1 : 0]            rf_wd_sel,\n\n    output                  [ 0 : 0]            alu_src0_sel,\n    output                  [ 0 : 0]            alu_src1_sel,\n\n    output                  [ 3 : 0]            br_type\n);\n</code></pre> <p>\u76f8\u8f83\u4e8e lab3 \uff0c\u65b0\u589e\u7684\u5404\u4e2a\u8f93\u51fa\u7aef\u53e3\u7684\u4f5c\u7528\u662f\uff1a</p> <ul> <li>dmem_access\uff1a\u8bbf\u5b58\u7c7b\u578b\uff1b</li> <li>rf_wd_sel\uff1a\u5bc4\u5b58\u5668\u5806\u5199\u56de\u6570\u636e\u9009\u62e9\u5668\u7684\u9009\u62e9\u4fe1\u53f7\uff1b</li> <li>br_type\uff1a\u5206\u652f\u8df3\u8f6c\u7684\u7c7b\u578b\uff1b</li> </ul> <p>\u8fd9\u4e9b\u4fe1\u53f7\u7684\u751f\u6210\u548c lab3 \u4e2d\u63cf\u8ff0\u7684\u4e00\u6837\uff0c\u90fd\u9700\u8981\u6839\u636e inst \u7684\u6570\u503c\uff0c\u7ed3\u5408\u5bf9\u5e94\u6307\u4ee4\u96c6\u7684\u8bd1\u7801\u89c4\u5219\u5f97\u51fa\u3002</p>"},{"location":"lab4/CPU/#_5","title":"\u8bbf\u5b58\u63a7\u5236\u5355\u5143","text":"<p>\u8bbf\u5b58\u63a7\u5236\u5355\u5143\u4e3b\u8981\u662f\u7528\u4e8e\u5b9e\u73b0\u975e\u6574\u5b57\u8bbf\u5b58\u6307\u4ee4\u7684\u3002\u4f8b\u5982\uff1a\u5982\u679c\u6211\u4eec\u60f3\u8981\u5e26\u7b26\u53f7\u5730\u8bfb\u53d6 0x5 \u5730\u5740\u4e0a\u7684\u5b57\u8282\u7684\u503c\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5148\u8bfb\u53d6 0x4 \u5f00\u59cb\u7684\u56db\u4e2a\u5b57\u8282\u4e0a\u7684\u6570\u636e\uff0c\u518d\u53d6\u51fa\u5176\u4e2d\u7684\u7b2c 8~15 \u4f4d\uff0c\u53f3\u79fb 8 \u4f4d\u5e76\u7b26\u53f7\u6269\u5c55\u4e4b\u540e\u5199\u5165\u76ee\u6807\u5bc4\u5b58\u5668\uff0c\u603b\u7ed3\u8d77\u6765\u5c31\u662f\uff1a</p> <p><code>x[rd] = {{24{(M[0x4])[15]}}, (M[0x4])[15:8]}</code></p> <p>\u5982\u679c\u6211\u4eec\u60f3\u8981\u5411 0x5 \u5730\u5740\u4e0a\u5199\u5165\u4e00\u4e2a\u5b57\u8282\u7684\u6570\u636e 0x12\uff0c\u4e3a\u4e86\u4e0d\u5f71\u54cd\u5176\u4f59\u5b57\u8282\u7684\u6570\u636e\uff0c\u5c31\u9700\u8981\u5148\u5c06\u5b83\u4eec\u8bfb\u51fa\uff0c\u4e0e\u5f85\u5199\u5165\u7684\u6570\u636e\u62fc\u63a5\u4e4b\u540e\u518d\u5199\u56de\u3002\u56e0\u6b64\uff0c\u5b9e\u9645\u6267\u884c\u7684\u64cd\u4f5c\u5c31\u662f\uff1a</p> <p><code>M[0x4] = {(M[0x4])[31:16], (x[rd])[7:0], (M[0x4])[7:0]}</code></p> <p>\u6211\u4eec\u7684 SL_UNIT \u5c31\u9700\u8981\u6839\u636e\u6307\u4ee4\u7684\u5177\u4f53\u7c7b\u578b\u5b9e\u73b0\u4e0a\u8ff0\u7684\u8bbf\u5b58\u64cd\u4f5c\u3002</p> <p></p> \u8bbf\u5b58\u63a7\u5236\u5355\u5143\u793a\u610f\u56fe \u8bbf\u5b58\u63a7\u5236\u5355\u5143<pre><code>module SLU (\n    input                   [31 : 0]                addr,\n    input                   [ 3 : 0]                dmem_access,\n\n    input                   [31 : 0]                rd_in,\n    input                   [31 : 0]                wd_in,\n\n    output      reg         [31 : 0]                rd_out,\n    output      reg         [31 : 0]                wd_out\n);\n</code></pre> <p>\u5404\u4e2a\u7aef\u53e3\u7684\u4f5c\u7528\u662f\uff1a</p> <ul> <li>addr\uff1a\u8bbf\u5b58\u7684\u5730\u5740\uff1b</li> <li>dmem_access\uff1a\u8bbf\u5b58\u7c7b\u578b\uff1b</li> <li>rd_in\uff1a\u4ece\u5b58\u50a8\u5668\u8bfb\u5230\u7684\u539f\u59cb\u6570\u636e\uff1b</li> <li>wd_in\uff1a\u8981\u5199\u5165\u5b58\u50a8\u5668\u7684\u539f\u59cb\u6570\u636e\uff1b</li> <li>rd_out\uff1a\u6839\u636e dmem_access \u5904\u7406\u8fc7\u7684\u8bfb\u5230\u7684\u6570\u636e\uff1b</li> <li>wd_out\uff1a\u6839\u636e dmem_access \u5904\u7406\u8fc7\u7684\u8981\u5199\u5165\u7684\u6570\u636e\uff1b</li> </ul> \u63d0\u793a <p>\u5728\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0cCPU \u8981\u6c42\u534a\u5b57\u8bbf\u95ee\u6307\u4ee4 ld.h\uff08lh\uff09\u3001ld.hu\uff08lhu\uff09\u3001st.h\uff08sh\uff09\u4ec5\u4f1a\u8bbf\u95ee\u4e00\u4e2a\u5b57\u4e2d\u7684\u4f4e\u534a\u5b57\uff080\u30011 \u5b57\u8282\uff09\u6216\u9ad8\u534a\u5b57\uff082\u30013 \u5b57\u8282\uff09\uff0c\u4e0d\u4f1a\u51fa\u73b0\u8de8\u5b57\u8bbf\u95ee\u6216\u4e2d\u95f4\u8bbf\u95ee\uff081\u30012 \u5b57\u8282\uff09\u3002\u56e0\u6b64\uff0cSL_UNIT \u9700\u8981\u6839\u636e\u8f93\u5165\u7684 <code>dmem_access</code> \u4fe1\u53f7\uff0c\u7ed3\u5408 ALU \u8ba1\u7b97\u51fa\u7684\u8bbf\u95ee\u5730\u5740\u5224\u65ad\u6b64\u65f6\u662f\u5426\u662f\u5408\u6cd5\u7684\u8bbf\u95ee\u3002\u5bf9\u4e8e\u771f\u5b9e\u7684\u5904\u7406\u5668\u6765\u8bf4\uff0c\u6b64\u65f6\u4f1a\u629b\u51fa\u4e00\u4e2a\u300c\u975e\u5bf9\u9f50\u8bbf\u95ee\u300d\u7684\u5f02\u5e38\u4fe1\u53f7\uff0c\u800c\u6211\u4eec\u7684\u5355\u5468\u671f CPU \u76ee\u524d\u8fd8\u6ca1\u6709\u8fd9\u4e2a\u529f\u80fd\uff0c\u56e0\u6b64\u9047\u5230\u975e\u6b63\u5e38\u7684\u534a\u5b57\u8bbf\u95ee\uff0cSL\u4e0d\u505a\u5904\u7406\u5373\u53ef\u3002</p>"},{"location":"lab4/CPU/#_6","title":"\u5bc4\u5b58\u5668\u5806\u5199\u56de\u9009\u62e9\u5668","text":"<p>\u8981\u5199\u56de\u5bc4\u5b58\u5668\u5806\u7684\u6570\u636e\u6765\u6e90\u7531\u4f60\u7684 CPU \u5177\u4f53\u5b9e\u73b0\u51b3\u5b9a\uff0c\u5728\u52a9\u6559\u7684\u5b9e\u73b0\u4e2d\uff0c\u8981\u5199\u56de\u7684\u6570\u636e\u6709\u56db\u4e2a\u6765\u6e90\uff0cPC \u52a0\u56db\uff0cALU \u7684\u7ed3\u679c\u3001\u4ece\u5b58\u50a8\u5668\u8bfb\u5230\u7684\u503c\u548c 0\u3002\u5b9e\u9645\u4e0a\u8fd9\u91cc\u7684 0 \u662f\u6ca1\u6709\u5b9e\u9645\u4f5c\u7528\u7684\uff0c\u4f46\u4e09\u9009\u4e00\u548c\u56db\u9009\u4e00\u9009\u62e9\u5668\u7684\u8d44\u6e90\u5f00\u9500\u57fa\u672c\u4e00\u81f4\uff0c\u6240\u4ee5\u6211\u4eec\u989d\u5916\u5f15\u5165\u4e86\u4e00\u4e2a\u8f93\u5165\u7aef\u53e3\uff0c\u7528\u4e00\u4e2a\u56db\u9009\u4e00\u6570\u636e\u9009\u62e9\u5668\u7528\u4e8e\u63a7\u5236\u5199\u56de\u7684\u6570\u636e\uff0c\u4e00\u4e2a\u7b80\u5355\u7684\u53c2\u6570\u5316\u9009\u62e9\u5668\u5b9e\u73b0\u5982\u4e0b\uff1a</p> \u56db\u9009\u4e00\u9009\u62e9\u5668<pre><code>module MUX2 # (\n    parameter               WIDTH                   = 32\n)(\n    input                   [WIDTH-1 : 0]           src0, src1, src2, src3,\n    input                   [      1 : 0]           sel,\n\n    output                  [WIDTH-1 : 0]           res\n);\n\n    assign res = sel[1] ? (sel[0] ? src3 : src2) : (sel[0] ? src1 : src0);\n\nendmodule\n</code></pre> <p>\u56db\u9009\u4e00\u9009\u62e9\u5668\u7684\u56db\u4e2a\u6765\u6e90\u5206\u522b\u662f\uff1a</p> <ul> <li>pc_add4</li> <li>alu_res</li> <li>dmem_rdata</li> <li>ZERO</li> </ul> <p>\u4ee5\u4e0b\u662f\u7ed3\u6784\u793a\u610f\u56fe\uff1a</p> <p></p> \u5bc4\u5b58\u5668\u5806\u5199\u56de\u9009\u62e9\u5668\u793a\u610f\u56fe"},{"location":"lab5/","title":"\u5b9e\u9a8c 5\uff1a\u65e0\u5192\u9669\u6d41\u6c34\u7ebf CPU","text":""},{"location":"lab5/#_1","title":"\u5b9e\u9a8c\u76ee\u7684","text":"<p>\u5728\u672c\u6b21\u5b9e\u9a8c\u4e2d\uff0c\u6211\u4eec\u5c1d\u8bd5\u5c06\u4e0a\u4e00\u6b21\u5b9e\u9a8c\u8bbe\u8ba1\u7684 CPU \u6d41\u6c34\u5316\uff0c\u5f62\u6210\u4e00\u4e2a\u4e0d\u8003\u8651\u5192\u9669\u7684\u6d41\u6c34\u7ebf CPU\u3002</p>"},{"location":"lab5/#_2","title":"\u5b9e\u9a8c\u5185\u5bb9","text":"<p>\u4efb\u52a1 1\uff1a\u5199\u4f18\u5148\u7684\u5bc4\u5b58\u5668\u5806\uff083 \u5206\uff09</p> <ol> <li> <p>\u8bf7\u6839\u636e\u5b9e\u9a8c\u6587\u6863\u4e2d\u7684\u4ecb\u7ecd\u5c06\u5bc4\u5b58\u5668\u5806\u6539\u4e3a\u5199\u4f18\u5148\u7684\u6a21\u5f0f\uff0c\u5e76\u4eff\u771f\u6d4b\u8bd5\u6b63\u786e\u6027\u3002</p> </li> <li> <p>\u5728\u5b9e\u9a8c\u62a5\u544a\u4e2d\u56de\u7b54\uff0c\u5bf9\u4e8e\u672c\u6b21\u5b9e\u9a8c\u4e2d\u7684\u4e94\u7ea7\u6d41\u6c34\u7ebf CPU\uff0c\u8fde\u7eed\u6267\u884c\u4ee5\u4e0b\u7684\u6307\u4ee4\u5e8f\u5217\u540e\uff0c\u82e5\u5bc4\u5b58\u5668\u5806\u6ca1\u6709\u4f7f\u7528\u5199\u4f18\u5148\uff0c\u8fd0\u884c\u7ed3\u675f\u540e x4 \u4e0e x5 \u4e2d\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f</p> <pre><code>addi x1, x0, 1\naddi x2, x0, 2\naddi x3, x0, 3\naddi x1, x0, 10\naddi x2, x0, 20\naddi x3, x0, 30\naddi x0, x0, 0\nadd  x4, x1, x2\nadd  x5, x2, x3\nnop\nnop\nnop\n</code></pre> </li> </ol> \u5173\u4e8e nop <p>nop \u4ee3\u8868\u4ec0\u4e48\u4e5f\u4e0d\u505a\u7684\u6307\u4ee4\uff0c\u8fd9\u91cc\u662f\u4e3a\u4e86\u4fdd\u8bc1\u5145\u5206\u8fd0\u884c\u3002\u5176\u5728 RV32I \u4e0e LA32R \u4e2d\u5177\u4f53\u5f62\u5f0f\u6709\u5dee\u522b\uff0c\u8be6\u89c1\u5b9e\u9a8c\u6587\u6863\u3002</p> <p>\u4efb\u52a1 2\uff1a\u65e0\u5192\u9669\u6d41\u6c34\u7ebf\uff087 \u5206\uff09</p> <p>\u6b63\u786e\u8bbe\u8ba1\u5e76\u4f8b\u5316\u56db\u4e2a\u6bb5\u95f4\u5bc4\u5b58\u5668\uff0c\u8fde\u7ebf\u4ee5\u5b9e\u73b0\u65e0\u5192\u9669\u6d41\u6c34\u7ebf CPU\u3002\u6700\u7ec8\uff0c\u4f60\u9700\u8981\u5728 FPGAOL \u4e0a\u4e0a\u677f\u8fd0\u884c\uff0c\u5e76\u901a\u8fc7\u6211\u4eec\u7ed9\u51fa\u7684\u6d4b\u8bd5\u7a0b\u5e8f\u3002</p> Lab5 \u9700\u8981\u5b9e\u73b0\u7684\u6307\u4ee4 <p>\u672c\u6b21\u5b9e\u9a8c\u9700\u8981\u652f\u6301 Lab3\u3001Lab4 \u4e2d\u7684\u6240\u6709\u6307\u4ee4\uff0c\u4ee5\u53ca nop \u6307\u4ee4\u3002nop \u6307\u4ee4\u5177\u4f53\u5bf9\u5e94\u600e\u6837\u7684\u6307\u4ee4\uff0c\u8bf7\u53c2\u8003\u5bf9\u5e94\u7684\u6307\u4ee4\u96c6\u624b\u518c\u3002</p> LA32R \u4e2d\u6307\u4ee4 RV32I \u4e2d\u6307\u4ee4 \u6307\u4ee4\u529f\u80fd \u8bf4\u660e add.w rd, rj, rk add rd, rs1, rs2 GR[rd] = GR[rj] + GR[rk]  x[rd] = x[rs1] + x[rs2] \u6574\u6570\u52a0\u6cd5 addi.w rd, rj, imm addi rd, rs1, imm GR[rd] = GR[rj] + sext(imm)  x[rd] = x[rs1] + sext(imm) \u6574\u6570\u52a0\u6cd5 sub.w rd, rj, rk sub rd, rs1, rs2 GR[rd] = GR[rj] - GR[rk]  x[rd] = x[rs1] - x[rs2] \u6574\u6570\u51cf\u6cd5 slt rd, rj, rk slt rd, rs1, rs2 GR[rd] = (GR[rj] &lt; GR[rk])  x[rd] = (x[rs1] &lt; x[rs2]) \u6709\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 sltu rd, rj, rk sltu rd, rs1, rs2 GR[rd] = (GR[rj] &lt;u GR[rk])  x[rd] = (x[rs1] &lt;u x[rs2]) \u65e0\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 and rd, rj, rk and rd, rs1, rs2 GR[rd] = GR[rj] &amp; GR[rk]  x[rd] = x[rs1] &amp; x[rs2] \u6309\u4f4d\u4e0e or rd, rj, rk or rd, rs1, rs2 GR[rd] = GR[rj] | GR[rk]  x[rd] = x[rs1] | \ud835\udc65[rs2] \u6309\u4f4d\u6216 xor rd, rj, rk xor rd, rs1, rs2 GR[rd] = GR[rj] ^ GR[rk]  x[rd] = x[rs1] ^ \ud835\udc65[rs2] \u6309\u4f4d\u5f02\u6216 sll.w rd, rj, rk sll rd, rs1, rs2 GR[rd] = GR[rj] &lt;&lt; GR[rk][4:0]   x[rd] = x[rs1] &lt;&lt; x[rs2][4:0] \u903b\u8f91\u5de6\u79fb srl.w rd, rj, rk srl rd, rs1, rs2 GR[rd]= GR[rj] &gt;&gt; GR[rk][4:0]   x[rd] = x[rs1] &gt;&gt; x[rs2][4:0] \u903b\u8f91\u53f3\u79fb sra.w rd, rj, rk sra rd, rs1, rs2 GR[rd] = GR[rj] &gt;&gt;&gt; GR[rk][4:0]   x[rd] = x[rs1] &gt;&gt;&gt; x[rs2][4:0] \u7b97\u672f\u53f3\u79fb slli.w rd, rj, imm slli rd, rs1, shamt GR[rd] = GR[rj] &lt;&lt; imm  x[rd] = x[rs1] &lt;&lt; shamt \u903b\u8f91\u5de6\u79fb srli.w rd, rj, imm srli rd, rs1, shamt GR[rd] = GR[rj] &gt;&gt; imm  x[rd] = x[rs1] &gt;&gt; shamt \u903b\u8f91\u53f3\u79fb srai.w rd, rj, imm srai rd, rs1, shamt GR[rd] = GR[rj] &gt;&gt;&gt; imm   x[rd] = x[rs1] &gt;&gt;&gt; shamt \u7b97\u672f\u53f3\u79fb slti rd, rj, imm slti rd, rs1, imm GR[rd] = (GR[rj] &lt; sext(imm))  x[rd] = (x[rs1] &lt; sext(imm)) \u6709\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 sltui rd, rj, imm sltiu rd, rs1, imm GR[rd] = (GR[rj] &lt;u sext(imm))  x[rd] = (x[rs1] &lt;u sext(imm)) \u65e0\u7b26\u53f7\u6574\u6570\u6bd4\u8f83 andi rd, rj, imm andi rd, rs1, imm GR[rd] = GR[rj] &amp; zext(imm)   x[rd] = x[rs1] &amp; sext(imm) \u6309\u4f4d\u4e0e ori rd, rj, imm ori rd, rs1, imm GR[rd] = GR[rj] | zext(imm)    x[rd] = x[rs1] | sext(imm) \u6309\u4f4d\u6216 xori rd, rj, imm xori rd, rs1, imm GR[rd] = GR[rj] ^ zext(imm)    x[rd] = x[rs1] ^  sext(imm) \u6309\u4f4d\u5f02\u6216 lu12i.w rd, imm lui rd, imm GR[rd] = imm &lt;&lt; 12  x[rd] = sext(imm &lt;&lt; 12) \u52a0\u8f7d\u9ad820\u4f4d\u7acb\u5373\u6570 pcaddu12i rd, imm auipc rd, imm GR[rd] = pc + sext(imm &lt;&lt; 12)  x[rd] = pc + sext(imm[31:12] &lt;&lt; 12) \u52a0\u8f7d\u52a0\u4e0a PC \u7684\u9ad8 20 \u4f4d\u7acb\u5373\u6570 ld.w rd, rj, imm lw rd, offset(rs1) GR[rd] = Mem[GR[rj] + imm]  x[rd] = sext(M[x[rs1] + sext(offset)]) \u52a0\u8f7d\u5b57 ld.h rd, rj, imm lh rd, offset(rs1) GR[rd] = SLU(Mem[GR[rj] + imm])  x[rd] = SLU((M[x[rs1] + sext(offset)])) \u52a0\u8f7d\u534a\u5b57 ld.b rd, rj, imm lb rd, offset(rs1) GR[rd] = SLU(Mem[GR[rj] + imm])  x[rd] = SLU((M[x[rs1] + sext(offset)])) \u52a0\u8f7d\u5b57\u8282 ld.hu rd, rj, imm lhu rd, offset(rs1) GR[rd] = SLU(Mem[GR[rj] + imm])  x[rd] = SLU((M[x[rs1] + sext(offset)])) \u65e0\u7b26\u53f7\u52a0\u8f7d\u534a\u5b57 ld.bu rd, rj, imm lbu rd, offset(rs1) GR[rd] = SLU(Mem[GR[rj] + imm])  x[rd] = SLU((M[x[rs1] + sext(offset)])) \u65e0\u7b26\u53f7\u52a0\u8f7d\u5b57\u8282 st.w rd, rj, imm sw rs2, offset(rs1) Mem[GR[rj] + imm] = GR[rd]  M[x[rs1] + sext(offset)] = x[rs2] \u5b58\u50a8\u5b57 st.h rd, rj, imm sh rs2, offset(rs1) Mem[GR[rj] + imm] = SLU(GR[rd])  M[x[rs1] + sext(offset)] = SLU(x[rs2]) \u5b58\u50a8\u534a\u5b57 st.b rd, rj, imm sb rs2, offset(rs1) Mem[GR[rj] + imm] = SLU(GR[rd])  M[x[rs1] + sext(offset)] = SLU(x[rs2]) \u5b58\u50a8\u5b57\u8282 jirl rd, rj, label jalr rd, offset(rs1) GR[rd] = pc + 4; pc = label  x[rd] = pc+4; pc=(x[rs1]+sext(offset))&amp;~1; \u95f4\u63a5\u76f8\u5bf9\u8df3\u8f6c\u5e76\u94fe\u63a5 b label j offset(jal x0, offset)\uff08\u4f2a\u6307\u4ee4\uff09 pc = label  pc += sext(offset) \u65e0\u6761\u4ef6\u8df3\u8f6c bl label jal rd, offset GR[1] = pc + 4; pc = label  x[rd] = pc+4; pc += sext(offset) \u51fd\u6570\uff08\u5b50\u7a0b\u5e8f\uff09\u8c03\u7528\u5e76\u94fe\u63a5 beq rj, rd, label beq rs1, rs2, offset if (GR[rj] GR[rd]) pc = label  if (rs1 == rs2) pc += sext(offset) \u76f8\u7b49\u8df3\u8f6c bne rj, rd, label bne rs1, rs2, offset if (GR[rj] GR[rd]) pc = label  if (rs1 != rs2) pc += sext(offset) \u4e0d\u7b49\u8df3\u8f6c blt rj, rd, label blt rs1, rs2, offset if (GR[rj] &lt; GR[rd]) pc = label  if (rs1 &lt; rs2) pc += sext(offset) \u6709\u7b26\u53f7\u5c0f\u4e8e\u8df3\u8f6c bge rj, rd, label bge rs1, rs2, offset if (GR[rj] &gt;= GR[rd]) pc = label  if (rs1 &gt;= rs2) pc += sext(offset) \u6709\u7b26\u53f7\u5927\u4e8e\u7b49\u4e8e\u8df3\u8f6c bltu rj, rd, label bltu rs1, rs2, offset if (GR[rj] &lt;u GR[rd]) pc = label  if (rs1 &lt;u rs2) pc += sext(offset) \u65e0\u7b26\u53f7\u5c0f\u4e8e\u8df3\u8f6c bgeu rj, rd, label bgeu rs1, rs2, offset if (GR[rj] &gt;=u GR[rd]) pc = label  if (rs1 &gt;=u rs2) pc += sext(offset) \u65e0\u7b26\u53f7\u5927\u4e8e\u7b49\u4e8e\u8df3\u8f6c <p>\u6ce8\u610f</p> <p>\u4e3a\u4e86\u5b9e\u73b0\u6d41\u6c34\u7ebf CPU\uff0c\u4f60\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u7684\u5185\u5bb9\uff1a</p> <ul> <li>\u6b63\u786e\u5b9e\u73b0\u4e86\u6bb5\u95f4\u5bc4\u5b58\u5668\u7684 flush \u529f\u80fd\u3002</li> <li>\u6b63\u786e\u5c06\u5404\u4e2a\u4fe1\u53f7\u8fde\u63a5\u5230\u6bb5\u95f4\u5bc4\u5b58\u5668\u4e0a\u3002\u7279\u522b\u5730\uff0ccommit \u7cfb\u5217\u7684\u4fe1\u53f7\u9700\u8981\u4ece\u5176\u4ea7\u751f\u5f00\u59cb\uff0c\u7ecf\u8fc7\u6bb5\u95f4\u5bc4\u5b58\u5668\u4e00\u76f4\u6d41\u6c34\u5230\u6700\u540e\u3002</li> <li><code>commit</code> \u4fe1\u53f7\u672c\u8eab\u5728 IF \u6bb5\u4ea7\u751f\uff08\u4e3a 1\uff09\uff0c\u7ecf\u8fc7\u6bb5\u95f4\u5bc4\u5b58\u5668\u6765\u5230 WB \u6bb5\uff0c\u6700\u7ec8\u8fde\u63a5\u5230 CPU \u7684\u8f93\u51fa\u7aef\u53e3\u3002</li> <li>debug \u7aef\u53e3\u4e0d\u9700\u8981\u7ecf\u8fc7\u6bb5\u95f4\u5bc4\u5b58\u5668\u3002</li> <li>\u6211\u4eec\u9884\u8bbe\u7684 PC \u662f\u59cb\u7ec8 +4\u3002\u5728 EX \u6bb5\u53d1\u73b0\u5206\u652f\u9519\u8bef\uff08\u5b9e\u9645\u4e0a\u7684 PC \u662f + offset\uff09\u4e4b\u540e\uff0c\u9700\u8981\u6b63\u786e\u6e05\u96f6\u4e24\u6761 nop \u6307\u4ee4\u7684 commit \u4fe1\u53f7\u3002\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u5efa\u8bae\u4f60\u5c06\u5176\u4ed6\u7684\u63a7\u5236\u4fe1\u53f7\u4e5f\u4e00\u5e76\u6e05\u7a7a\u3002</li> <li>\u4fee\u6539\u4eff\u771f\u6846\u67b6\u4e2d <code>configs.vh</code> \u91cc\u7684 CPU \u7c7b\u578b\uff08<code>CORE_TYPE</code>\uff09\uff0c\u5c06\u5176\u8bbe\u7f6e\u4e3a <code>`PIPELINE</code>\u3002</li> </ul> LA32R \u7684\u6d4b\u8bd5\u6c47\u7f16\u7a0b\u5e8f <p>\u4e0b\u9762\u4e24\u4e2a\u6d4b\u8bd5\u90fd\u9700\u8981\u901a\u8fc7\uff08\u4e0a\u677f\u3001\u4eff\u771f\u6846\u67b6\u90fd\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e24\u4e2a\u6d4b\u8bd5\uff09\u3002</p> <ul> <li>\u6d4b\u8bd5\u7a0b\u5e8f 1 \u5728\u8fd9\u91cc</li> <li>\u6d4b\u8bd5\u7a0b\u5e8f 2 \u5728\u8fd9\u91cc</li> </ul> RV32I \u7684\u6d4b\u8bd5\u6c47\u7f16\u7a0b\u5e8f <p>\u4e0b\u9762\u4e24\u4e2a\u6d4b\u8bd5\u90fd\u9700\u8981\u901a\u8fc7\u3002</p> <ul> <li>\u6d4b\u8bd5\u7a0b\u5e8f 1 \u5728\u8fd9\u91cc</li> <li>\u6d4b\u8bd5\u7a0b\u5e8f 2 \u5728\u8fd9\u91cc</li> </ul>"},{"location":"lab5/#_3","title":"\u5b9e\u9a8c\u68c0\u67e5\u4e0e\u63d0\u4ea4","text":"<p>\u672c\u6b21\u5b9e\u9a8c\u5e03\u7f6e\u65f6\u95f4\u4e3a 2024-04-15\uff0c\u6301\u7eed\u4e00\u5468\u3002\u76f8\u5e94\u7684 DDL \u8282\u70b9\u5982\u4e0b\uff1a</p> \u7ec4\u522b \u68c0\u67e5 DDL \u62a5\u544a\u63d0\u4ea4 DDL \u5468\u4e00\u7ec4 2024-04-22 2024-04-29 \u5468\u4e09\u7ec4 2024-04-24 2024-05-01 <p>\u5728 DDL \u4e4b\u540e\uff0c\u4f46\u5728 5.6\u30015.8 \u53ca\u4e4b\u524d\u68c0\u67e5\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 90% \u5206\u6570\uff1b5.6\u30015.8 \u4e4b\u540e\u68c0\u67e5\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 60% \u5206\u6570\u3002</p> <p>\u63d0\u9192</p> <p>\u5b9e\u9a8c\u7684 DDL \u4e3a\u5f53\u5929\u665a\u4e0a 21:30\u3002\u52a9\u6559\u6709\u6743\u5229\u5728 21:30 \u51c6\u65f6\u505c\u6b62\u68c0\u67e5\uff0c\u8bf7\u5927\u5bb6\u5408\u7406\u5b89\u6392\u597d\u81ea\u5df1\u7684\u65f6\u95f4\u3002\u80fd\u5426\u7ebf\u4e0a\u68c0\u67e5\u3001\u80fd\u5426\u5728\u5176\u4ed6\u65f6\u95f4\u68c0\u67e5\u8bf7\u54a8\u8be2\u672c\u7ec4\u7684\u52a9\u6559\u3002</p> <p>\u5173\u4e8e\u5b9e\u9a8c\u62a5\u544a</p> <p>\u5b9e\u9a8c\u62a5\u544a\u9700\u8981\u5927\u5bb6\u63d0\u4ea4 PDF \u683c\u5f0f\u3002\u6211\u4eec\u63a8\u8350\u5927\u5bb6\u4f7f\u7528 Markdown \u6216\u8005 Latex \u64b0\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u5bfc\u51fa\u4e3a PDF\u3002\u5927\u5bb6\u4e5f\u53ef\u4ee5\u4f7f\u7528 Word\u3001WPS \u7b49\u8fdb\u884c\u62a5\u544a\u64b0\u5199\uff0c\u6700\u540e\u8f6c\u6362\u4e3a PDF \u683c\u5f0f\u3002\u6211\u4eec\u4e0d\u63a8\u8350\u4e5f\u4e0d\u62d2\u7edd\u5927\u5bb6\u624b\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u4f46\u8bf7\u5c06\u5176\u62cd\u7167\u626b\u63cf\u6210 PDF \u6587\u4ef6\u540e\u518d\u4e0a\u4f20\u3002\u6211\u4eec\u4e0d\u63a5\u53d7\u4efb\u4f55\u56e0\u4e3a\u6587\u4ef6\u683c\u5f0f\u9519\u8bef\u800c\u5bfc\u81f4\u6210\u7ee9\u5f02\u5e38\u7684\u7533\u8bc9\u8bf7\u6c42\uff01</p> <p>\u5728\u5b9e\u9a8c\u62a5\u544a\u4e2d\uff0c\u4f60\u9700\u8981\u7ed9\u51fa\u6bcf\u4e00\u9879\u4efb\u52a1\u7684\u7b54\u6848\uff0c\u5e76\u9644\u4e0a\u5fc5\u8981\u7684\u8bf4\u660e\u8fc7\u7a0b\uff08\u6216\u622a\u56fe\uff09\u3002</p> <p>\u7279\u522b\u5730\uff1a\u5b9e\u9a8c\u62a5\u544a\u7684\u5b57\u6570\u548c\u6392\u7248\u4e0e\u6700\u7ec8\u5f97\u5206\u65e0\u5173\u3002\u5f71\u54cd\u5f97\u5206\u7684\u4ec5\u6709\u5185\u5bb9\u6b63\u786e\u6027\u4e0e\u5b8c\u6574\u6027\u3002</p> <p>\u5b9e\u9a8c\u62a5\u544a\u63d0\u4ea4\u7684\u5730\u5740\u5728\u8fd9\u91cc\u3002</p>"},{"location":"lab5/CPU/","title":"\u6d41\u6c34\u7ebf CPU","text":""},{"location":"lab5/CPU/#_1","title":"\u5faa\u73af\u7684\u4ee3\u4ef7","text":"<p>\u8868\u9762\u6765\u770b\uff0c\u4ece\u4e0a\u4e00\u90e8\u5206\u6700\u540e\u7684\u56fe\u51fa\u53d1\uff0c\u53ea\u8981\u5c06 npc_ex \u8fde\u56de pc\u3001\u5bc4\u5b58\u5668\u4e0e\u6570\u636e\u50a8\u5b58\u5668\u8fde\u63a5\u5408\u9002\u7684\u5199\u5165\uff0c\u6211\u4eec\u5c31\u5b8c\u6210\u4e86\u5355\u5468\u671f CPU \u7684\u6d41\u6c34\u5316\u3002\u7136\u800c\uff0c\u95ee\u9898\u8fd8\u8fdc\u8fdc\u6ca1\u6709\u89e3\u51b3\uff0c\u8fd9\u4e00\u5207\u7684\u6210\u56e0\u90fd\u662f\u201c\u5faa\u73af\u201d\uff0c\u4e5f\u5373\u4e0e\u4e4b\u524d\u7684\u7b80\u5355\u90e8\u5206\u4e0d\u540c\u7684\uff0c\u8f93\u51fa\u4f1a\u5bfc\u81f4\u8f93\u5165\u7684\u5dee\u522b\u3002</p>"},{"location":"lab5/CPU/#_2","title":"\u6570\u636e\u50a8\u5b58\u5668","text":"<p>\u4e3a\u4e86\u8bf4\u6e05\u695a\u76f4\u63a5\u8fde\u63a5\u7684\u95ee\u9898\uff0c\u6211\u4eec\u5148\u89c2\u5bdf\u552f\u4e00\u5e76\u4e0d\u4f1a\u51fa\u95ee\u9898\u7684\u6570\u636e\u50a8\u5b58\u5668\u5355\u5143\u3002\u76f4\u63a5\u5c06\u751f\u6210\u7684\u5199\u6570\u636e\u8fde\u5230\u6570\u636e\u50a8\u5b58\u5668\u7684\u8f93\u5165\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\uff1a</p> <p></p> \u76f4\u63a5\u8fde\u63a5\u6570\u636e\u50a8\u5b58\u5668 <p>\u4e0b\u9762\u8003\u8651\u6bcf\u4e2a\u5468\u671f PC \u90fd\u66f4\u65b0\u7684\u573a\u666f\u3002\u968f\u7740\u6307\u4ee4\u4e00\u7ea7\u7ea7\u6d41\u8f6c\uff0c\u6570\u636e\u50a8\u5b58\u5668\u4e0d\u65ad\u88ab\u66f4\u6539\u3002\u4f46\u662f\uff0c\u7531\u4e8e\u6570\u636e\u50a8\u5b58\u5668\u7684\u8bfb\u5199\u5728\u540c\u4e00\u7ea7\uff0c\u6bcf\u4e2a\u6307\u4ee4\u6765\u5230 MEM \u6bb5\u65f6\uff0c\u4e0a\u4e00\u4e2a\u6307\u4ee4\u4e00\u5b9a\u5df2\u7ecf\u5b8c\u6210\u4e86\u5199\u5165\uff0c\u56e0\u6b64\u8bfb\u5230\u7684\u4e00\u5b9a\u662f\u6700\u65b0\u7684\u6570\u636e\u3002</p>"},{"location":"lab5/CPU/#_3","title":"\u5bc4\u5b58\u5668\u5806","text":"<p>\u7136\u800c\uff0c\u8fd9\u6837\u7f8e\u597d\u7684\u60c5\u51b5\u5bf9\u5bc4\u5b58\u5668\u5806\u4e0d\u518d\u6210\u7acb\u3002\u7531\u4e8e\u5bc4\u5b58\u5668\u5806\u7684\u66f4\u65b0\u5728 WB \u9636\u6bb5\uff0c\u800c\u4f7f\u7528\u5728 ID \u9636\u6bb5\uff0c\u5982\u679c\u6bcf\u4e2a\u5468\u671f PC \u90fd\u66f4\u65b0\uff0c\u5f53\u67d0\u6761\u6307\u4ee4\u5230\u8fbe ID \u9636\u6bb5\u65f6\uff0c\u4e0a\u4e00\u6761\u6307\u4ee4\u521a\u521a\u5230\u8fbe EX \u9636\u6bb5\uff0c\u4e5f\u5373\u8fd8\u9700\u8981\u4e09\u4e2a\u5468\u671f\uff08\u5230\u8fbe MEM\u3001\u5230\u8fbe WB\u3001\u6210\u529f\u5199\u5165\uff09\u624d\u80fd\u6700\u7ec8\u5199\u5165\u3002</p> <p>\u4f9d\u8d56\u5173\u7cfb</p> <p>\u4e0a\u4e00\u90e8\u5206\u7684\u7b80\u5355\u4f8b\u5b50\u4e2d\uff0c\u4e4b\u6240\u4ee5\u4e0d\u4f1a\u51fa\u73b0\u8fd9\u6837\u7684\u95ee\u9898\uff0c\u662f\u56e0\u4e3a\u6211\u4eec\u5047\u8bbe\u8f93\u51fa res \u4e0e\u8f93\u5165 a\u3001b\u3001c\u3001d \u72ec\u7acb\u3002\u4f46 CPU \u7684\u60c5\u51b5\u91cc\uff0c\u8f93\u51fa\u7684\u533a\u522b\u5199\u5165\u540e\u5373\u4f1a\u5f71\u54cd\u8f93\u5165\u7684\u7ed3\u679c\uff0c\u8fd9\u6837\u7684\u4f9d\u8d56\u5173\u7cfb\u5bfc\u81f4\u4e86\u95ee\u9898\u3002</p>"},{"location":"lab5/CPU/#pc","title":"PC \u66f4\u65b0","text":"<p>\u5f53\u7136\uff0c\u5982\u679c\u6211\u4eec\u8003\u8651\u4f1a\u4f7f PC \u8df3\u8f6c\u7684\u6307\u4ee4\uff0c\u95ee\u9898\u5219\u4f1a\u66f4\u5927\u2014\u2014PC \u8df3\u8f6c\u7684\u7ed3\u679c\u5728 EX \u6bb5\u624d\u80fd\u6b63\u786e\u8ba1\u7b97\uff0c\u800c\u6211\u4eec\u5047\u8bbe PC \u4e00\u6761\u6761\u66f4\u65b0\u65f6\uff0c\u4ece\u524d\u4e00\u6b21 PC \u66f4\u65b0\u5230\u4e0b\u4e00\u6b21\u7684\u6b63\u786e PC \u88ab\u66f4\u65b0\uff0c\u4e5f\u9700\u8981\u4e09\u4e2a\u5468\u671f\uff08\u8fdb\u5165 ID\u3001\u8fdb\u5165 EX\u3001\u66f4\u65b0 PC\uff09\u3002</p> <p>\u8df3\u8f6c\u7684\u95ee\u9898\u4e0e\u5bc4\u5b58\u5668\u5806\u7684\u5199\u5165\u95ee\u9898\u5bfc\u81f4\u6211\u4eec\u5fc5\u987b\u6539\u8fdb\u8fd9\u4e2a\u6d41\u6c34\u5316\u7684\u65b9\u6848\u3002\u4ece\u903b\u8f91\u4e0a\u6765\u8bf4\uff0cPC \u66f4\u65b0\u548c\u5bc4\u5b58\u5668\u5806\u7b49\u5f85\u7684\u5468\u671f\u90fd\u662f\u65e0\u6cd5\u51cf\u5c11\u7684\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u7684 CPU \u81f3\u5c11\u9700\u8981\u4e09\u5468\u671f\u6267\u884c\u4e00\u6761\u6307\u4ee4\uff0c\u8fd9\u4e5f\u662f\u672c\u6b21\u5b9e\u9a8c\u7684\u6700\u7ec8\u7ed3\u679c\uff0c\u5728\u4e0b\u6b21\u5b9e\u9a8c\u4e2d\uff0c\u6211\u4eec\u65b9\u624d\u63a2\u8ba8\u66f4\u591a\u4f18\u5316\u7684\u53ef\u80fd\u3002</p>"},{"location":"lab5/CPU/#cpu_1","title":"\u4e09\u5468\u671f CPU","text":""},{"location":"lab5/CPU/#_4","title":"\u6bb5\u95f4\u5bc4\u5b58\u5668","text":"<p>\u9996\u5148\uff0c\u662f\u65f6\u5019\u7ec6\u5316\u6211\u4eec\u4e4b\u524d\u63d0\u5230\u7684\u6bb5\u95f4\u5bc4\u5b58\u5668\u6a21\u5757\u4e86\u3002\u4ece\u6700\u7b80\u5355\u7684\u89d2\u5ea6\u6765\u8bf4\uff0c\u5b83\u53ea\u9700\u8981\u5728\u6bcf\u4e2a\u65f6\u949f\u4e0a\u5347\u6cbf\u5c06\u8f93\u5165\u4f20\u9012\u5230\u8f93\u51fa\uff0c\u4e0d\u8fc7\uff0c\u4e3a\u4e86\u65b9\u4fbf\u540e\u7eed\u7684\u64cd\u4f5c\uff0c\u6211\u4eec\u9700\u8981\u989d\u5916\u6dfb\u52a0\u56db\u4e2a\u63a5\u53e3\uff0c\u5373 rst\u3001en\u3001stall \u548c flush\uff1a</p> <ul> <li>rst \u7684\u6548\u679c\u4e3a\u540c\u6b65\u6e05\u7a7a\uff0c\u5f53\u6b64\u4fe1\u53f7\u9ad8\u7535\u5e73\u65f6\u6bb5\u95f4\u5bc4\u5b58\u5668\u7684\u6240\u6709\u5bc4\u5b58\u5668\u90fd\u5c06\u88ab\u6e05\u7a7a\uff0c\u4e0e CPU \u7684 rst \u4fe1\u53f7\u8fde\u63a5\u3002</li> <li>en \u7684\u4f5c\u7528\u662f\u8ba9\u6bb5\u95f4\u5bc4\u5b58\u5668\u53d7\u5230 PDU \u7684\u63a7\u5236\uff0c\u4fdd\u8bc1\u5176\u4e0e PC \u5bc4\u5b58\u5668 en \u7aef\u53e3\u7684\u540c\u6b65\u3002\u6bb5\u95f4\u5bc4\u5b58\u5668\u7684 en \u7aef\u53e3\u540c\u6837\u8fde\u63a5\u5230 <code>global_en</code>\u3002</li> <li>stall \u7684\u6548\u679c\u4e3a\u505c\u9a7b\uff0c\u82e5\u65f6\u949f\u4e0a\u5347\u6cbf\u6b64\u4fe1\u53f7\u9ad8\u7535\u5e73\uff0c\u8f93\u51fa\u4ecd\u4fdd\u6301\u4e4b\u524d\u7684\u503c\u4e0d\u53d8\uff0c\u800c\u975e\u63a5\u6536\u8f93\u5165\uff08\u4e5f\u5373\u5176\u662f\u53cd\u5411\u7684\u5199\u4f7f\u80fd\u4fe1\u53f7\uff09\u3002</li> <li>flush \u7684\u6548\u679c\u4e3a\u540c\u6b65\u6e05\u7a7a\uff0c\u82e5\u65f6\u949f\u4e0a\u5347\u6cbf\u6b64\u4fe1\u53f7\u9ad8\u7535\u5e73\uff0c\u6bb5\u95f4\u5bc4\u5b58\u5668\u7684\u6240\u6709\u5bc4\u5b58\u5668\u90fd\u5c06\u88ab\u6e05\u7a7a\u3002</li> </ul> <p>\u4e00\u4e2a\u53ef\u4ee5\u53c2\u8003\u7684\u6846\u67b6\u5982\u4e0b\uff1a</p> <pre><code>always @(posedge clk) begin\n    if (rst) begin\n        // rst \u64cd\u4f5c\u7684\u903b\u8f91\n    end\n    else if (en) begin\n        // flush \u548c stall \u64cd\u4f5c\u7684\u903b\u8f91, flush \u7684\u4f18\u5148\u7ea7\u66f4\u9ad8\n    end\nend\n</code></pre> <p>\u5728\u672c\u6b21\u5b9e\u9a8c\u4e2d\uff0c\u6bb5\u95f4\u5bc4\u5b58\u5668\u4e0d\u4f1a stall\uff0c\u4f46\u9700\u8981\u88ab flush\u3002</p> \u4ec0\u4e48\u662f\u6e05\u7a7a\uff1f <p>\u5f88\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u6e05\u7a7a\u672a\u5fc5\u662f\u6e05\u96f6\uff0c\u4f8b\u5982 PC \u6e05\u7a7a\u5c31\u662f\u56de\u5230\u521d\u59cb\u4f4d\u7f6e\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6e05\u7a7a\u6bb5\u95f4\u5bc4\u5b58\u5668\u610f\u5473\u7740\u5c06\u8be5\u6bb5\u53d8\u4e3a\uff08\u4e5f\u5373\u8c03\u6574\u6240\u6709\u7684\u6570\u636e\u4e0e\u63a7\u5236\u4fe1\u53f7\uff09\u6267\u884c\u4e00\u6761\u201c\u4ec0\u4e48\u90fd\u4e0d\u505a\u201d\u7684\u6307\u4ee4\uff0c\u4e5f\u5c31\u662f nop \u6307\u4ee4\u3002\u8bf7\u6839\u636e\u4f60\u4f7f\u7528\u7684\u6307\u4ee4\u96c6\u81ea\u884c\u5b9e\u73b0\u6b63\u786e\u7684\u6e05\u7a7a\u3002</p> <p>\u9664\u6b64\u4ee5\u5916\uff0c\u6bb5\u95f4\u5bc4\u5b58\u5668\u5176\u5b9e\u6709\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f\u3002\u76f4\u89c2\u7684\u60f3\u6cd5\u662f\uff0c\u5982\u6570\u636e\u901a\u8def\u4e00\u6837\uff0c\u6bcf\u6bb5\u5c06\u8be5\u6bb5\u9700\u8981\u4f20\u9012\u7684\u4fe1\u53f7\u4f20\u9012\u7ed9\u4e0b\u4e00\u6bb5\uff0c\u5ffd\u7565\u5176\u4ed6\u4fe1\u53f7\u3002\u7136\u800c\uff0c\u8fd9\u4e48\u505a\u4f1a\u4ea7\u751f\u4e24\u4e2a\u95ee\u9898\uff1a</p> <ol> <li> <p>\u6bcf\u6bb5\u7684\u6bb5\u95f4\u5bc4\u5b58\u5668\u9700\u8981\u91cd\u65b0\u8bbe\u8ba1\u3002\u4f46\u6709\u4e9b\u4fe1\u53f7\uff08\u5982\u5bc4\u5b58\u5668\u5806\u5199\u4f7f\u80fd rf_we\uff09\u4e8b\u5b9e\u4e0a\u9700\u8981\u591a\u6b21\u4f20\u9012\uff0c \u800c\u6709\u4e9b\u4fe1\u53f7\uff08\u5982\u5bc4\u5b58\u5668\u5806\u7684\u8bfb\u5730\u5740 rf_ra1\uff09\u5219\u5728\u6700\u521d\u8bbe\u8ba1\u65f6\u770b\u4f3c\u4e0d\u8981\u4f20\u9012\uff0c\u5728\u5904\u7406\u6570\u636e\u76f8\u5173\u65f6\uff08\u4e0b\u4e00\u6b21\u5b9e\u9a8c\u5c06\u6d89\u53ca\uff09 \u5374\u53d1\u73b0\u9700\u8981\u4f20\u9012\u3002\u8bbe\u8ba1\u8fc7\u7a0b\u4e2d\u5bf9\u6a21\u5757\u63a5\u53e3\u4e0d\u65ad\u7684\u590d\u5236\u3001\u4fee\u6539\u5bb9\u6613\u5f15\u8d77\u6df7\u4e71\u3002</p> </li> <li> <p>\u5982\u679c\u4fe1\u53f7\u53ea\u4fdd\u7559\u6709\u9650\u7684\u751f\u547d\u5468\u671f\uff0c\u5219\u8c03\u8bd5\u65f6\u9700\u8981\u53cd\u590d\u67e5\u770b\u4e0d\u540c\u6bb5\u843d\u6b63\u5728\u6267\u884c\u7684\u6307\u4ee4\uff0c \u8fd9\u52a0\u5927\u4e86\u8c03\u8bd5\u7684\u96be\u5ea6\u3002</p> </li> </ol> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528\u7edf\u4e00\u7684\u6bb5\u95f4\u5bc4\u5b58\u5668\u6a21\u5757\uff0c\u8ba9\u4fe1\u53f7\u4e00\u7ecf\u4ea7\u751f\u5c31\u4f20\u9012\u5230\u6700\u540e\uff0c\u4ece\u800c\u7b80\u5316\u4e86\u6bb5\u95f4\u5bc4\u5b58\u5668\u7684\u8bbe\u8ba1\u3002 \u5bf9\u4e8e\u5728\u4e0a\u4e00\u9636\u6bb5\u5c1a\u672a\u4ea7\u751f\u7684\u4fe1\u53f7\uff0c\u76f4\u63a5\u5728\u8f93\u5165\u5904\u63a5 0\uff0c\u5ffd\u7565\u5176\u8f93\u51fa\uff0c\u5373\u53ea\u4fdd\u7559\u6709\u6548\u7aef\u53e3\u7684\u4f7f\u7528\u2014\u2014\u5f53\u7136\uff0c\u8fd9\u6837\u4e5f\u5c31\u4f1a\u5bfc\u81f4\u6211\u4eec\u7684\u6bb5\u95f4\u5bc4\u5b58\u5668\u5341\u5206\u5e9e\u5927\uff08\u53bb\u5e74\u7684\u5b9e\u9a8c\u4e2d\uff0c\u5b83\u5171\u6709 73 \u4e2a\u8f93\u5165\u8f93\u51fa\u7aef\u53e3\uff09\u3002</p> <p>\u65e0\u9700\u8f93\u5165/\u8f93\u51fa\u65f6\u7684\u5904\u7406</p> <p>\u5728 Verilog \u4e2d\uff0c\u6a21\u5757\u7684\u8f93\u51fa\u7aef\u53e3\u5141\u8bb8\u7a7a\u7f6e\uff0c\u4f46\u8f93\u5165\u7aef\u53e3\u4e0d\u5141\u8bb8\uff0c\u5426\u5219\u4f1a\u53d1\u751f\u9519\u8bef\u3002\u56e0\u6b64\u5bf9\u4e8e\u65e0\u7528\u7684\u8f93\u5165\uff0c\u53ef\u4ee5\u5c06\u5176\u7aef\u53e3\u7f6e 0\u3002\u4f8b\u5982</p> <pre><code>.useless_input(32'b0)  // A 32-bits useless input port\n</code></pre>"},{"location":"lab5/CPU/#pc_1","title":"PC \u4e0e\u5bc4\u5b58\u5668\u5806\u7684\u540c\u6b65","text":"<p>\u63a5\u4e0b\u6765\uff0c\u8ba9\u6211\u4eec\u76f4\u63a5\u5c06 npc \u4e0e rf_wd \u90fd\u8fde\u63a5\u4e0a\uff0c\u5f97\u5230\u4e00\u4e2a\u201c\u6d41\u6c34\u7ebf CPU\u201d\uff1a</p> <p></p> \u7b80\u5355\u6d41\u6c34\u7ebf CPU \u6570\u636e\u901a\u8def <p>\u8003\u8651\u8fd9\u6837\u7684\u573a\u666f\uff1aPC \u6bcf\u4e09\u4e2a\u5468\u671f\u66f4\u65b0\u4e00\u6b21\u3002\u6b64\u65f6\uff0cPC \u66f4\u65b0\u6070\u597d\u662f\u5728\u4e0a\u4e00\u4e2a npc_ex \u5df2\u7ecf\u8ba1\u7b97\u51fa\u65f6\uff0c\u8df3\u8f6c\u7684\u95ee\u9898\u5df2\u7ecf\u89e3\u51b3\u3002\u7136\u800c\uff0c\u5c31\u5bc4\u5b58\u5668\u5806\u800c\u8a00\uff0c\u95ee\u9898\u5e76\u6ca1\u6709\u8fd9\u4e48\u7b80\u5355\u3002</p> <p>\u8003\u8651\u5982\u4e0b\u4e24\u6761 RV32I \u6307\u4ee4\uff1a</p> <pre><code>addi x1, x0, 1\naddi x2, x1, 1\n</code></pre> <p>\u7531\u4e8e PC \u4e09\u5468\u671f\u66f4\u65b0\u4e00\u6b21\uff0c\u5f53\u524d\u4e00\u6761\u6307\u4ee4\u5728 EX \u9636\u6bb5\u7684\u4e0b\u4e00\u4e2a\u5468\u671f\uff0c\u4e5f\u5373\u524d\u4e00\u6761\u6307\u4ee4\u8fdb\u5165 MEM \u9636\u6bb5\u65f6\uff0c\u540e\u4e00\u6761\u6307\u4ee4\u8fdb\u5165 IF \u9636\u6bb5\uff1b\u800c\u524d\u4e00\u6761\u6307\u4ee4\u8fdb\u5165 WB \u9636\u6bb5\u65f6\uff0c\u540e\u4e00\u6761\u6307\u4ee4\u8fdb\u5165 ID \u9636\u6bb5\u3002\u7136\u800c\uff0cWB\u9636\u6bb5\u5f97\u5230\u7684 x1 \u503c 1 \u9700\u8981\u5728\u4e0b\u4e2a\u5468\u671f\u624d\u80fd\u5199\u5165\uff0c\u540e\u4e00\u6761\u6307\u4ee4\u8bfb\u5230\u7684\u4e8b\u5b9e\u4e0a\u662f x1 \u4e4b\u524d\u7684\u503c\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\uff0c\u6211\u4eec\u9700\u8981\u5c06\u5bc4\u5b58\u5668\u5806\u6539\u4e3a\u5199\u4f18\u5148\uff0c\u4e5f\u5373\uff0c\u5728\u8bfb\u5bc4\u5b58\u5668\u65f6\uff0c\u82e5\u4e0b\u4e2a\u5468\u671f\u5373\u5c06\u5411\u8fd9\u4e2a\u5bc4\u5b58\u5668\u5199\u5165\u503c\u65f6\uff0c\u5e94\u76f4\u63a5\u5229\u7528\u7ec4\u5408\u903b\u8f91\u8bfb\u51fa\u5c06\u5199\u5165\u7684\u503c\u3002</p> \u5173\u4e8e 0 \u53f7\u5bc4\u5b58\u5668 <p>\u4e0b\u4e2a\u5468\u671f\u662f\u5426\u5c06\u5199\u5165\u503c\u53ef\u4ee5\u901a\u8fc7 we \u4e0e wa \u7efc\u5408\u5224\u65ad\u3002\u7531\u4e8e\u4fdd\u6301\u6052 0 \u7684\u96f6\u53f7\u5bc4\u5b58\u5668\u4e0d\u5e94\u8be5\u88ab\u5199\u5165\u503c\uff0c\u5b83\u5e94\u8be5\u88ab\u7279\u6b8a\u5224\u65ad\u3002</p> <p>\u8fd9\u6837\u4e00\u6765\uff0c\u6211\u4eec\u7684\u6d41\u6c34\u7ebf CPU \u5c31\u53ef\u4ee5\u5728\u4e09\u5468\u671f\u4e00\u6761\u6307\u4ee4\u7684\u60c5\u51b5\u4e0b\u6b63\u5e38\u8fd0\u884c\u4e86\u3002\u4e0d\u8fc7\uff0c\u8fd8\u6709\u6700\u540e\u4e00\u4e2a\uff0c\u4e5f\u662f\u6700\u5173\u952e\u7684\u95ee\u9898\uff0c\u600e\u4e48\u4fdd\u8bc1\u4e09\u5468\u671f\u8fdb\u884c\u4e00\u6761\u6307\u4ee4\u5462\uff1f</p>"},{"location":"lab5/CPU/#vs","title":"\u786c\u4ef6 vs \u4e0d\u90a3\u4e48\u786c\u4ef6","text":"<p>\u8fd9\u65f6\uff0c\u53ef\u80fd\u6709\u540c\u5b66\u60f3\u5230\u6bb5\u95f4\u5bc4\u5b58\u5668\u539f\u5148\u7684 stall \u4e0e flush \u7aef\u53e3\uff0c\u5b83\u4eec\u662f\u5426\u53ef\u4ee5\u8c03\u63a7\u6307\u4ee4\u6267\u884c\uff0c\u4f7f\u5f97\u4e09\u5468\u671f\u7684\u8981\u6c42\u6ee1\u8db3\u5462\uff1f\u4e8b\u5b9e\u4e0a\uff0c\u53ea\u8981\u589e\u52a0\u8ba1\u6570\u5668\u6a21\u5757\uff0c\u6bcf\u4e2a\u6307\u4ee4\u8fdb\u5165 ID \u540e\uff0c\u63a5\u4e0b\u6765\u7684\u4e24\u5468\u671f flush \u6389 IF \u5230 ID \u7684\u6bb5\u5bc4\u5b58\u5668\uff0c\u5e76 stall \u4f4f PC\uff0c\u5373\u53ef\u5b8c\u6210\u3002\uff08\u601d\u8003\uff1a\u4e3a\u4ec0\u4e48\uff1f\uff09</p> <p>\u4e0d\u8fc7\uff0c\u672c\u6b21\u5b9e\u9a8c\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u4e00\u4e2a\u8fdc\u6bd4\u5b83\u7b80\u5355\u7684\u529e\u6cd5\uff1a\u52a9\u6559\u4eec\u5728\u63d0\u4f9b\u6307\u4ee4\u6d4b\u8bd5\u65f6\uff0c\u6bcf\u4e2a\u6307\u4ee4\u540e\u90fd\u6709\u4e24\u4e2a nop \u6307\u4ee4\uff0c\u8fd9\u6837\u7684\u201c\u9884\u5904\u7406\u201d\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u65e0\u9700\u8ba1\u6570\u5668\u8fde\u7eed\u6267\u884c\u6307\u4ee4\uff0c\u5b9e\u73b0\u6b63\u786e\u7684\u6548\u679c\u3002</p>"},{"location":"lab5/CPU/#_5","title":"\u5bf9\u4e8e\u4eff\u771f\u6846\u67b6\u7684\u9002\u914d","text":"<p>\u5bf9\u8df3\u8f6c\u6307\u4ee4\u6765\u8bf4\uff0c\u5b83\u4f1a\u5bfc\u81f4 PC \u4e24\u6b21\u52a0 4 \u540e\u624d\u8df3\u8f6c\u5230\u6b63\u786e\u7684\u5730\u5740\uff0c\u4f46\u56e0\u4e3a\u4e24\u6b21\u52a0 4 \u9047\u5230\u7684\u90fd\u662f nop\uff0c\u5b9e\u9645\u4e0a\u5e76\u4e0d\u4f1a\u5f71\u54cd\u6574\u4e2a\u6c47\u7f16\u4ee3\u7801\u7684\u7ed3\u679c\u3002\u7136\u800c\uff0c\u4eff\u771f\u6846\u67b6\u8981\u6c42\u8fd9\u4e24\u6761 nop \u4e0d\u80fd\u8fdb\u884c\u300c\u63d0\u4ea4\uff08commit\uff09\u300d\u64cd\u4f5c\uff08\u5c3d\u7ba1\u5b83\u6700\u7ec8\u5199\u5165\u4e86\u96f6\u53f7\u5bc4\u5b58\u5668\uff0c\u4e0d\u4f1a\u5e26\u6765\u5b9e\u8d28\u6027\u5f71\u54cd\uff09\uff0c\u5426\u5219\u4f1a\u5224\u5b9a\u4f60\u7a0b\u5e8f\u8fd0\u884c\u9519\u8bef\u3002\u4e3a\u6b64\uff0c\u4f60\u9700\u8981\u5728\u8df3\u8f6c\u9519\u8bef\u65f6\u4e3a\u6bb5\u95f4\u5bc4\u5b58\u5668\u751f\u6210\u6b63\u786e\u7684 flush \u4fe1\u53f7\uff0c\u5c06\u8fd9\u4e24\u6761\u6307\u4ee4\u7684 commit \u4fe1\u53f7\u6e05\u7a7a\u3002</p> <p>\u90a3\u4e48\u5e94\u8be5\u600e\u4e48\u64cd\u4f5c\u5462\uff1f\u5728\u6d41\u6c34\u7ebf CPU \u4e2d\uff0c\u6211\u4eec\u5728 EX \u6bb5\u53d1\u73b0\u5206\u652f\u9519\u8bef\uff0c\u6b64\u65f6 IF\u3001ID \u6bb5\u662f\u4e24\u6761 nop \u6307\u4ee4\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4e0b\u4e00\u4e2a\u65f6\u949f\u7684\u4e0a\u5347\u6cbf flush IF/ID\u3001ID/EX \u4e24\u4e2a\u6bb5\u95f4\u5bc4\u5b58\u5668\uff0c\u4ece\u800c\u5c06\u8fd9\u4e24\u6761 nop \u6307\u4ee4\u7684 commit \u64cd\u4f5c\u300c\u6d88\u9664\u300d\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0ccommit \u4fe1\u53f7\u662f\u9700\u8981\u88ab\u6e05\u96f6\u7684\uff01\u8fd9\u6837\u4eff\u771f\u6846\u67b6\u5c31\u4e0d\u4f1a\u6bd4\u5bf9\u8fd9\u4e24\u6761 nop \u6307\u4ee4\uff0c\u800c\u662f\u7b49\u5230\u4e0b\u4e00\u6761\u80fd\u591f commit \u7684\u6307\u4ee4\u5230\u6765\u540e\u518d\u7ee7\u7eed\u6bd4\u5bf9\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u53c2\u8003\u7684\u4ee3\u7801\uff1a</p> <pre><code>assign commit_if = 1'H1;    // \u8fd9\u4e2a\u4fe1\u53f7\u9700\u8981\u7ecf\u8fc7 IF/ID\u3001ID/EX\u3001EX/MEM\u3001MEM/WB \u6bb5\u95f4\u5bc4\u5b58\u5668\uff0c\u6700\u7ec8\u8fde\u63a5\u5230 commit_reg \u4e0a\n\nalways @(posedge clk) begin\n    if (rst) begin\n        commit_reg          &lt;= 1'H0;\n        commit_pc_reg       &lt;= 32'H0;\n        commit_inst_reg     &lt;= 32'H0;\n        commit_halt_reg     &lt;= 1'H0;\n        commit_reg_we_reg   &lt;= 1'H0;\n        commit_reg_wa_reg   &lt;= 5'H0;\n        commit_reg_wd_reg   &lt;= 32'H0;\n        commit_dmem_we_reg  &lt;= 1'H0;\n        commit_dmem_wa_reg  &lt;= 32'H0;\n        commit_dmem_wd_reg  &lt;= 32'H0;\n    end\n    else if (global_en) begin\n        // \u8fd9\u91cc\u53f3\u4fa7\u7684\u4fe1\u53f7\u90fd\u662f MEM/WB \u6bb5\u95f4\u5bc4\u5b58\u5668\u7684\u8f93\u51fa\n        commit_reg          &lt;= commit_wb;\n        commit_pc_reg       &lt;= pc_wb;\n        commit_inst_reg     &lt;= inst_wb;\n        commit_halt_reg     &lt;= inst_wb == `HALT_INST;\n        commit_reg_we_reg   &lt;= rf_we_wb;\n        commit_reg_wa_reg   &lt;= rf_wa_wb;\n        commit_reg_wd_reg   &lt;= rf_wd_wb;\n        commit_dmem_we_reg  &lt;= dmem_we_wb;\n        commit_dmem_wa_reg  &lt;= dmem_addr_wb;\n        commit_dmem_wd_reg  &lt;= dmem_wdata_wb;\n    end\nend\n\nassign commit               = commit_reg;\nassign commit_pc            = commit_pc_reg;\nassign commit_inst          = commit_inst_reg;\nassign commit_halt          = commit_halt_reg;\nassign commit_reg_we        = commit_reg_we_reg;\nassign commit_reg_wa        = commit_reg_wa_reg;\nassign commit_reg_wd        = commit_reg_wd_reg;\nassign commit_dmem_we       = commit_dmem_we_reg;\nassign commit_dmem_wa       = commit_dmem_wa_reg;\nassign commit_dmem_wd       = commit_dmem_wd_reg;\n</code></pre> \u5173\u4e8e global_en <p>\u73b0\u5728\uff0c<code>global_en</code> \u4fe1\u53f7\u4f1a\u63a7\u5236\u4e09\u4e2a\u90e8\u5206\uff1aPC \u5bc4\u5b58\u5668\u3001commit \u5bc4\u5b58\u5668\u4ee5\u53ca\u6bb5\u95f4\u5bc4\u5b58\u5668\u3002</p> \u4e00\u70b9\u8865\u5145 <p>\u7531\u4e8e\u6211\u4eec\u4e8b\u5b9e\u4e0a\u662f\u53ef\u4ee5\u8ba9 PC \u8fde\u7eed\u6267\u884c\u7684\uff0c\u4e00\u4e2a\u5f88\u503c\u5f97\u601d\u8003\u7684\u95ee\u9898\u662f\uff0c\u5230\u5e95\u600e\u6837\u7684\u6307\u4ee4\u5e8f\u5217\u624d\u80fd\u4fdd\u8bc1\u6267\u884c\u7ed3\u679c\u6b63\u786e\uff1f\u4e00\u5b9a\u8981\u6bcf\u4e2a\u6307\u4ee4\u540e\u8ddf\u7740\u4e24\u4e2a nop \u5417\uff1f\u4e8b\u5b9e\u4e0a\uff0c\u4efb\u52a1 2 \u4e2d\u7684\u6307\u4ee4\u5e8f\u5217\u5c31\u662f\u53ef\u4ee5\u8fde\u7eed\u6b63\u786e\u6267\u884c\u7684\u2014\u2014\u51c6\u786e\u6765\u8bf4\uff0c\u4efb\u4f55\u65e0\u8df3\u8f6c\u3001\u5bc4\u5b58\u5668\u4ece\u66f4\u65b0\u5230\u4f7f\u7528\u81f3\u5c11\u76f8\u9694\u4e24\u6761\u6307\u4ee4\u7684\u5e8f\u5217\u90fd\u662f\u53ef\u4ee5\u5728\u8fd9\u4e2a\u65e0\u5192\u9669\u6d41\u6c34\u7ebf CPU \u4e2d\u8fde\u7eed\u6b63\u786e\u6267\u884c\u7684\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5b9e\u9a8c\u6807\u9898\u4ecd\u79f0\u5176\u4e3a\u7b80\u5355\u6d41\u6c34\u7ebf CPU\uff0c\u800c\u975e\u591a\u5468\u671f CPU\u3002</p>"},{"location":"lab5/flow/","title":"\u6d41\u6c34\u5316\u5904\u7406","text":"<p>\u5728\u5b8c\u6210\u4e86\u5355\u5468\u671f CPU \u7684\u642d\u5efa\u4efb\u52a1\u540e\uff0c\u76f8\u4fe1\u5927\u5bb6\u5df2\u7ecf\u4ece\u4f5c\u4e1a\u6216\u662f\u4e0a\u8bfe\u7684\u4f8b\u5b50\u91cc\u91cc\u611f\u53d7\u5230\u4e86\u5176\u5ef6\u8fdf\u4e4b\u5de8\u5927\u3002\u7531\u4e8e\u4e00\u6761\u6307\u4ee4\u8981\u5728\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u5185\u5b8c\u6210\uff0c\u6bcf\u4e2a\u90e8\u5206\u7684\u5ef6\u8fdf\u90fd\u4f1a\u8fdb\u884c\u53e0\u52a0\u3002\u6700\u5c0f\u65f6\u949f\u5468\u671f\u5fc5\u987b\u8981\u6ee1\u8db3\u901a\u8def\u4e2d\u6700\u8017\u65f6\u7684\u8def\u5f84\uff08\u5373\u5173\u952e\u8def\u5f84\uff09\u7684\u9700\u6c42\uff0c\u4e8e\u662f\u53ea\u80fd\u8bbe\u7f6e\u5f97\u975e\u5e38\u5927\u3002</p> <p>\u6211\u4eec\u81ea\u7136\u5e0c\u671b\u5904\u7406\u5668\u53ef\u4ee5\u6709\u7740\u66f4\u9ad8\u7684\u5de5\u4f5c\u901f\u5ea6\uff0c\u4e5f\u5c31\u662f\u5177\u6709\u66f4\u9ad8\u7684\u6838\u5fc3\u65f6\u949f\u9891\u7387\u3002\u8981\u63d0\u9ad8\u65f6\u949f\u9891\u7387\uff0c\u81ea\u7136\u5c31\u9700\u8981\u964d\u4f4e\u7535\u8def\u4e2d\u7684\u5ef6\u8fdf\u3002\u2014\u2014\u90a3\u4e48\uff0c\u5982\u4f55\u8fdb\u884c\u964d\u4f4e\u5462\uff1f</p>"},{"location":"lab5/flow/#_2","title":"\u4f8b\u5b50\uff1a\u7b80\u5355\u7684\u7ec4\u5408\u903b\u8f91\u7535\u8def","text":""},{"location":"lab5/flow/#_3","title":"\u5355\u5468\u671f\u7248\u672c","text":"<p>\u8003\u8651\u4ee5\u4e0b verilog \u4ee3\u7801\u751f\u6210\u7684\u7535\u8def\uff0c\u5047\u8bbe\u8f93\u5165 a\u3001b\u3001c\u3001d \u4e0e\u8f93\u51fa res \u90fd\u662f 32 \u4f4d\u5bc4\u5b58\u5668\uff1a </p> <pre><code>always @(posedge clk)\n    res &lt;= a + ((b | c) &amp; d);\n</code></pre> <p>\u5047\u8bbe\u52a0\u6cd5\u5668\u7684\u5ef6\u8fdf\u662f 55ns\uff0c\u4e0e\u95e8\u3001\u6216\u95e8\u7684\u5ef6\u8fdf\u662f 10ns\uff0c\u5176\u4f1a\u5bfc\u81f4 b\u3001c \u5148\u53d6\u6216\uff0c\u7ed3\u679c\u540c d \u53d6\u4e0e\uff0c\u518d\u52a0\u4e0a a\uff0c\u8f93\u5165\u5230\u8f93\u51fa\u7684\u603b\u5ef6\u8fdf 75ns\u3002</p> <p>\u8fd9\u610f\u5473\u7740\uff0c\u6211\u4eec\u6700\u591a\u53ef\u4ee5\u5c06\u65f6\u949f\u5468\u671f\u8bbe\u7f6e\u4e3a 75ns\uff0c\u5e76\u6bcf 75ns \u63a5\u6536\u4e00\u4e2a\u8f93\u5165\u3002</p>"},{"location":"lab5/flow/#_4","title":"\u591a\u5468\u671f\u7248\u672c","text":"<p>\u4e3a\u4e86\u5bf9\u5ef6\u8fdf\u8fdb\u884c\u4f18\u5316\uff0c\u6211\u4eec\u5fc5\u987b\u5148\u8003\u8651\u591a\u5468\u671f\u7684\u6539\u8fdb\uff0c\u4e5f\u5373\u7c7b\u4f3c\u72b6\u6001\u673a\u7684\u6267\u884c\u6a21\u5f0f\uff0c\u4ee5\u51cf\u5c0f\u65f6\u949f\u5468\u671f\uff1a</p> <pre><code>reg [1:0] count = 0;\nreg [31:0] temp1, temp2;\nalways @(posedge clk) begin\n    if (count == 2)\n        count &lt;= 0;\n    else\n        count &lt;= count + 1;\n\n    case(count)\n        2'h0: temp1 &lt;= b | c;\n        2'h1: temp2 &lt;= temp1 &amp; d;\n        2'h2: res &lt;= a + temp2;\n    endcase\nend\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\uff0ccount \u76840\u30011\u30012\u4f5c\u4e3a\u72b6\u6001\u7684\u533a\u5206\uff0c\u4e09\u4e2a\u72b6\u6001\u5206\u522b\u8fdb\u884c\u6216\u3001\u4e0e\u3001\u6c42\u548c\u8fd0\u7b97\uff0c\u5e76\u4e0d\u65ad\u5faa\u73af\u3002\u56e0\u4e3a\u6bcf\u4e2a\u5468\u671f\u6700\u591a\u8fdb\u884c\u4e00\u6b21\u52a0\u6cd5\u8fd0\u7b97\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u7684\u65f6\u949f\u5468\u671f\u53ef\u4ee5\u8bbe\u7f6e\u4e3a 55ns\u3002</p> \u591a\u5468\u671f\u5316 <p>\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u5b9e\u73b0\u7684\u4e8b\u5b9e\u4e0a\u7c7b\u4f3c\u591a\u5468\u671f CPU\uff0c\u4f8b\u5982\u4e0a\u5b66\u671f ICS \u4e2d\u7684 LC-3\uff0c\u901a\u8fc7\u591a\u4e2a\u65f6\u949f\u5468\u671f\u5b8c\u6210\u4e00\u6761\u6307\u4ee4\uff0c\u5728\u4e00\u6761\u6307\u4ee4\u5b8c\u6210\u524d\u4e0d\u5141\u8bb8\u4e0b\u4e00\u6761\u7684\u8f93\u5165\u3002</p> <p>\u7136\u800c\uff0c\u5b83\u4e8b\u5b9e\u4e0a\u4e0d\u80fd\u51cf\u5c0f\u5ef6\u8fdf\uff0c\u53cd\u800c\u589e\u52a0\u4e86\u5ef6\u8fdf\uff1a\u4ece\u4e00\u4e2a\u5468\u671f\u8fd0\u884c\u5230\u7ed3\u679c\u53d8\u6210\u4e86\u4e09\u4e2a\u5468\u671f\u6267\u884c\u5230\u7ed3\u679c\uff0c\u5fc5\u987b\u6bcf\u4e09\u4e2a\u5468\u671f\u624d\u80fd\u63a5\u6536\u65b0\u7684\u8f93\u5165\uff0c\u4e8e\u662f\u5b9e\u9645\u7684\u5ef6\u8fdf\u6210\u4e3a\u4e86 165ns\uff0c\u6bd4\u5355\u5468\u671f\u65f6\u7684\u4e24\u500d\u8fd8\u591a\uff01\u4f46\u662f\uff0c\u8fd9\u4e2a\u7248\u672c\u4ecd\u7136\u662f\u6709\u610f\u4e49\u7684\uff0c\u56e0\u4e3a\u5b83\u51cf\u5c0f\u4e86\u65f6\u949f\u5468\u671f\uff0c\u800c\u540e\u7eed\u7684\u4f18\u5316\u5c31\u8981\u4ece\u66f4\u5c0f\u7684\u65f6\u949f\u5468\u671f\u51fa\u53d1\u3002</p>"},{"location":"lab5/flow/#_5","title":"\u6d41\u6c34\u7ebf\u7248\u672c\uff1f","text":"<p>\u4e00\u4e2a\u81ea\u7136\uff08\u6216\u8bb8\uff09\u7684\u60f3\u6cd5\u662f\uff0c\u5982\u679c\u6211\u4eec\u80fd\u5b9e\u73b0\u6bcf\u4e2a\u5468\u671f\u63a5\u6536\u4e00\u4e2a\u8f93\u5165\uff0c\u5c31\u53ef\u4ee5\u8fbe\u5230\u51cf\u5c0f\u5ef6\u8fdf\u7684\u6548\u679c\u4e86\uff0c\u4e3a\u4e86\u6bcf\u4e2a\u5468\u671f\u63a5\u6536\u8f93\u5165\uff0c\u6211\u4eec\u8bd5\u56fe\u8ba9\u6240\u6709\u7684\u4f20\u9012\u540c\u6b65\u8fdb\u884c\uff0c\u4e5f\u5373\uff1a</p> <pre><code>reg [31:0] temp1, temp2;\nalways @(posedge clk) begin\n    temp1 &lt;= b | c;\n    temp2 &lt;= temp1 &amp; d;\n    res &lt;= a + temp2;\nend\n</code></pre> <p>\u8fd9\u4e2a\u4ee3\u7801\u4e2d\uff0c\u4ece\u8f93\u5165\u5230\u8f93\u51fa\u4ecd\u7136\u7ecf\u5386 165ns\uff0c\u4f46\u662f\u53d6\u6d88\u4e86 count \u7684\u9650\u5236\u540e\uff0c\u53ef\u4ee5\u8fbe\u6210\u6bcf\u4e2a\u5468\u671f\u90fd\u63a5\u6536\u8f93\u5165\u4e86\u2014\u2014\u5417\uff1f</p> <p>\u6bcf\u5468\u671f\u63a5\u6536\u8f93\u5165\u7684\u95ee\u9898</p> <p>\u8003\u8651 a\u3001b\u3001c\u3001d \u6bcf\u5468\u671f\u6539\u53d8\u7684\u60c5\u51b5\uff0c\u5f53\u6211\u4eec\u8ba1\u7b97 temp2 \u7684\u65f6\u5019\uff0c\u4e8b\u5b9e\u4e0a\u901a\u8fc7\u7684\u662f\u4e0a\u4e2a\u5468\u671f\u7684 b\u3001c \u4e0e\u8fd9\u4e2a\u5468\u671f\u7684 d\uff0c\u4f1a\u5bfc\u81f4\u7ed3\u679c\u7684\u4e0d\u6b63\u786e\u3002</p>"},{"location":"lab5/flow/#_6","title":"\u6d41\u6c34\u7ebf\u7248\u672c","text":"<p>\u4e3a\u4e86\u5b9e\u73b0\u771f\u6b63\u7684\u6d41\u6c34\u7ebf\u5316\uff0c\u5f97\u4ee5\u6bcf\u5468\u671f\u63a5\u6536\u8f93\u5165\uff0c\u6211\u4eec\u5fc5\u987b\u628a\u6240\u6709\u9700\u8981\u7684\u8f93\u5165\u540c\u6b65\u4f20\u9012\uff0c\u4e5f\u5373</p> <pre><code>reg [31:0] or_1, and_2, a_1, d_1, a_2;\nalways @(posedge clk) begin\n    or_1 &lt;= b | c;\n    a_1 &lt;= a;\n    d_1 &lt;= d;\n    and_2 &lt;= or_1 &amp; d_1;\n    a_2 &lt;= a_1;\n    res &lt;= a_2 + and_2;\nend\n</code></pre> <p>\u5982\u679c\u5c06\u7ec4\u5408\u903b\u8f91\u7684\u90e8\u5206\u5206\u5f00\uff0c\u6211\u4eec\u53ef\u4ee5\u5199\u6210</p> <pre><code>reg [31:0] or_1, and_2, a_1, d_1, a_2;\nwire [31:0] or_0, and_1;\nassign or_0 = b | c;\nassign and_1 = or_1 &amp; d_1;\nassign res_2 = a_2 + and_2;\nalways @(posedge clk) begin\n    or_1 &lt;= or_0;\n    a_1 &lt;= a;\n    d_1 &lt;= d;\n    and_2 &lt;= and_1;\n    a_2 &lt;= a_1;\n    res &lt;= res_2;\nend\n</code></pre> <p>\u8fd9\u65f6\uff0c\u6211\u4eec\u7684\u65f6\u5e8f\u90e8\u5206\u4e8b\u5b9e\u4e0a\u662f\u5c06\u7b2c\u96f6\u6bb5\u7684\u4e2d\u95f4\u7ed3\u679c a\u3001d \u4e0e or_0 \u4f20\u5230\u7b2c\u4e00\u6bb5\uff0c\u53c8\u5c06\u7b2c\u4e00\u6bb5\u7684\u4e2d\u95f4\u7ed3\u679c and_1\u3001a_2 \u4f20\u5230\u7b2c\u4e8c\u6bb5\u3002\u8fd9\u6837\u7684\u4e2d\u95f4\u4f20\u8f93\u5982\u679c\u770b\u6210\u90e8\u4ef6\uff0c\u5c31\u79f0\u4e3a\u6bb5\u95f4\u5bc4\u5b58\u5668\u3002\u8fd9\u4e2a\u4f8b\u5b50\u91cc\uff0c\u6211\u4eec\u4e8b\u5b9e\u4e0a\u7528\u4e86\u4e09\u4e2a\u6bb5\u95f4\u5bc4\u5b58\u5668\u8fdb\u884c\u4e86\u8f93\u5165\u3001\u7b2c\u4e00\u6bb5\u3001\u7b2c\u4e8c\u6bb5\u3001\u8f93\u51fa\u95f4\u7684\u4f20\u9012\u3002</p> <p>\u8fd9\u6837\u7684\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e\u6211\u4eec\u53ef\u4ee5\u4e00\u76f4\u63a5\u6536\u8f93\u5165\uff0c\u867d\u7136\u6bcf\u4e2a\u8f93\u5165\u5230\u8f93\u51fa\u7684\u65f6\u95f4\u4ecd\u7136\u662f 165ns\uff0c\u7531\u4e8e\u6211\u4eec\u6bcf 55ns \u53ef\u4ee5\u63a5\u6536\u4e00\u4e2a\u8f93\u5165\uff0c\u6211\u4eec\u5c31\u83b7\u5f97\u4e86\u6bcf 55ns \u4e00\u4e2a\u6709\u6548\u8f93\u51fa\u3002 </p>"},{"location":"lab5/flow/#-","title":"\u6d41\u6c34\u7ebf\u7248\u672c-\u4f18\u5316","text":"<p>\u4e0d\u8fc7\uff0c\u521a\u624d\u7684\u4ee3\u7801\u5e76\u975e\u4e0d\u53ef\u4ee5\u518d\u6539\u8fdb\u3002\u6211\u4eec\u5c06\u4e0e\u3001\u6216\u3001\u52a0\u6cd5\u5206\u4e3a\u4e09\u6bb5\u540e\uff0c\u4e09\u6bb5\u7684\u5ef6\u8fdf\u5206\u522b\u662f 10ns\u300110ns\u300155ns\uff0c\u800c\u5b9e\u9645\u65f6\u949f\u5468\u671f\u5fc5\u987b\u4ee5\u6700\u5927\u7684 55ns \u4f5c\u4e3a\u6807\u51c6\uff08\u8fd9\u91cc\u5047\u8bbe\u52a0\u6cd5\u5668\u4e0d\u53ef\u4ee5\u518d\u62c6\u5206\uff09\u3002\u5728\u8fd9\u4e2a\u610f\u4e49\u4e0b\uff0c\u5373\u4f7f\u5c06\u4e0e\u3001\u6216\u653e\u5728\u4e00\u8d77\uff0c\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u65f6\u949f\u5468\u671f\uff0c\u8fd8\u80fd\u901a\u8fc7\u51cf\u5c11\u4e00\u6bb5\u6765\u964d\u4f4e\u6d88\u8017\u7684\u8d44\u6e90\uff0c\u8fd9\u4e5f\u5c31\u662f\uff1a </p> <pre><code>reg [31:0] temp_1, a_1;\nwire [31:0] temp_0;\nassign temp_0 = (b | c) &amp; d;\nassign res_1 = a_1 + temp_1;\nalways @(posedge clk) begin\n    temp_1 &lt;= temp_0;\n    a_1 &lt;= a;\n    res &lt;= res_1;\nend\n</code></pre> <p>\u4e4b\u524d\u7684\u4e94\u4e2a 32 \u4f4d\u5bc4\u5b58\u5668\u88ab\u7b80\u5316\u4e3a\u4e86\u4e24\u4e2a\uff0c\u5927\u5927\u51cf\u5c0f\u4e86\u8d44\u6e90\u7684\u6d88\u8017\u3002</p> <p>\u901a\u8fc7\u8fd9\u6837\u7684\u8fc7\u7a0b\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e00\u4e9b\u7ed3\u8bba\uff1a\u5bf9\u590d\u6742\u7684\u7ec4\u5408\u903b\u8f91\uff0c\u6211\u4eec\u53ef\u4ee5\u62c6\u5206\u4e3a\u82e5\u5e72\u6bb5\uff0c\u5c06\u8017\u65f6\u6700\u5927\u7684\u6bb5\u4f5c\u4e3a\u65b0\u7684\u65f6\u949f\u5468\u671f\uff0c\u4ee5\u8fbe\u5230\u6d41\u6c34\u7ebf\u8f93\u5165\u7684\u6548\u679c\u3002\u6b64\u5916\uff0c\u6bcf\u6bb5\u7684\u65f6\u95f4\u5e94\u5927\u81f4\u76f8\u8fd1\uff0c\u82e5\u6709\u4e24\u6bb5\u5408\u8d77\u6765\u8fd8\u6ca1\u6709\u53e6\u4e00\u6bb5\u957f\uff0c\u5219\u4e8b\u5b9e\u4e0a\u53ef\u4ee5\u5408\u5e76\u3002\u57fa\u4e8e\u6b64\uff0c\u6211\u4eec\u8bd5\u7740\u5bf9\u5355\u5468\u671f CPU \u8fdb\u884c\u62c6\u5206\u3002</p>"},{"location":"lab5/flow/#cpu","title":"\u62c6\u5206\u5355\u5468\u671f CPU","text":""},{"location":"lab5/flow/#_7","title":"\u65f6\u5e8f\u4e0e\u7ec4\u5408","text":"<p>\u5728\u521a\u624d\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u5fc5\u987b\u662f\u7ec4\u5408\u903b\u8f91\u624d\u53ef\u4ee5\u4e2d\u95f4\u52a0\u5165\u65f6\u5e8f\u8fdb\u884c\u62c6\u5206\u3002\u53ef\u662f\uff0c\u8981\u60f3\u5bf9\u5355\u5468\u671f CPU \u8fdb\u884c\u7c7b\u4f3c\u7684\u62c6\u5206\uff0c\u5fc5\u987b\u5212\u5206\u51fa\u7ec4\u5408\u7684\u90e8\u5206\u3002\u53ef\u4ee5\u53d1\u73b0\uff0c\u6574\u4e2a\u5355\u5468\u671f CPU \u4e2d\u7684\u65f6\u5e8f\u903b\u8f91\u4e8b\u5b9e\u4e0a\u53ea\u6709\u4e09\u5904\uff1aPC \u7684\u66f4\u65b0\u3001\u5bc4\u5b58\u5668\u5806\u7684\u5199\u5165\u3001\u6570\u636e\u5b58\u50a8\u5668\u7684\u5199\u5165\u3002</p> \u5173\u4e8e\u5bc4\u5b58\u5668\u5806\u4e0e\u5b58\u50a8\u5668 <p>\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u4e8b\u5b9e\u4e0a\u5c06\u5b58\u50a8\u5668\u7684\u8bfb\u5199\u7ed9\u201c\u5206\u88c2\u201d\u6210\u4e86\u4e24\u4e2a\u90e8\u5206\uff0c\u8bfb\u53d6\u7684\u90e8\u5206\u662f\u7ec4\u5408\u903b\u8f91\uff0c\u800c\u5199\u5165\u7684\u90e8\u5206\u662f\u65f6\u5e8f\u903b\u8f91\u3002\u56de\u987e\u5bc4\u5b58\u5668\u5806\u7684\u4ee3\u7801\u6784\u9020\uff0c\u53ef\u4ee5\u53d1\u73b0\u8fd9\u662f\u5408\u7406\u7684\u3002</p> <p>\u4ee5\u6b64\u8fdb\u884c CPU \u7684\u62c6\u5206\u540e\uff0c\u7ed3\u679c\u5982\u4e0b\uff08\u7701\u7565\u4e86\u5199\u5165\u90e8\u5206\u8fde\u63a5\u5230\u7684\u5bc4\u5b58\u5668\u5806\u3001\u6570\u636e\u5b58\u50a8\u5668\u4e0e PC\uff09\uff1a</p> <p></p> \u62c6\u5206\u51fa\u65f6\u5e8f\u903b\u8f91\u540e\u7684 CPU <p>\u8fd9\u4e2a\u56fe\u53ef\u4ee5\u770b\u4f5c\uff0c\u4ece PC \u51fa\u53d1\uff0c\u7ecf\u8fc7\u590d\u6742\u7684\u7ec4\u5408\u903b\u8f91\uff0c\u751f\u6210 rf_wd\u3001dmem_wdata \u4e0e npc \u7b49\u4fe1\u53f7\u3002\u5728\u4e0b\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u7684\u5f00\u59cb\uff0cnpc \u4fe1\u53f7\u6210\u4e3a PC \u7684\u65b0\u503c\uff0crf_wd\u3001rf_we\u3001rf_wa \u7ed3\u5408\u8fdb\u884c\u5bc4\u5b58\u5668\u5806\u7684\u5199\u5165\uff0cdmem_wdata\u3001dmem_addr\u3001dmem_we \u7ed3\u5408\u8fdb\u884c\u6570\u636e\u5b58\u50a8\u5668\u7684\u5199\u5165\u3002</p>"},{"location":"lab5/flow/#_8","title":"\u521d\u6b65\u62c6\u5206","text":"<p>\u6839\u636e\u5b9e\u9645\u6d4b\u8bd5\u53ef\u4ee5\u53d1\u73b0\uff0c\u8bfb\u53d6 IM\u3001\u8bfb\u53d6 RegFile\u3001ALU\u8ba1\u7b97\u3001\u8bfb\u53d6 DM \u662f\u5b9e\u9645\u64cd\u4f5c\u4e2d\u6d88\u8017\u65f6\u95f4\u6700\u591a\u7684\u90e8\u5206\uff0c\u56e0\u6b64\uff0c\u5982\u6559\u6750\uff0c\u5c06\u5355\u5468\u671f\u62c6\u5206\u4e3a\uff1a</p> <ul> <li>IF\uff08Instruction Fetch\uff0c\u53d6\u6307\u4ee4\uff09\uff0c\u6838\u5fc3\u8017\u65f6\u4e3a\u6307\u4ee4\u5b58\u50a8\u5668\u7684\u8bfb\u53d6\u3002</li> <li>ID\uff08Instruction Decode\uff0c\u8bd1\u7801\uff09\uff0c\u5305\u542b\u5c06\u6307\u4ee4\u7ffb\u8bd1\u4e3a\u5404\u4e2a\u63a7\u5236\u4fe1\u53f7\u5e76\u8bfb\u53d6\u5bc4\u5b58\u5668\u5806\uff0c\u6838\u5fc3\u8017\u65f6\u4e3a\u5bc4\u5b58\u5668\u5806\u7684\u8bfb\u53d6\u3002</li> <li>EX\uff08Execution\uff0c\u6267\u884c\uff09\uff0c\u7531\u7b97\u672f\u903b\u8f91\u5355\u5143 ALU \u8fdb\u884c\u8fd0\u7b97\uff0c\u5f97\u5230\u6307\u4ee4\u7684\u8ba1\u7b97\u7ed3\u679c\uff0c\u540c\u65f6\u8ba1\u7b97\u53ef\u80fd\u9700\u8981\u7684\u8df3\u8f6c\u5730\u5740\uff0c\u6838\u5fc3\u8017\u65f6\u4e3a ALU \u8ba1\u7b97\u3002</li> <li>MEM\uff08Memory\uff0c\u8bbf\u5b58\uff09\uff0c\u5bf9\u6570\u636e\u5b58\u50a8\u5668\u8fdb\u884c\u8bfb\u53d6\u6216\u5199\u5165\uff0c\u6838\u5fc3\u8017\u65f6\u4e3a\u6570\u636e\u5b58\u50a8\u5668\u7684\u8bfb\u5199\u3002</li> <li>WB\uff08Write Back\uff0c\u56de\u5199\uff09\uff0c\u5c06\u9700\u8981\u5199\u56de\u5bc4\u5b58\u5668\u5806\u7684\u6570\u636e\u5199\u5165\u3002\u6ce8\u610f\u6b64\u5904\u8017\u65f6\u4e0e\u6570\u636e\u5b58\u50a8\u5668\u5199\u5165\u4e00\u6837\uff0c\u53ea\u8003\u8651\u51c6\u5907\u7684\u65f6\u95f4\uff0c\u56e0\u4e3a\u5b9e\u9645\u5199\u5165\u662f\u5728\u65f6\u949f\u4e0a\u5347\u6cbf\u8fdb\u884c\u7684\u3002</li> </ul> <p>\u76f4\u63a5\u62c6\u5206\u5e76\u6dfb\u52a0\u6bb5\u95f4\u5bc4\u5b58\u5668\uff08\u4e0b\u56fe\u6a59\u8272\u90e8\u5206\uff09\u540e\uff0c\u6211\u4eec\u5f97\u5230\u7684\u6570\u636e\u901a\u8def\u5982\u4e0b\uff1a</p> <p></p> \u6dfb\u52a0\u6bb5\u95f4\u5bc4\u5b58\u5668\u540e\u7684 CPU <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u4ece\u6b64\u56fe\u7247\u51fa\u53d1\uff0c\u8fdb\u884c\u66f4\u591a\u5206\u6790\u3002</p> <p>\u5173\u4e8e NPC SEL</p> <p>\u6ce8\u610f\u5230\uff0c\u5728 npc \u7684\u9009\u62e9\u4e2d\u6709\u4e00\u4e2a\u4fe1\u53f7\u6765\u81ea IF \u6bb5\uff0c\u800c\u4e24\u4e2a\u4fe1\u53f7\u6765\u81ea EX \u6bb5\uff0c\u8fd9\u662f\u4e3a\u4e86\u6b63\u5e38\u8fdb\u884c\u6bcf\u5468\u671f\u52a0 4 \u7684\u66f4\u65b0\u3002\u4f46\u906d\u9047\u8df3\u8f6c\u6307\u4ee4\u65f6\uff0c\u7531\u4e8e\u5728 EX \u6bb5\u624d\u80fd\u5904\u7406\uff0c\u4e8b\u5b9e\u4e0a\u4f1a\u5bfc\u81f4\u524d\u4e24\u4e2a\u6307\u4ee4\u5931\u6548\uff0c\u5373\u300c\u9519\u8bef\u5730\u8fdb\u5165\u4e86\u6d41\u6c34\u7ebf\u300d\u3002\u6211\u4eec\u9700\u8981\u5bf9\u8fd9\u4e24\u6761\u6307\u4ee4\u8fdb\u884c\u7279\u6b8a\u7684\u5904\u7406\uff0c\u8fd9\u4e5f\u662f\u63a5\u4e0b\u6765\u6211\u4eec\u8981\u8ba8\u8bba\u7684\u5185\u5bb9\u3002</p>"},{"location":"lab6/","title":"\u5b9e\u9a8c 6\uff1a\u5b8c\u6574\u6d41\u6c34\u7ebf CPU","text":""},{"location":"lab6/#_1","title":"\u5b9e\u9a8c\u76ee\u7684","text":"<p>\u5728\u672c\u6b21\u5b9e\u9a8c\u4e2d\uff0c\u6211\u4eec\u5c06\u7ed3\u5408\u524d\u9012\u6a21\u5757\u4e0e\u6bb5\u95f4\u5bc4\u5b58\u5668\u63a7\u5236\u6a21\u5757\uff0c\u5f97\u5230\u4e00\u4e2a\u80fd\u6b63\u5e38\u8fd0\u884c\u7684\u5b8c\u6574\u6d41\u6c34\u7ebf CPU\u3002</p>"},{"location":"lab6/#_2","title":"\u5b9e\u9a8c\u5185\u5bb9","text":"<p>\u4efb\u52a1 1\uff1a\u524d\u9012\u6a21\u5757\uff082 \u5206\uff09</p> <p>\u6839\u636e\u5b9e\u9a8c\u6587\u6863\u7684\u5185\u5bb9\uff0c\u6839\u636e\u4f20\u5165\u7684\u4fe1\u53f7\u4e0e\u4f18\u5148\u7ea7\u7684\u5224\u65ad\uff0c\u6b63\u786e\u8fdb\u884c\u524d\u9012\u6a21\u5757\u7684\u8bbe\u8ba1\u3002</p> <p>\u4efb\u52a1 2\uff1a\u52a0\u5165\u524d\u9012\u7684\u6d41\u6c34\u7ebf\uff083 \u5206\uff09</p> <p>\u5c06\u524d\u9012\u6a21\u5757\u6b63\u786e\u63a5\u5165 CPU\uff0c\u5f62\u6210\u52a0\u5165\u524d\u9012\u7684\u6d41\u6c34\u7ebf\uff0c\u5e76\u901a\u8fc7\u5bf9\u5e94\u4eff\u771f\u6d4b\u8bd5\u3002</p> LA32R \u7684\u6d4b\u8bd5\u6c47\u7f16\u7a0b\u5e8f <p>\u5728\u8fd9\u91cc\u3002</p> RV32I \u7684\u6d4b\u8bd5\u6c47\u7f16\u7a0b\u5e8f <p>\u5728\u8fd9\u91cc\u3002</p> <p>\u4efb\u52a1 3\uff1a\u6bb5\u95f4\u5bc4\u5b58\u5668\u63a7\u5236\u6a21\u5757\uff082 \u5206\uff09</p> <p>\u6839\u636e\u5b9e\u9a8c\u6587\u6863\u7684\u5185\u5bb9\uff0c\u6839\u636e\u4f20\u5165\u7684\u4fe1\u53f7\uff0c\u6b63\u786e\u6839\u636e\u8f93\u5165\u4fe1\u53f7\u8fdb\u884c\u6bb5\u95f4\u5bc4\u5b58\u5668\u7684\u63a7\u5236\u6a21\u5757\u8bbe\u8ba1\u3002</p> <p>\u4efb\u52a1 4\uff1a\u5b8c\u6574\u6d41\u6c34\u7ebf CPU</p> <p>\u5c06\u6bb5\u95f4\u5bc4\u5b58\u5668\u63a7\u5236\u6a21\u5757\u6b63\u786e\u63a5\u5165 CPU\uff0c\u5f62\u6210\u6700\u7ec8\u7684\u6d41\u6c34\u7ebf CPU\uff0c\u5e76\u901a\u8fc7\u4eff\u771f\u3001\u4e0a\u677f\u6d4b\u8bd5\u3002</p> LA32R \u7684\u6d4b\u8bd5\u6c47\u7f16\u7a0b\u5e8f <p>\u5728\u8fd9\u91cc\u3002</p> RV32I \u7684\u6d4b\u8bd5\u6c47\u7f16\u7a0b\u5e8f <p>\u5728\u8fd9\u91cc\u3002</p>"},{"location":"lab6/#_3","title":"\u5b9e\u9a8c\u68c0\u67e5\u4e0e\u63d0\u4ea4","text":"<p>\u672c\u6b21\u5b9e\u9a8c\u5e03\u7f6e\u65f6\u95f4\u4e3a 2024-04-22\uff0c\u6301\u7eed\u4e24\u5468\u3002\u76f8\u5e94\u7684 DDL \u8282\u70b9\u5982\u4e0b\uff1a</p> \u7ec4\u522b \u68c0\u67e5 DDL \u62a5\u544a\u63d0\u4ea4 DDL \u5468\u4e00\u7ec4 2024-05-06 2024-05-13 \u5468\u4e09\u7ec4 2024-05-08 2024-05-15 <p>\u68c0\u67e5\u4e0e\u62a5\u544a\u5ef6\u8fdf\u4e00\u5468\u4ee5\u5185\uff08\u542b\uff09\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 80% \u5206\u6570\uff1b\u5ef6\u8fdf\u4e00\u5468\u4ee5\u4e0a\u3001\u4e24\u5468\u4ee5\u5185\uff08\u542b\uff09\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 60% \u5206\u6570\uff1b\u5ef6\u8fdf\u8d85\u8fc7\u4e24\u5468\u7684\u4e0d\u5f97\u5206\u3002</p> <p>\u63d0\u9192</p> <p>\u5b9e\u9a8c\u7684 DDL \u4e3a\u5f53\u5929\u665a\u4e0a 21:30\u3002\u52a9\u6559\u6709\u6743\u5229\u5728 21:30 \u51c6\u65f6\u505c\u6b62\u68c0\u67e5\uff0c\u8bf7\u5927\u5bb6\u5408\u7406\u5b89\u6392\u597d\u81ea\u5df1\u7684\u65f6\u95f4\u3002\u80fd\u5426\u7ebf\u4e0a\u68c0\u67e5\u3001\u80fd\u5426\u5728\u5176\u4ed6\u65f6\u95f4\u68c0\u67e5\u8bf7\u54a8\u8be2\u672c\u7ec4\u7684\u52a9\u6559\u3002</p> <p>\u5173\u4e8e\u5b9e\u9a8c\u62a5\u544a</p> <p>\u5b9e\u9a8c\u62a5\u544a\u9700\u8981\u5927\u5bb6\u63d0\u4ea4 PDF \u683c\u5f0f\u3002\u6211\u4eec\u63a8\u8350\u5927\u5bb6\u4f7f\u7528 Markdown \u6216\u8005 Latex \u64b0\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u5bfc\u51fa\u4e3a PDF\u3002\u5927\u5bb6\u4e5f\u53ef\u4ee5\u4f7f\u7528 Word\u3001WPS \u7b49\u8fdb\u884c\u62a5\u544a\u64b0\u5199\uff0c\u6700\u540e\u8f6c\u6362\u4e3a PDF \u683c\u5f0f\u3002\u6211\u4eec\u4e0d\u63a8\u8350\u4e5f\u4e0d\u62d2\u7edd\u5927\u5bb6\u624b\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u4f46\u8bf7\u5c06\u5176\u62cd\u7167\u626b\u63cf\u6210 PDF \u6587\u4ef6\u540e\u518d\u4e0a\u4f20\u3002\u6211\u4eec\u4e0d\u63a5\u53d7\u4efb\u4f55\u56e0\u4e3a\u6587\u4ef6\u683c\u5f0f\u9519\u8bef\u800c\u5bfc\u81f4\u6210\u7ee9\u5f02\u5e38\u7684\u7533\u8bc9\u8bf7\u6c42\uff01</p> <p>\u5728\u5b9e\u9a8c\u62a5\u544a\u4e2d\uff0c\u4f60\u9700\u8981\u7ed9\u51fa\u6bcf\u4e00\u9879\u4efb\u52a1\u7684\u7b54\u6848\uff0c\u5e76\u9644\u4e0a\u5fc5\u8981\u7684\u8bf4\u660e\u8fc7\u7a0b\uff08\u6216\u622a\u56fe\uff09\u3002</p> <p>\u7279\u522b\u5730\uff1a\u5b9e\u9a8c\u62a5\u544a\u7684\u5b57\u6570\u548c\u6392\u7248\u4e0e\u6700\u7ec8\u5f97\u5206\u65e0\u5173\u3002\u5f71\u54cd\u5f97\u5206\u7684\u4ec5\u6709\u5185\u5bb9\u6b63\u786e\u6027\u4e0e\u5b8c\u6574\u6027\u3002</p> <p>\u5b9e\u9a8c\u62a5\u544a\u63d0\u4ea4\u7684\u5730\u5740\u5728\u8fd9\u91cc\u3002</p>"},{"location":"lab6/CPU/","title":"\u5b8c\u6574\u6d41\u6c34\u7ebf CPU","text":""},{"location":"lab6/CPU/#_1","title":"\u6570\u636e\u901a\u8def\u4fee\u6b63","text":"<p>\u5728\u4ecb\u7ecd\u5192\u9669\u5904\u7406\u524d\uff0c\u6211\u4eec\u5fc5\u987b\u5bf9\u4e4b\u524d\u7684 PC \u6a21\u5757\u8fdb\u884c\u8c03\u6574\uff1aPC \u6a21\u5757\u5728\u6d41\u6c34\u7ebf\u7684\u4e2d\u7684\u5730\u4f4d\u4e5f\u76f8\u5f53\u4e8e\u4e00\u4e2a\u6bb5\u95f4\u5bc4\u5b58\u5668\uff0c\u56e0\u6b64\u9700\u8981\u6dfb\u52a0 stall \u4e0e flush \u4fe1\u53f7\u3002\u6b64\u5916\uff0c\u7531\u4e8e\u9700\u8981\u8003\u8651\u524d\u9012\uff0c\u4e0a\u4e00\u4e2a\u5b9e\u9a8c\u6570\u636e\u901a\u8def\u4e2d\u7684 rf_ra0_id \u4fe1\u53f7\u4e0e rf_ra1_id \u4fe1\u53f7\u5fc5\u987b\u901a\u8fc7\u6bb5\u95f4\u5bc4\u5b58\u5668\u4f20\u5165 EX \u6bb5\u3002</p> \u6570\u636e\u901a\u8def\u5728\u54ea\u91cc <p>\u7531\u4e8e\u589e\u6dfb\u524d\u9012\u4e0e\u5192\u9669\u6a21\u5757\u4f1a\u4f7f\u6570\u636e\u901a\u8def\u663e\u5f97\u8fc7\u4e8e\u590d\u6742\uff0c\u672c\u6587\u6863\u4e2d\u53ea\u63cf\u8ff0\u7aef\u53e3\u4e0e\u8fde\u63a5\uff0c\u8fd9\u5bf9\u5199\u4ee3\u7801\u5df2\u7ecf\u8db3\u591f\uff0c\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u5728 RIPES \u7b49\u8f6f\u4ef6\u4e2d\u76f4\u63a5\u67e5\u770b\u542b\u6709\u5192\u9669\u5904\u7406\u7684\u6570\u636e\u901a\u8def\u5f62\u5f0f\u3002\u9664\u4e86\u5192\u9669\u5904\u7406\u90e8\u5206\u5916\uff0c\u672c\u6b21\u5b9e\u9a8c\u7684\u6570\u636e\u901a\u8def\u4e0e\u4e0a\u4e00\u6b21\u5b8c\u5168\u4e00\u81f4\u3002</p>"},{"location":"lab6/CPU/#_2","title":"\u524d\u9012\u6a21\u5757","text":""},{"location":"lab6/CPU/#_3","title":"\u6a21\u5757\u4ecb\u7ecd","text":"<p>\u4e3a\u4e86\u89e3\u51b3\u6570\u636e\u5192\u9669\u4e2d\u53ef\u4ee5\u524d\u9012\u7684\u60c5\u51b5\uff0c\u524d\u9012\u6a21\u5757\u7684\u793a\u610f\u56fe\u5982\u4e0b\uff1a</p> <p></p> \u524d\u9012\u6a21\u5757 <p>\u8fd9\u91cc\u5bf9\u7aef\u53e3\u8fdb\u884c\u7b80\u5355\u89e3\u91ca\uff1a</p> <ul> <li>rf_we \u6307\u5bc4\u5b58\u5668\u5806\u5199\u4f7f\u80fd\u4fe1\u53f7\uff0cWB \u4e0e MEM \u6bb5\u90fd\u9700\u4f20\u5165\u524d\u9012\u5355\u5143\u3002</li> <li>rf_wa \u6307\u5bc4\u5b58\u5668\u5806\u5199\u5730\u5740\uff0cWB \u4e0e MEM \u6bb5\u90fd\u9700\u4f20\u5165\u524d\u9012\u5355\u5143\uff0c\u7528\u4e8e\u6bd4\u5bf9\u3002</li> <li>rf_wd \u6307\u5bc4\u5b58\u5668\u5806\u5199\u6570\u636e\uff0c\u5728 WB \u6bb5\u76f4\u63a5\u4f20\u5165\u5373\u53ef\uff0c\u5728 MEM \u6bb5\u53ef\u5c06 alu_res \u4f20\u5165\uff08\u89c1\u4e0b\u65b9\u89e3\u91ca\uff09\u3002</li> <li>rf_ra0_ex \u4e0e rf_ra1_ex \u4e3a\u672c\u6b21\u5b9e\u9a8c\u4e2d\u8981\u6c42\u4f20\u5165 EX \u6bb5\u7684\u4fe1\u53f7\uff0c\u7528\u4e8e\u4e0e MEM \u6bb5\u3001WB \u6bb5\u4fe1\u53f7\u6bd4\u5bf9\u786e\u5b9a\u524d\u9012\u662f\u5426\u53d1\u751f\u3002</li> <li>rf_rd0_fe \u4e0e rf_rd1_fe \u4e3a\u524d\u9012\u4f7f\u80fd\u4fe1\u53f7\uff0c\u4e3a 1 \u4ee3\u8868\u524d\u9012\u53d1\u751f\u3002</li> <li>rf_rd0_fd \u4e0e rf_rd1_fd \u4e3a\u524d\u9012\u6570\u636e\u4fe1\u53f7\uff0c\u5f53\u524d\u9012\u4f7f\u80fd\u4e3a 1 \u65f6\u5373\u4ee3\u8868\u524d\u9012\u7684\u6570\u636e\u3002</li> </ul> \u524d\u9012\u6a21\u5757\u7684\u7b80\u5316 <p>\u4e8b\u5b9e\u4e0a\uff0c\u5b8c\u6574\u6d41\u6c34\u7ebf CPU \u4e2d rf_wd_sel_mem \u4e0e pcadd4_mem \u65e0\u9700\u4f20\u5165\u524d\u9012\u6a21\u5757\uff0c\u53d1\u751f\u524d\u9012\u65f6\u76f4\u63a5\u524d\u9012 alu_res\uff0c\u7ed3\u679c\u4ecd\u7136\u662f\u6b63\u786e\u7684\uff0c\u8fd9\u662f\u56e0\u4e3a jalr \u6307\u4ee4\u4f1a\u4f7f\u5f97\u63a5\u4e0b\u6765\u4e24\u6761\u6307\u4ee4\u88ab\u51b2\u5237\u6389\uff0c\u5373\u4f7f\u68c0\u6d4b\u5230\u4e86\u524d\u9012\uff0c\u4e5f\u662f\u65e0\u6548\u7684\u3002\u7531\u6b64\uff0c\u4e5f\u53ef\u9009\u62e9\u524d\u9012\u6a21\u5757\u53ea\u751f\u6210\u4e24\u4f4d\u7684\u63a7\u5236\u4fe1\u53f7 rf_rd0_fe \u4e0e rf_rd1_fe\uff0c\u63a7\u5236\u4e00\u4e2a\u9009\u62e9\u5bc4\u5b58\u5668\u5806\u8bfb\u53d6\u6570\u636e\u3001alu_res_mem\u3001rf_wd_wb \u7684\u4e09\u9009\u4e00 MUX\uff0c\u8fd9\u4e5f\u662f\u4e66\u4e0a\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002</p>"},{"location":"lab6/CPU/#cpu_1","title":"\u63a5\u5165 CPU","text":"<p>\u4e3a\u5c06\u524d\u9012\u6a21\u5757\u8fde\u63a5\u5165 CPU\uff0c\u9700\u8981\u5c06\u4e0a\u4e2a\u5b9e\u9a8c\u4e2d\u7684 rf_rd0_ex \u4fe1\u53f7\u6539\u540d\u4e3a rf_rd0_raw_ex\uff0c\u771f\u6b63\u7684 rf_rd0_ex \u5c06\u7531 rf_rd0_raw_ex \u4e0e rf_rd0_fd \u901a\u8fc7 rf_rd0_fe \u9009\u62e9\u5f97\u5230\uff0c\u5bf9 rf_rd1_ex \u540c\u7406\u3002</p> \u6ce8\u610f\u4fe1\u53f7\u7684\u591a\u6b21\u4f7f\u7528 <p>\u65e0\u8bba\u662f\u4f20\u5165 ALU\u3001Branch \u8fd8\u662f\u4e0b\u4e00\u4e2a\u6bb5\u95f4\u5bc4\u5b58\u5668\u7684 rf_rd0_ex \u4e0e rf_rd1_ex \u4fe1\u53f7\uff0c\u90fd\u5e94\u66ff\u6362\u4e3a\u9009\u62e9\u5f97\u5230\u7684\u7ed3\u679c\u3002</p> <p>\u6b64\u6a21\u5757\u6b63\u786e\u63a5\u5165 CPU \u540e\uff0c\u5e94\u5f53\u80fd\u591f\u901a\u8fc7\u4e0d\u542b Load-Use \u4e0e\u63a7\u5236\u5192\u9669\u7684\u4ee3\u7801\u6d4b\u8bd5\u3002</p>"},{"location":"lab6/CPU/#_4","title":"\u6bb5\u95f4\u5bc4\u5b58\u5668\u63a7\u5236\u6a21\u5757","text":""},{"location":"lab6/CPU/#_5","title":"\u6a21\u5757\u4ecb\u7ecd","text":"<p>\u6700\u540e\uff0c\u4e3a\u4e86\u89e3\u51b3 Load-Use \u5192\u9669\u4e0e\u63a7\u5236\u5192\u9669\uff0c\u6211\u4eec\u5fc5\u987b\u5bf9\u6bb5\u95f4\u5bc4\u5b58\u5668\u8fdb\u884c\u63a7\u5236\u3002\u6a21\u5757\u793a\u610f\u56fe\u5982\u4e0b\uff1a</p> <p></p> \u6bb5\u95f4\u5bc4\u5b58\u5668\u63a7\u5236\u6a21\u5757 <p>\u8fd9\u91cc\u5bf9\u7aef\u53e3\u8fdb\u884c\u7b80\u5355\u89e3\u91ca\uff1a</p> <ul> <li>rf_we \u6307\u5bc4\u5b58\u5668\u5806\u5199\u4f7f\u80fd\u4fe1\u53f7\uff0cEX \u6bb5\u9700\u8981\u4f20\u5165\u4ee5\u5224\u65ad Load-Use \u5192\u9669\u3002</li> <li>rf_wd_sel \u6307\u5bc4\u5b58\u5668\u5806\u5199\u6570\u636e\u7684\u9009\u62e9\uff0cEX \u6bb5\u9700\u8981\u4f20\u5165\u4ee5\u5224\u65ad Load-Use \u5192\u9669\u3002</li> <li>rf_wa \u6307\u5bc4\u5b58\u5668\u5806\u5199\u5730\u5740\uff0cEX \u6bb5\u9700\u8981\u4f20\u5165\u4ee5\u5224\u65ad Load-Use \u5192\u9669\u3002</li> <li>rf_ra0_id \u4e0e rf_ra1_id \u7528\u4e8e\u6bd4\u5bf9\u786e\u5b9a Load-Use \u5192\u9669\u662f\u5426\u53d1\u751f\u3002</li> <li>npc_sel \u4e3a\u4e0b\u4e2a PC \u9009\u62e9\u5668\u7684\u63a7\u5236\u4fe1\u53f7\uff0c\u7528\u4e8e\u786e\u5b9a\u63a7\u5236\u5192\u9669\u662f\u5426\u53d1\u751f\u3002</li> <li>\u8f93\u51fa\u4fe1\u53f7\u4e3a\u5404\u6bb5\u95f4\u5bc4\u5b58\u5668\u5bf9\u5e94\u7684 stall \u4e0e flush \u4fe1\u53f7\u3002</li> </ul>"},{"location":"lab6/CPU/#cpu_2","title":"\u63a5\u5165 CPU","text":"<p>\u4e3a\u5c06\u6bb5\u95f4\u5bc4\u5b58\u5668\u63a7\u5236\u6a21\u5757\u63a5\u5165 CPU\uff0c\u6211\u4eec\u9700\u8981\u6b63\u786e\u63a5\u5165\u4fe1\u53f7\uff0c\u5e76\u63a5\u51fa\u5230\u5bf9\u5e94\u7684 stall \u4e0e flush \u7aef\u53e3\u3002\u5728\u6700\u7ec8\u5b8c\u6210\u7684 CPU \u91cc\uff0c\u9664\u4e86\u8df3\u8f6c\u6307\u4ee4\u9700\u8981\u4e09\u5468\u671f\u3001Load-Use \u5192\u9669\u53d1\u751f\u7684\u60c5\u51b5\u9700\u8981\u4e24\u5468\u671f\u5916\uff0c\u5176\u4ed6\u60c5\u51b5\u53ef\u4ee5\u505a\u5230\u4e00\u5468\u671f\u4e00\u6761\u6307\u4ee4\uff0c\u5927\u5927\u6539\u8fdb\u4e86\u6267\u884c\u901f\u5ea6\u3002</p> \u80fd\u5426\u7ee7\u7eed\u6539\u8fdb\uff1f <p>\u5728\u62c6\u6210\u4e94\u9636\u6bb5\u7684\u60c5\u51b5\u4e0b\uff0c\u6700\u5927\u7684\u5468\u671f\u589e\u52a0\u6765\u81ea\u8df3\u8f6c\u6307\u4ee4\u3002\u4ee5 RV32I \u4e3a\u4f8b\uff0c\u5bf9\u4e8e jal\uff0c\u6211\u4eec\u4e8b\u5b9e\u4e0a\u53ef\u4ee5\u5728 ID \u9636\u6bb5\u5b8c\u6210\u8df3\u8f6c\uff0c\u4ece\u800c\u51cf\u5c11\u4e00\u4e2a\u5468\u671f\uff0c\u800c\u5bf9 B \u7cfb\u5217\u6307\u4ee4\uff0c\u5982\u679c\u6211\u4eec\u901a\u8fc7\u67d0\u79cd\u65b9\u5f0f\u5bf9\u662f\u5426\u8df3\u8f6c\u8fdb\u884c\u9884\u6d4b\uff08\u4e8b\u5b9e\u4e0a\u5f53\u524d\u76f8\u5f53\u4e8e\u5747\u9884\u6d4b\u4e0d\u8df3\u8f6c\uff09\uff0c\u4e5f\u53ef\u6982\u7387\u964d\u4f4e\u6d88\u8017\u7684\u5468\u671f\u3002\u8fd9\u4e24\u4e2a\u7b56\u7565\u5206\u522b\u79f0\u4e3a\u8df3\u8f6c\u63d0\u524d\u4e0e\u5206\u652f\u9884\u6d4b\u3002</p> <p>\u6b64\u5916\uff0c\u4e3a\u4e86\u8fdb\u4e00\u6b65\u964d\u4f4e\u65f6\u949f\u5468\u671f\u7684\u5927\u5c0f\uff0c\u9700\u8981\u65f6\u95f4\u6700\u591a\u7684\u8bbf\u5b58\u73af\u8282\uff08\u65e0\u8bba\u662f\u5bf9\u6307\u4ee4\u8fd8\u662f\u6570\u636e\uff09\u4e5f\u53ef\u4ee5\u4f18\u5316\uff0c\u8fd9\u5c31\u662f\u4e0b\u4e2a\u5b9e\u9a8c\u6d89\u53ca\u7684\u7f13\u5b58\u76f8\u5173\u5185\u5bb9\u4e86\u3002</p>"},{"location":"lab6/hazard/","title":"\u5192\u9669\u5904\u7406","text":"<p>\u5728\u672c\u6b21\u5b9e\u9a8c\uff0c\u6211\u4eec\u7ec8\u4e8e\u8981\u5f00\u59cb\u89e3\u51b3\u4e0a\u6b21\u5b9e\u9a8c\u4e2d\u9057\u7559\u7684\u6700\u5927\u95ee\u9898\uff0c\u4e5f\u5c31\u662f\u5192\u9669\u4e86\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u5bfc\u81f4\u4e0a\u6b21\u5b9e\u9a8c\u7684\u7b80\u5355\u6d41\u6c34\u7ebf CPU \u65e0\u6cd5\u6b63\u786e\u8fde\u7eed\u6267\u884c\u7684\u56e0\u7d20\u90fd\u79f0\u4e3a\u201c\u5192\u9669\u201d\u3002\u6839\u636e\u5192\u9669\u51fa\u73b0\u7684\u539f\u56e0\uff0c\u5192\u9669\u4e00\u822c\u5206\u4e3a\u4e09\u7c7b\uff1a\u7ed3\u6784\u5192\u9669\u3001\u6570\u636e\u5192\u9669\u4e0e\u63a7\u5236\u5192\u9669\u3002</p>"},{"location":"lab6/hazard/#_2","title":"\u7ed3\u6784\u5192\u9669","text":"<p>\u56de\u987e LC3 \u7684 CPU \u67b6\u6784\uff0c\u5b83\u7684\u6570\u636e\u548c\u6307\u4ee4\u662f\u53ef\u4ee5\u5171\u7528\u5b58\u50a8\u5668\u7684\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u5c06\u5b83\u6d41\u6c34\u7ebf\u5316\uff0c\u5728\u5199\u5165\u6570\u636e\u7684\u540c\u65f6\u8bfb\u53d6\u6307\u4ee4\uff0c\u5c31\u4f1a\u4ea7\u751f\u5b58\u50a8\u5668\u9700\u8981\u540c\u65f6\u8bfb\u5199\u7684\u95ee\u9898\uff0c\u8fd9\u5c31\u662f\u7ed3\u6784\u5192\u9669\uff0c\u8fd9\u6837\u7684\u67b6\u6784\u79f0\u4e3a\u51af\u8bfa\u4f9d\u66fc\u67b6\u6784\u3002</p> <p>\u597d\u6d88\u606f\u662f\uff0c\u6211\u4eec\u7684\u6d41\u6c34\u7ebf CPU \u4e2d\u8fd9\u4e00\u95ee\u9898\u5e76\u4e0d\u4f1a\u51fa\u73b0\uff0c\u539f\u56e0\u662f\u6211\u4eec\u91c7\u7528\u4e86\u54c8\u4f5b\u7ed3\u6784\uff0c\u5c06\u6570\u636e\u5b58\u50a8\u5668\u4e0e\u6307\u4ee4\u5b58\u50a8\u5668\u5206\u5f00\uff0c\u4e8e\u662f\uff0c\u81ea\u7136\u4e0d\u4f1a\u518d\u51fa\u73b0\u5199\u5165\u6570\u636e\u540c\u65f6\u8bfb\u53d6\u6307\u4ee4\u7684\u95ee\u9898\u3002</p>"},{"location":"lab6/hazard/#_3","title":"\u6570\u636e\u5192\u9669","text":""},{"location":"lab6/hazard/#_4","title":"\u524d\u9012","text":"<p>\u8003\u8651\u5982\u4e0b\u7684 RV32I \u6307\u4ee4\u5e8f\u5217\uff1a</p> <pre><code>addi x1, x0, 1\nnop\naddi x2, x1, 1\n</code></pre> <p>\u7406\u8bba\u4e0a\uff0c\u5728\u7b2c\u4e09\u6761\u6307\u4ee4\u8fdb\u5165 ID \u9636\u6bb5\uff0c\u9700\u8981\u8bfb\u53d6 x1 \u7684\u6570\u636e\u65f6\uff0c\u7b2c\u4e00\u6761\u6307\u4ee4\u8fdb\u5165 MEM \u9636\u6bb5\uff0c\u8fd8\u6ca1\u6709\u5230\u5199\u56de\u7684\u65f6\u95f4\u3002\u7c7b\u4f3c\u7684\uff0c\u5bf9\u5982\u4e0b\u7684\u6307\u4ee4\u5e8f\u5217\uff0c\u7b2c\u4e00\u6761\u6307\u4ee4\u751a\u81f3\u53ea\u8fdb\u5165\u4e86 EX \u9636\u6bb5\u5c31\u9762\u4e34\u7b2c\u4e8c\u6761\u6307\u4ee4\u5728 ID \u9636\u6bb5\u9700\u8981\u8bfb\u53d6 x1 \u7684\u95ee\u9898\uff1a</p> <pre><code>addi x1, x0, 1\naddi x2, x1, 1\n</code></pre> <p>\u8fd9\u4e2a\u95ee\u9898\u7684\u6839\u6e90\u4e8b\u5b9e\u4e0a\u5728\u4e8e ID \u9636\u6bb5\u4e0e WB \u9636\u6bb5\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4e0d\u8fc7\uff0c\u66f4\u8fdb\u4e00\u6b65\u5730\u601d\u8003\u53ef\u4ee5\u53d1\u73b0\uff0c\u8fd9\u4e2a\u95ee\u9898\u5e76\u4e0d\u50cf\u60f3\u8c61\u4e2d\u4e00\u6837\u4e0d\u53ef\u89e3\u51b3\u3002</p> <p>\u5728 EX \u9636\u6bb5\u548c MEM \u9636\u6bb5\u7ed3\u675f\u540e\uff0cx1 \u7684\u65b0\u503c\u5df2\u7ecf\u5728 ALU \u4e2d\u88ab\u7b97\u51fa\uff0c\u53ea\u662f\u5c1a\u672a\u5199\u56de\u5bc4\u5b58\u5668\u5806\u800c\u5df2\u3002\u800c\u5b9e\u9645\u4f7f\u7528\u5bc4\u5b58\u5668\u5806\u7684\u503c\u8fdb\u884c\u8ba1\u7b97\u7684\u662f\u5728 ID \u7ed3\u675f\u540e\u7684 EX \u9636\u6bb5\u3002\u5982\u679c\u8fd9\u65f6\u76f4\u63a5\u628a\u8ba1\u7b97\u51fa\u7684\u65b0\u503c\u4f20\u9012\u7ed9 ALU \u4f5c\u4e3a\u64cd\u4f5c\u6570\uff0c\u7a0b\u5e8f\u5b8c\u5168\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u3002\u8fd9\u5c31\u53eb\u505a\u524d\u9012\u3002</p> <p>\u4e0a\u9762\u7684\u4e24\u79cd\u60c5\u51b5\u5373\u5bf9\u5e94\u4e24\u79cd\u524d\u9012\u65b9\u5f0f\uff0c\u5206\u522b\u662f\u4ece MEM \u6bb5\uff08EX \u6bb5\u7ed3\u675f\u540e\uff09\u524d\u9012\u5230 EX \u6bb5\u4e0e\u4ece WB \u6bb5 \uff08MEM \u6bb5\u7ed3\u675f\u540e\uff09\u524d\u9012\u5230 EX \u6bb5\u3002\u5b9e\u9645\u5224\u522b\u6761\u4ef6\u4e5f\u5373\uff08\u6ce8\u610f\u53ef\u80fd EX \u6bb5\u8bfb\u53d6\u7684\u4e24\u4e2a\u5bc4\u5b58\u5668\u90fd\u662f MEM/WB  \u6bb5\u6b63\u9700\u8981\u5199\u5165\u7684\uff09\uff1a</p> <ul> <li>MEM/WB \u6bb5\u5199\u4f7f\u80fd\u4e3a 1\uff0c\u4e14\u5199\u5165\u975e x0\uff1b</li> <li>EX \u6bb5\u67d0\u8bfb\u5bc4\u5b58\u5668\u5730\u5740\u7b49\u4e8e MEM/WB \u6bb5\u7684\u5199\u5730\u5740\uff1b</li> <li>\u82e5\u4e3a MEM \u6bb5\uff0c\u5199\u56de\u7684\u6570\u5e76\u975e\u6570\u636e\u5b58\u50a8\u5668\u8bfb\u53d6\u7ed3\u679c\u3002\uff08\u8fd9\u79cd\u60c5\u51b5\u7684\u5904\u7406\u89c1\u4e0b\u4e00\u5c0f\u8282\uff09</li> </ul> \u4e00\u4e9b\u4f8b\u5916 <p>\u6ee1\u8db3\u4e0a\u8ff0\u4e09\u4e2a\u6761\u4ef6\u7684\u4e8b\u5b9e\u4e0a\u672a\u5fc5\u662f\u6570\u636e\u5192\u9669\uff0c\u56e0\u4e3a\u53ef\u80fd EX \u6bb5\u5e76\u4e0d\u771f\u7684\u9700\u8981\u8bfb\u5bc4\u5b58\u5668\uff08\u4f8b\u5982\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u6570\u4e3a\u7acb\u5373\u6570\u7684\u60c5\u51b5\uff09\u3002\u4e0d\u8fc7\uff0c\u8fd9\u5e76\u4e0d\u4f1a\u5bfc\u81f4\u4ee3\u7801\u51fa\u9519\u2014\u2014\u5373\u4f7f\u524d\u9012\u88ab\u89e6\u53d1\uff0cALU \u4e5f\u5e76\u4e0d\u4f1a\u9009\u62e9\u524d\u9012\u5230\u7684\u5bc4\u5b58\u5668\u503c\u4f5c\u4e3a\u64cd\u4f5c\u6570\u3002</p> <p>\u82e5\u60f3\u771f\u6b63\u7cbe\u786e\u5b9a\u4f4d\u9700\u8981\u524d\u9012\u7684\u60c5\u51b5\uff0c\u8bd1\u7801\u5668\u5355\u5143\u9700\u8981\u52a0\u5165\u4e24\u4e2a\u7279\u6b8a\u7684\u63a7\u5236\u4fe1\u53f7\u2014\u2014\u5bc4\u5b58\u5668\u8bfb\u4f7f\u80fd\u3002\u5176\u542b\u4e49\u6b63\u5982\u5b57\u9762\u610f\u601d\uff0c\u5f53\u9700\u8981\u8bfb\u5bc4\u5b58\u5668\u65f6\uff0c\u8bfb\u4f7f\u80fd\u6709\u6548\uff08\u9ad8\u7535\u5e73\uff09\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5229\u7528\u7c7b\u4f3c\u7684\u60f3\u6cd5\uff0c\u6839\u636e\u4e0b\u4e00\u90e8\u5206\u6c14\u6ce1\u7684\u8bbe\u7f6e\u53ef\u4ee5\u53d1\u73b0\uff0c\u53bb\u6389\u7b2c\u4e09\u4e2a\u6761\u4ef6\u4e5f\u53ef\u4ee5\u4f7f\u524d\u9012\u6b63\u786e\u8fdb\u884c\u3002</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5982\u4e0b\u7684\u6307\u4ee4\u5e8f\u5217\u4f1a\u51fa\u73b0 MEM \u4e0e WB \u540c\u65f6\u68c0\u6d4b\u5230\u524d\u9012\uff0c \u8bf7\u6839\u636e\u8fd9\u4e2a\u4f8b\u5b50\u601d\u8003\u6b64\u65f6\u5e94\u5f53\u5982\u4f55\u524d\u9012\uff1a</p> <pre><code>addi x1, x0, 1\naddi x1, x1, 1\naddi x2, x1, 1\n</code></pre>"},{"location":"lab6/hazard/#_5","title":"\u6c14\u6ce1","text":"<p>\u5229\u7528\u524d\u9012\u5904\u7406\u6570\u636e\u5192\u9669\u7684\u597d\u5904\u662f\uff0c\u6d41\u6c34\u7ebf CPU \u4e0d\u9700\u8981\u8fdb\u884c\u4efb\u4f55\u505c\u987f\u3002\u4f46\u63a5\u4e0b\u6765\u7684\u6570\u636e\u5192\u9669\u4f8b\u5b50\u5c31\u6ca1\u6709\u90a3\u4e48\u53cb\u5584\u4e86\uff1a</p> <pre><code>lw x1, 0(x3)\naddi x2, x1, 1\n</code></pre> <p>\u8fd9\u79cd\u5192\u9669\u88ab\u79f0\u4e3a\u8bfb\u53d6-\u4f7f\u7528\u5192\u9669\uff08Load-Use Hazard\uff09\uff0c\u7531\u4e8e\u8bfb\u53d6\u5728 MEM \u6bb5\u7ed3\u675f\u624d\u80fd\u5b8c\u6210\uff0c\u8fd9\u65f6\u65e0\u6cd5\u76f4\u63a5\u524d\u9012\uff0c \u800c\u662f\u5fc5\u987b\u7b49\u5f85\u4e00\u4e2a\u5468\u671f\u3002\u5982\u679c\u76f4\u63a5\u524d\u9012\uff0c\u5219 EX \u6bb5\u7684\u6700\u5927\u5ef6\u8fdf\u5c31\u4f1a\u518d\u52a0\u4e0a\u5b58\u50a8\u5668\u7684\u8bfb\u53d6\u5ef6\u8fdf\uff0c\u8fd9\u662f\u6211\u4eec\u4e0d\u80fd\u63a5\u53d7\u7684\u3002</p> \u4e0d\u80fd\u524d\u9012\u7684\u7406\u7531 <p>\u6309\u7167\u4e66\u672c\u4e0a\u6240\u4ecb\u7ecd\u7684\uff0cEX \u6bb5\u6b63\u5728\u6267\u884c\u65f6\uff0clw \u6307\u4ee4\u7684\u7ed3\u679c\u8fd8\u6ca1\u6709\u4ece\u5b58\u50a8\u5668\u4e2d\u8bfb\u51fa\u3002\u7531\u4e8e\u65f6\u5149\u4e0d\u80fd\u5012\u6d41\uff0c\u6211\u4eec\u4fbf\u65e0\u6cd5\u901a\u8fc7\u524d\u9012\u7684\u65b9\u5f0f\u5c06\u5c1a\u672a\u4ea7\u751f\u7684\u7ed3\u679c\u5411\u524d\u4f20\u9012\u3002\u5f53\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u7b49\u4e00\u6bb5\u65f6\u95f4\uff0c\u76f4\u5230\u5b58\u50a8\u5668\u7684\u7ed3\u679c\u8bfb\u51fa\u540e\u518d\u524d\u9012\u5230 EX \u6bb5\uff0c\u5e76\u5b8c\u6210 EX \u6bb5\u7684\u540e\u7eed\u8ba1\u7b97\u3002\u8fd9\u6837\u867d\u7136\u5b9e\u73b0\u4e86\u524d\u9012\uff0c\u4f46\u662f EX \u6bb5\u7684\u5ef6\u8fdf\u5c31\u4f1a\u53d8\u5f97\u5341\u5206\u5de8\u5927\uff0c\u4ece\u800c\u5f71\u54cd\u6574\u6761\u6d41\u6c34\u7ebf\u7684\u6027\u80fd\u3002</p> <p>\u4e3a\u68c0\u6d4b\u4f55\u65f6\u53d1\u751f\u4e86\u6b64\u5192\u9669\uff0c\u6211\u4eec\u91c7\u7528\u5982\u4e0b\u7684\u5224\u65ad\u6d41\u7a0b\uff1a</p> <ul> <li>EX \u6bb5\u7684\u6307\u4ee4\u4e3a\u8bfb\u53d6\u5185\u5b58\u7684\u6307\u4ee4\uff1b</li> <li>EX \u6bb5\u6307\u4ee4\u5199\u5165\u5bc4\u5b58\u5668\u5730\u5740\u975e\u96f6\uff1b</li> <li>ID \u6bb5\u67d0\u8bfb\u5bc4\u5b58\u5668\u5730\u5740\u7b49\u4e8e EX \u6bb5\u7684\u5199\u5730\u5740\u3002</li> </ul> <p>\u9519\u8bef\u7684\u5224\u65ad\u65b9\u5f0f</p> <p>\u4e00\u4e2a\u770b\u8d77\u6765\u81ea\u7136\u7684\u5224\u65ad\u65b9\u5f0f\u662f\uff0c\u524d\u4e24\u6b65\u4e0e\u524d\u9012\u65f6\u76f8\u540c\uff0c\u800c\u6700\u540e\u4e00\u4e2a\u6761\u4ef6\u4e3a MEM \u6bb5\u7684\u5199\u56de\u6570\u636e\u9009\u62e9\u4e3a\u6570\u636e\u5b58\u50a8\u5668\u7684\u7ed3\u679c\u3002</p> <p>\u7136\u800c\uff0c\u5982\u6b64\u5224\u65ad\u4f1a\u5bfc\u81f4 Load-Use Hazard \u4e0e\u524d\u9012\u540c\u65f6\u53d1\u751f\u7684\u4e00\u4e9b\u60c5\u51b5\u4e2d\u65e0\u6cd5\u6b63\u786e\u6267\u884c\uff0c\u53ef\u4ee5\u601d\u8003\u5982\u4f55\u6784\u9020\u53cd\u4f8b\u3002</p> <p>\u82e5 Load-Use \u5192\u9669\u53d1\u751f\uff0c\u6211\u4eec\u5c31\u5fc5\u987b\u63d2\u5165\u4e00\u4e2a\u6c14\u6ce1\uff0c\u4e5f\u5373\u5047\u88c5\u4e24\u6761\u6307\u4ee4\u95f4\u6709\u4e00\u4e2a nop \u6307\u4ee4\u3002</p> <p>\u4e3a\u4e86\u8fbe\u5230\u63d2\u5165\u6c14\u6ce1\u7684\u6548\u679c\uff0c\u539f\u672c\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\uff0cID \u9636\u6bb5\u7684\u6307\u4ee4\u5c06\u88ab\u5ffd\u7565\uff0c\u4e5f\u5373\u5728\u4e0b\u4e00\u65f6\u949f\u4e0a\u5347\u6cbf\u6e05\u7a7a ID/EX \u6bb5\u95f4\u5bc4\u5b58\u5668\uff1b\u800c\u8fd8\u672a\u6267\u884c\u7684 IF \u524d\uff08PC\uff09\u3001IF/ID  \u6bb5\u95f4\u5bc4\u5b58\u5668\u9700\u8981\u505c\u9a7b\u4e00\u4e2a\u5468\u671f\uff0c\u8ba9\u6c14\u6ce1\u5728\u5b83\u4eec\u4e4b\u524d\u901a\u8fc7\u3002</p> <p>\u5728\u4e0b\u4e00\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u7531\u4e8e ID/EX \u505c\u9a7b\u4e86\uff0c\u5728 EX \u9636\u6bb5\u7684\u8fd8\u662f\u521a\u624d\u7684\u6307\u4ee4\uff0c\u800c\u8fd9\u6b21\u5728 WB \u9636\u6bb5\u68c0\u6d4b\u51fa\u9700\u8981\u524d\u9012\uff0c \u6b64\u65f6\u524d\u9012\u5c31\u4e0d\u5b58\u5728\u95ee\u9898\u4e86\u3002</p>"},{"location":"lab6/hazard/#_6","title":"\u63a7\u5236\u5192\u9669","text":"<p>\u7b2c\u4e09\u79cd\u5192\u9669\u662f\u7531\u8df3\u8f6c\u6307\u4ee4\u4ea7\u751f\u7684\u63a7\u5236\u5192\u9669\u3002\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u6211\u4eec\u7684 CPU \u4e2d\u91c7\u7528\u9ed8\u8ba4\u4e0d\u8df3\u8f6c\u7684\u539f\u5219\uff0c\u5f53 B \u7c7b\u6307\u4ee4\u4e0d\u53d1\u751f\u8df3\u8f6c\u65f6\uff0c\u5e76\u4e0d\u4f1a\u4ea7\u751f\u63a7\u5236\u5192\u9669\uff0c\u53ea\u6709\u8df3\u8f6c\u53d1\u751f\u65f6\u624d\u4f1a\u51fa\u73b0\u95ee\u9898\u3002</p> <p>\u6309\u7167\u7ed9\u51fa\u7684\u6570\u636e\u901a\u8def\uff0c\u6240\u6709\u8df3\u8f6c\u90fd\u662f\u5728 EX \u9636\u6bb5\u8fdb\u884c\u68c0\u6d4b\u7684\uff0c\u68c0\u6d4b\u540e\u4e0b\u4e00\u6b21\u7684 PC \u4f1a\u53d8\u4e3a\u6b63\u786e\u7684\u8df3\u8f6c\u5730\u5740\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5728\u6570\u636e\u901a\u8def\u4e2d\u63d2\u5165\u4e24\u4e2a\u6c14\u6ce1\uff0c\u4e5f\u5373\u4eff\u7167\u4e0a\u6b21\u5b9e\u9a8c\u4e2d\u4eba\u5de5\u6dfb\u52a0\u7684\u4e24\u4e2a nop \u6307\u4ee4\uff1a\u5728 EX \u9636\u6bb5\u68c0\u6d4b\u51fa\u8df3\u8f6c\u540e\uff0c\u6309\u7167\u52a0 4 \u7684\u9519\u8bef\u5730\u5740\u8bfb\u53d6\u5230\u7684 IF/ID \u6bb5\u95f4\u5bc4\u5b58\u5668\u4e0e ID/EX \u6bb5\u95f4\u5bc4\u5b58\u5668\u90fd\u5e94\u6e05\u7a7a\u3002</p>"},{"location":"lab7/","title":"\u5b9e\u9a8c 7\uff1a\u9ad8\u901f\u7f13\u5b58 Cache","text":""},{"location":"lab7/#_1","title":"\u5b9e\u9a8c\u76ee\u7684","text":"<p>\u5728\u6b64\u524d\u7684\u5b9e\u9a8c\u4e2d\uff0c\u540c\u5b66\u4eec\u5df2\u7ecf\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u6d41\u6c34\u7ebf CPU\u3002\u5728\u6d41\u6c34\u7ebf CPU \u4e2d\uff0c\u6211\u4eec\u8bfb\u53d6\u6307\u4ee4\u548c\u8bbf\u95ee\u5185\u5b58\u90fd\u662f\u901a\u8fc7\u76f4\u63a5\u8bbf\u95ee\u5185\u5b58\u6765\u5b9e\u73b0\u7684\u3002\u7136\u800c\uff0c\u76f4\u63a5\u8bbf\u95ee\u5185\u5b58\u7684\u6548\u7387\u5e76\u4e0d\u9ad8\uff0c\u56e0\u4e3a\u5185\u5b58\u7684\u8bbf\u95ee\u901f\u5ea6\u8fdc\u8fdc\u4f4e\u4e8e CPU \u7684\u6267\u884c\u901f\u5ea6\u3002\u4e3a\u4e86\u63d0\u9ad8 CPU \u7684\u6027\u80fd\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u5728 CPU \u548c\u5185\u5b58\u4e4b\u95f4\u52a0\u5165\u4e00\u4e2a\u9ad8\u901f\u7f13\u5b58 Cache\u3002</p> <p>\u5728\u672c\u6b21\u5b9e\u9a8c\u4e2d\uff0c\u6211\u4eec\u5c06\u5b66\u4e60\u9ad8\u901f\u7f13\u5b58 Cache \u7684\u7ec4\u7ec7\u7ed3\u6784\u548c\u5de5\u4f5c\u673a\u7406\u3002</p> <p>\u8bf4\u660e</p> <p>\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u81ea\u884c\u5c1d\u8bd5\u5c06 Cache \u63d2\u5165\u5230\u6d41\u6c34\u7ebf CPU \u4e2d\u3002\u7531\u4e8e\u5176\u96be\u5ea6\u8fc7\u9ad8\uff0c\u5728\u672c\u6b21\u5b9e\u9a8c\u4e2d\u6211\u4eec\u4e0d\u8981\u6c42\u5927\u5bb6\u5c06 Cache \u63a5\u5165\u5148\u524d\u5b9e\u9a8c\u4e2d\u8bbe\u8ba1\u7684 CPU\u3002</p>"},{"location":"lab7/#_2","title":"\u5b9e\u9a8c\u5185\u5bb9","text":"\u63d0\u793a <p>\u672c\u6b21\u5b9e\u9a8c\u4e2d\uff0cCache \u4ee5\u53ca\u4e3b\u5b58\u7684\u5bb9\u91cf\u4f60\u53ef\u4ee5\u81ea\u884c\u6307\u5b9a\uff0c\u4f46\u9700\u8981\u81ea\u5df1\u4fee\u6539\u6846\u67b6\u4e2d\u5bf9\u5e94\u4f4d\u7f6e\u7684\u53c2\u6570\u3002\u6211\u4eec\u5efa\u8bae\u4f60\u5728\u5145\u5206\u7406\u89e3\u6846\u67b6\u4ee3\u7801\u540e\u518d\u4fee\u6539\uff01</p> <p>\u4efb\u52a1 1\uff1a\u4e8c\u8def\u7ec4\u76f8\u8fde Cache\uff085 \u5206\uff09</p> <p>\u6839\u636e\u7ed9\u51fa\u7684\u76f4\u63a5\u6620\u5c04 Cache \u7684\u4ee3\u7801\uff0c\u5b9e\u73b0\u4e8c\u8def\u7ec4\u76f8\u8fde Cache\uff0c\u652f\u6301 LRU \u66ff\u6362\u7b56\u7565\uff0c\u901a\u8fc7\u52a9\u6559\u63d0\u4f9b\u7684\u8bfb\u5199\u6d4b\u8bd5\u3002</p> <p>\u4efb\u52a1 2\uff1a\u591a\u6837\u5316\u7684\u66ff\u6362\u7b56\u7565\uff082 \u5206\uff09</p> <p>\u8ba9\u4f60\u7684 Cache \u652f\u6301\u4f2a\u968f\u673a\u66ff\u6362\u7b56\u7565\uff0cFIFO \u66ff\u6362\u7b56\u7565\u7b49\u9664\u4e86 LRU \u4e4b\u5916\u81f3\u5c11\u4e24\u79cd\u66ff\u6362\u7b56\u7565\uff0c\u901a\u8fc7\u52a9\u6559\u63d0\u4f9b\u7684\u8bfb\u5199\u6d4b\u8bd5\u3002</p> <p>\u6ce8\u610f</p> <ul> <li>\u672c\u6b21\u4efb\u52a1\u53ef\u4ee5\u81ea\u7531\u9009\u62e9\u5b9e\u73b0\u7684\u66ff\u6362\u7b56\u7565\uff0c\u9700\u8981\u5728\u4e0a\u673a\u7684\u65f6\u5019\u5411\u52a9\u6559\u8bf4\u660e\u5b9e\u73b0\u539f\u7406\u3002</li> <li>\u8bf7\u5728\u5b9e\u9a8c\u62a5\u544a\u4e2d\u8bf4\u660e\u4f60\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u4ee5\u53ca\u5728\u6d4b\u8bd5\u4e2d\u7684\u8868\u73b0\uff0c\u5206\u6790\u4e0d\u540c\u66ff\u6362\u7b56\u7565\u7684\u4f18\u52a3\u3002 \u5426\u5219\u53ea\u80fd\u5f97\u5230 1 \u5206\u3002</li> </ul> <p>\u4efb\u52a1 3\uff1aN \u8def\u7ec4\u76f8\u8fde Cache\uff083 \u5206\uff09</p> <p>\u5b9e\u73b0\u53c2\u6570\u5316\u7684 N \u8def\u7ec4\u76f8\u8fde Cache\uff0c\u652f\u6301 LRU \u66ff\u6362\u7b56\u7565\uff0c\u901a\u8fc7\u52a9\u6559\u63d0\u4f9b\u7684\u8bfb\u5199\u6d4b\u8bd5\u3002</p> <p>N \u8def\u7ec4\u76f8\u8fde Cache \u7684\u5b9a\u4e49</p> <p>\u672c\u6b21\u5b9e\u9a8c\u4e2d\u7684 N way \u4e2d\u7684 N \u53ea\u9700\u8981\u652f\u6301 2, 4, 8, 16 \u5373\u53ef\uff0c\u56e0\u6b64\u8fd9\u9879\u5f97\u5206\u5305\u542b\u4e0a\u9762\u7684\u4e8c\u8def\u7ec4\u76f8\u8fde Cache \u3002 </p> \u601d\u8003\uff1a\u4e3a\u4ec0\u4e48\uff1f\uff08\u8bf7\u786e\u4fdd\u4f60\u601d\u8003\u540e\u518d\u5c55\u5f00\u6b64\u63d0\u793a\u6846\uff09 <p>\u8fd9\u662f\u56e0\u4e3a N \u4e0d\u53d6 2 \u7684\u5e42\u7684\u60c5\u51b5\u4e0b\uff0c\u66ff\u6362\u7b56\u7565\u7684\u5b9e\u73b0\u8fc7\u4e8e\u590d\u6742\u4e14\u4e25\u91cd\u62d6\u7d2f\u7535\u8def\u6548\u7387\uff0c\u4f1a\u4e27\u5931\u4f5c\u4e3a Cache \u7684\u9ad8\u6027\u80fd\u7279\u6027\u3002</p>"},{"location":"lab7/#qa","title":"QA","text":"<p>\u8bbf\u5b58\u6307\u4ee4\u53ea\u8003\u8651\u6574\u5b57\u8bfb\u5199</p> <p>\u4e3a\u4e86\u964d\u4f4e\u5b9e\u9a8c\u96be\u5ea6\uff0c\u6211\u4eec\u53ea\u8003\u8651\u6574\u5b57\u8bfb\u5199\uff0c\u5373\u8bbf\u5b58\u6307\u4ee4\u7684\u5730\u5740\u662f\u6574\u5b57\u7684\u500d\u6570\uff0c\u4e00\u5f8b\u4e0d\u9700\u8981\u8003\u8651\u975e\u5b57\u5bf9\u9f50\u8bfb\u5199\u7684\u60c5\u51b5\u3002</p> <p>\u6a21\u62df\u4e3b\u5b58\u4e2d\u7684\u5ef6\u8fdf</p> <p>\u6211\u4eec\u7684\u4ee3\u7801\u5229\u7528\u5c01\u88c5\u7684 Bram \u6a21\u62df\u4e3b\u5b58 mem\uff0cCache \u547d\u4e2d\u65f6\u95f4\u4e3a1 cycle\uff0c\u6309\u7406\u6765\u8bb2\u6a21\u62df mem \u547d\u4e2d\u65f6\u95f4\u5e94\u8bbe\u7f6e\u4e3a 50 cycle\uff08\u56e0\u4e3a\u771f\u5b9e\u60c5\u51b5\u4e0b cache \u547d\u4e2d\u65f6\u95f4\u4e3a1ns\uff0cmem \u4e3a50-100ns\uff09\uff0c\u4f46\u662f\u4e3a\u4e86\u65b9\u4fbf\u4eff\u771f\u6d4b\u8bd5\uff0c\u51cf\u5c11\u4eff\u771f\u7684\u65f6\u95f4\uff0c\u53ef\u4ee5\u5c06 mem \u7684\u547d\u4e2d\u65f6\u95f4\u8c03\u6574\u4e3a5 cycle\u3002 \u5982\u9700\u4fee\u6539\uff0c\u53ef\u5728 <code>mem.v</code> \u4e2d\u4fee\u6539 cnt_max \u7684\u503c\uff0c\u5373\u53ef\u8c03\u6574 mem \u7684\u5ef6\u8fdf\u3002</p>"},{"location":"lab7/#_3","title":"\u5b9e\u9a8c\u68c0\u67e5\u4e0e\u63d0\u4ea4","text":"<p>\u672c\u6b21\u5b9e\u9a8c\u5e03\u7f6e\u65f6\u95f4\u4e3a 2024-05-06\uff0c\u6301\u7eed\u4e24\u5468\u3002\u76f8\u5e94\u7684 DDL \u8282\u70b9\u5982\u4e0b\uff1a</p> \u7ec4\u522b \u68c0\u67e5 DDL \u62a5\u544a\u63d0\u4ea4 DDL \u5468\u4e00\u7ec4 2024-05-20 2024-05-27 \u5468\u4e09\u7ec4 2024-05-22 2024-05-29 <p>\u68c0\u67e5\u4e0e\u62a5\u544a\u5ef6\u8fdf\u4e00\u5468\u4ee5\u5185\uff08\u542b\uff09\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 80% \u5206\u6570\uff1b\u5ef6\u8fdf\u4e00\u5468\u4ee5\u4e0a\u3001\u4e24\u5468\u4ee5\u5185\uff08\u542b\uff09\u7684\uff0c\u81f3\u591a\u53ea\u80fd\u5f97\u5230 60% \u5206\u6570\uff1b\u5ef6\u8fdf\u8d85\u8fc7\u4e24\u5468\u7684\u4e0d\u5f97\u5206\u3002</p> <p>\u63d0\u9192</p> <p>\u5b9e\u9a8c\u7684 DDL \u4e3a\u5f53\u5929\u665a\u4e0a 21:30\u3002\u52a9\u6559\u6709\u6743\u5229\u5728 21:30 \u51c6\u65f6\u505c\u6b62\u68c0\u67e5\uff0c\u8bf7\u5927\u5bb6\u5408\u7406\u5b89\u6392\u597d\u81ea\u5df1\u7684\u65f6\u95f4\u3002\u80fd\u5426\u7ebf\u4e0a\u68c0\u67e5\u3001\u80fd\u5426\u5728\u5176\u4ed6\u65f6\u95f4\u68c0\u67e5\u8bf7\u54a8\u8be2\u672c\u7ec4\u7684\u52a9\u6559\u3002</p> <p>\u5173\u4e8e\u5b9e\u9a8c\u62a5\u544a</p> <p>\u5b9e\u9a8c\u62a5\u544a\u9700\u8981\u5927\u5bb6\u63d0\u4ea4 PDF \u683c\u5f0f\u3002\u6211\u4eec\u63a8\u8350\u5927\u5bb6\u4f7f\u7528 Markdown \u6216\u8005 Latex \u64b0\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u5bfc\u51fa\u4e3a PDF\u3002\u5927\u5bb6\u4e5f\u53ef\u4ee5\u4f7f\u7528 Word\u3001WPS \u7b49\u8fdb\u884c\u62a5\u544a\u64b0\u5199\uff0c\u6700\u540e\u8f6c\u6362\u4e3a PDF \u683c\u5f0f\u3002\u6211\u4eec\u4e0d\u63a8\u8350\u4e5f\u4e0d\u62d2\u7edd\u5927\u5bb6\u624b\u5199\u5b9e\u9a8c\u62a5\u544a\uff0c\u4f46\u8bf7\u5c06\u5176\u62cd\u7167\u626b\u63cf\u6210 PDF \u6587\u4ef6\u540e\u518d\u4e0a\u4f20\u3002\u6211\u4eec\u4e0d\u63a5\u53d7\u4efb\u4f55\u56e0\u4e3a\u6587\u4ef6\u683c\u5f0f\u9519\u8bef\u800c\u5bfc\u81f4\u6210\u7ee9\u5f02\u5e38\u7684\u7533\u8bc9\u8bf7\u6c42\uff01</p> <p>\u5728\u5b9e\u9a8c\u62a5\u544a\u4e2d\uff0c\u4f60\u9700\u8981\u7ed9\u51fa\u6bcf\u4e00\u9879\u4efb\u52a1\u7684\u7b54\u6848\uff0c\u5e76\u9644\u4e0a\u5fc5\u8981\u7684\u8bf4\u660e\u8fc7\u7a0b\uff08\u6216\u622a\u56fe\uff09\u3002</p> <p>\u7279\u522b\u5730\uff1a\u5b9e\u9a8c\u62a5\u544a\u7684\u5b57\u6570\u548c\u6392\u7248\u4e0e\u6700\u7ec8\u5f97\u5206\u65e0\u5173\u3002\u5f71\u54cd\u5f97\u5206\u7684\u4ec5\u6709\u5185\u5bb9\u6b63\u786e\u6027\u4e0e\u5b8c\u6574\u6027\u3002</p> <p>\u5b9e\u9a8c\u62a5\u544a\u63d0\u4ea4\u7684\u5730\u5740\u5728\u8fd9\u91cc\u3002</p>"},{"location":"lab7/cache/","title":"\u9ad8\u901f\u7f13\u5b58 Cache","text":"<p>Note</p> <p>Cache\u5b58\u5728\u7684\u610f\u4e49\u5728\u4e8e\u89e3\u51b3\u65f6\u95f4\u76f8\u5173\u6027\u4e0e\u7a7a\u95f4\u76f8\u5173\u6027\u95ee\u9898\u3002</p> <p>\u76ee\u524d\u73b0\u4ee3\u7684\u8d85\u6807\u91cf\u5904\u7406\u5668\u90fd\u662f\u54c8\u4f5b\u7ed3\u6784\uff0c\u4e3a\u4e86\u8ba9\u9ad8\u901f\u5904\u7406\u5668\u5339\u914d\u4f4e\u901f\u7684\u5b58\u50a8\u5668\uff0c\u901a\u5e38\u91c7\u7528\u7684\u591a\u7ea7Cache\u7ed3\u6784\u3002\u5176\u4e2d\uff0c\u901a\u5e38L1 Cache\u5206\u4e3aICache\u4e0eDCache\uff0c\u5206\u522b\u7528\u4e8e\u6307\u4ee4\u548c\u6570\u636e\u3002ICache\u7684\u8bbe\u8ba1\u4e00\u822c\u53ea\u9700\u8981\u8003\u8651\u8bfb\u53d6\u7684\u60c5\u51b5\uff0c\u800cDCache\u8fd8\u9700\u8981\u8003\u8651\u5199\u5165\u7684\u60c5\u51b5\u3002\u800c\u672c\u6b21\u5b9e\u9a8c\u662f\u4e3a\u4e86\u5b9e\u73b0\u4e00\u4e2a\u517c\u5177\u8bfb\u5199Cache\uff0c\u53ef\u4ee5\u770b\u4f5c\u4e3a\u4e00\u4e2aDCache\u3002</p> <p>Cache\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1aTag\u4e0eData\uff0c\u5176\u4e2dData\u90e8\u5206\u7528\u6765\u4fdd\u5b58\u4e00\u7247\u8fde\u7eed\u5730\u5740\u7684\u6570\u636e\uff0c\u800cTag\u90e8\u5206\u5219\u5b58\u50a8\u8fd9\u7247\u8fde\u7eed\u6570\u636e\u7684\u516c\u5171\u5730\u5740\uff0c\u4e00\u4e2aTag\u4e0e\u5176\u5bf9\u5e94\u7684Data\u6784\u6210\u7684\u4e00\u884c\u79f0\u4e3a\u4e00\u4e2aCache Line\uff0c\u800cCache Line\u4e2d\u7684\u6570\u636e\u90e8\u5206\u79f0\u4e3a\u6570\u636e\u5757\uff08Data Block\uff09\uff0c\u5982\u679c\u4e00\u4e2a\u6570\u636e\u53ef\u4ee5\u5b58\u50a8\u5728Cache\u4e2d\u7684\u591a\u4e2a\u5730\u65b9\uff08\u4e00\u822c\u662f\u591a\u8def\u8bbe\u8ba1\u7684\u60c5\u51b5\u4e0b\uff09\uff0c\u8fd9\u4e9b\u88ab\u540c\u4e00\u4e2a\u5730\u5740\u627e\u5230\u7684\u591a\u4e2aCache Line\u79f0\u4e3a\u4e00\u4e2aCache Set\u3002</p> <p>Cache\u5206\u4e3a\u4e09\u79cd\u4e3b\u8981\u7684\u5b9e\u73b0\u65b9\u5f0f\uff1a</p> <ul> <li>\u76f4\u63a5\u6620\u5c04\uff08Direct-mapped\uff09 Cache</li> <li>\u7ec4\u76f8\u8fde\uff08Set-associative\uff09 Cache</li> <li>\u5168\u76f8\u8fde\uff08Fully-associative\uff09Cache\u3002</li> </ul>"},{"location":"lab7/cache/#cache_1","title":"\u76f4\u63a5\u6620\u5c04Cache","text":"<p>\u8fd9\u79cd\u7ed3\u6784\u7684Cache\u662f\u6700\u5bb9\u6613\u5b9e\u73b0\u7684\u4e00\u79cdCache\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u662f\u53ea\u6709\u4e00\u4e2aWay\u7684\u7ec4\u76f8\u8fdeCache\uff0c\u5904\u7406\u5668\u8bbf\u95ee\u5b58\u50a8\u5668\u7684\u5730\u5740\u4f1a\u88ab\u5206\u4e3a\u4e09\u4e2a\u90e8\u5206\uff1aTag\u3001Index\u4ee5\u53caBlock Offset\uff0c\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u5176\u4e4b\u6240\u4ee5\u88ab\u79f0\u4f5c\u76f4\u63a5\u6620\u5c04\uff0c\u662f\u56e0\u4e3a\u5730\u5740\u4e2d\u7684Index\u5b57\u6bb5\u76f4\u63a5\u4f5c\u4e3aCache Line\u5730\u5740\uff0c\u8fd9\u6837\uff0c\u5bf9\u4e8e\u6240\u6709Index\u76f8\u540c\u7684\u5b58\u50a8\u5668\u5730\u5740\uff0c\u90fd\u4f1a\u5bfb\u5740\u5230\u540c\u4e00\u4e2aCache Line\uff0c\u8fd9\u5c31\u4ea7\u751f\u4e86\u51b2\u7a81\uff0c\u8fd9\u4e5f\u662f\u76f4\u63a5\u6620\u5c04\u7ed3\u6784Cache\u7684\u4e00\u5927\u7f3a\u70b9\u3002\u8fd9\u79cd\u7ed3\u6784\u751a\u81f3\u7b80\u5355\u5230\u4e0d\u9700\u8981\u66ff\u6362\u7b97\u6cd5\uff0c\u4f46\u662f\u5176\u6267\u884c\u6548\u7387\u4e5f\u662f\u6700\u4f4e\u7684\uff0c\u73b0\u4ee3\u5904\u7406\u5668\u4e2d\u5f88\u5c11\u4f1a\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u4e86\u3002</p>"},{"location":"lab7/cache/#cache_2","title":"\u7ec4\u76f8\u8fdeCache","text":"<p>\u8fd9\u79cd\u65b9\u5f0f\u7684\u63d0\u51fa\u662f\u4e3a\u4e86\u89e3\u51b3\u76f4\u63a5\u6620\u5c04Cache\u6700\u5927\u7684\u4e00\u4e2a\u95ee\u9898\uff1aIndex\u76f8\u540c\u7684\u6570\u636e\u53ea\u80fd\u653e\u5728\u4e00\u4e2aCache Line\u4e2d\u3002</p> <p>\u7ec4\u76f8\u8fdeCache\u4f7f\u7528\u4e86Cache Set\u7684\u6982\u5ff5\uff0c\u4e00\u4e2aCache Set\u5305\u542b\u591a\u4e2aCache Line\uff0c\u8fd9\u4e9bCache Line\u7684Index\u90fd\u76f8\u540c\u3002\u5f53\u4e00\u4e2aCache Set\u4e2d\u7684\u67d0\u4e00\u4e2aCache Line\u88ab\u5360\u7528\uff0c\u800c\u53e6\u4e00\u4e2aCache Line\u7a7a\u95f2\u65f6\uff0c\u5c31\u4e0d\u5fc5\u8e22\u6389\u5df2\u6709\u7684\u6570\u636e\uff0c\u800c\u662f\u4f7f\u7528\u7a7a\u95f2\u7684\u69fd\u4f4d\uff0c\u8fd9\u6837\u5c31\u5927\u5927\u964d\u4f4e\u4e86\u7f3a\u5931\u7387\uff0c\u800c\u4e00\u4e2aCache Set\u6240\u5305\u542b\u7684Cache Line\u5c31\u88ab\u6210\u4e3a\u8fd9\u4e2aCache\u7684\u76f8\u8fde\u5ea6\u3002\u4f8b\u5982\uff0c\u82e5\u4e00\u4e2aCache Set\u5305\u542b\u4e24\u4e2aCache Line\uff0c\u5219\u8fd9\u4e2aCache\u79f0\u4e3a2\u8def\u7ec4\u76f8\u8fdeCache\uff0c\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u4e0a\u56fe\u4e2d\u53ef\u4ee5\u770b\u5230\uff0cCache\u88ab\u5206\u6210\u4e86\u4e24\u4e2a\u5b58\u50a8\u533a\u57df\u3002\u5176\u4e2d\uff0c\u4e00\u4e2a\u5b58\u50a8\u533a\u57df\u53eb\u505a\u4e00\u201c\u8def\u201d\u3002</p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u7531\u4e8e\u9700\u8981\u4ece\u591a\u4e2aCache Line\u4e2d\u9009\u62e9\u4e00\u4e2a\u5339\u914d\u7684\u7ed3\u679c\uff0c\u56e0\u6b64\u8fd9\u79cd\u5b9e\u73b0\u65b9\u5f0f\u76f8\u5bf9\u4e8e\u76f4\u63a5\u6620\u5c04\u7ed3\u6784\u7684Cache\u800c\u8a00\u5ef6\u8fdf\u4f1a\u66f4\u5927\uff0c\u6709\u65f6\u5019\u751a\u81f3\u9700\u8981\u5c06\u5176\u8bbf\u95ee\u8fc7\u7a0b\u6d41\u6c34\u5316\uff0c\u4ee5\u51cf\u5c11\u5bf9\u5904\u7406\u5668\u9891\u7387\u7684\u5f71\u54cd\uff0c\u8fd9\u6837\u4f1a\u5bfc\u81f4load\u6307\u4ee4\u7684\u5ef6\u8fdf\uff08Latency\uff09\u589e\u5927\uff0c\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u5f71\u54cd\u4e86\u5904\u7406\u5668\u7684\u6267\u884c\u6548\u7387\uff0c\u4f46\u662f\u8fd9\u79cd\u65b9\u5f0f\u7684\u4f18\u70b9\u5728\u4e8e\uff0c\u5b83\u53ef\u4ee5\u663e\u8457\u5730\u51cf\u5c11Cache\u7f3a\u5931\u53d1\u751f\u7684\u9891\u7387\uff0c\u56e0\u6b64\u5728\u73b0\u4ee3\u7684\u5904\u7406\u5668\u4e2d\u5f97\u5230\u4e86\u5e7f\u6cdb\u7684\u5e94\u7528\u3002</p> <p>\u5728\u5b9e\u9645\u5b9e\u73b0\u4e2d\uff0cTag\u548cData\u90e8\u5206\u5b9e\u9645\u4e0a\u662f\u5206\u5f00\u7684\uff0c\u5206\u522b\u53eb\u505aTag SRAM\u548cData SRAM\u3002\u5bf9\u4e8e\u8fd9\u79cd\u5b9e\u73b0\uff0c\u53ef\u4ee5\u91c7\u7528\u5e76\u884c\u8bbf\u95ee\uff08\u5373\u540c\u65f6\u8bbf\u95eeTag SRAM\u548cData SRAM\uff09\u53ca\u4e32\u884c\u8bbf\u95ee\uff08\u5373\u5148\u8bbf\u95eeTag SRAM\u518d\u8bbf\u95eeData SRAM\uff09\u65b9\u6cd5\u3002</p> <p>Note</p> <p>\u5728\u672c\u6b21\u5b9e\u9a8c\u4e2d\uff0cTag\u548cData\u5747\u91c7\u7528BRAM\u5e76\u884c\u8bbf\u95ee\u5b9e\u73b0</p> <p>\u5bf9\u4e8e\u5e76\u884c\u8bbf\u95ee\u65b9\u6cd5\u800c\u8a00\uff0c\u5728\u8bfb\u53d6Tag\u7684\u540c\u65f6\uff0c\u9700\u8981\u5c06\u6bcf\u4e00\u8defIndex\u5bf9\u5e94\u7684\u7684Data\u90e8\u5206\u5168\u90e8\u8bfb\u53d6\u51fa\u6765\uff0c\u7136\u540e\u9001\u5230\u591a\u8def\u9009\u62e9\u5668\u4e0a\uff0c\u8fd9\u4e2a\u591a\u8def\u9009\u62e9\u5668\u53d7\u5230Tag\u6bd4\u8f83\u7ed3\u679c\u7684\u63a7\u5236\uff0c\u9009\u51fa\u5bf9\u5e94\u7684Data Block\uff0c\u7136\u540e\u6839\u636e\u5b58\u50a8\u5668\u5730\u5740\u4e2dBlock Offset\u7684\u503c\uff0c\u9009\u62e9\u51fa\u5408\u9002\u7684\u5b57\u8282\uff0c\u4e00\u822c\u5c06\u9009\u62e9\u5b57\u8282\u7684\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3a\u6570\u636e\u5bf9\u9f50\uff08Data Alignment\uff09</p> <p>Note</p> <p>\u672c\u6b21\u5b9e\u9a8c\u4ec5\u8003\u8651\u5e76\u884c\u8bbf\u95ee\u7684\u5b9e\u73b0\uff0c\u5982\u679c\u547d\u4e2d Cache \u53ea\u9700\u8981\u4e00\u4e2a\u5468\u671f\u5c31\u53ef\u4ee5\u5c06\u5bf9\u5e94\u6570\u636e\u8bfb\u51fa\u3002\u800c\u4e32\u884c\u8bbf\u95ee\u7684\u5b9e\u73b0\u6548\u7387\u8f83\u4f4e\uff0c\u4e0d\u4e88\u8003\u8651\u3002</p> <p></p>"},{"location":"lab7/cache/#cache_3","title":"\u5168\u76f8\u8fdeCache","text":"<p>\u8fd9\u79cdCache\u5b9e\u9645\u4e0a\u53ef\u4ee5\u8ba4\u4e3a\u662f\u53ea\u6709\u4e00\u4e2aSet\u7684\u7ec4\u76f8\u8fdeCache\uff0c\u5728\u8fd9\u79cdCache\u4e2d\uff0c\u5b58\u50a8\u5668\u5730\u5740\u4e2d\u5c06\u4e0d\u518d\u6709Index\u90e8\u5206\uff0c\u56e0\u4e3a\u6570\u636e\u53ef\u4ee5\u653e\u5728\u4efb\u4f55\u4e00\u4e2aCache Line\u4e2d\uff0c\u8fd9\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u5185\u5bb9\u5bfb\u5740\u7684\u5b58\u50a8\u5668\uff08Content Address Memory\uff0cCAM\uff09\uff0c\u5728\u5b9e\u9645\u8bbe\u8ba1\u4e2d\uff0c\u901a\u5e38\u91c7\u7528Tag CAM + Data SRAM\u7684\u7ed3\u6784\uff0c\u4ee5\u51cf\u5c11CAM\u8fc7\u5927\u6240\u5f15\u8d77\u7684\u8d70\u7ebf\u5ef6\u8fdf\u95ee\u9898\uff0c\u5e76\u56e0\u6b64\u5bfc\u81f4\u8fd9\u79cd\u7ed3\u6784\u7684Cache\u4e00\u822c\u5bb9\u91cf\u90fd\u4e0d\u4f1a\u592a\u5927\uff0c\u591a\u89c1\u4e8eTLB\u7684\u8bbe\u8ba1\u4e2d\u3002</p>"},{"location":"lab7/cache/#cache_4","title":"Cache\u7684\u5199\u5165\u7b56\u7565","text":"<p>\u7531\u4e8e\u4e00\u822cICache\u4e0d\u4f1a\u88ab\u76f4\u63a5\u5199\u5165\u5185\u5bb9\uff0c\u5373\u4f7f\u6709\u81ea\u4fee\u6539\uff08Self-modifying\uff09\uff0c\u4e5f\u901a\u5e38\u662f\u501f\u52a9DCache\u5b9e\u73b0\u7684\uff0c\u56e0\u6b64\uff0c\u8fd9\u91cc\u4ec5\u8ba8\u8bbaDCache\u7684\u5199\u5165\u7b56\u7565\u3002</p> <p>DCache\u7684\u5199\u5165\u7b56\u7565\u53ef\u4ee5\u603b\u7ed3\u4e3a\u5199\u901a\uff08Write Through\uff09\u548c\u5199\u56de\uff08Write Back\uff09\u3002\u6240\u8c13\u5199\u901a\u662f\u6307\uff0c\u5bf9Dache\u7684\u6240\u6709\u5199\u5165\u64cd\u4f5c\u4f1a\u88ab\u540c\u65f6\u5728\u5176\u4e0b\u7ea7\u5b58\u50a8\u5668\u4e0a\u6267\u884c\uff0c\u4f46\u7531\u4e8e\u4e0b\u7ea7\u5b58\u50a8\u5668\u7684\u8bbf\u95ee\u65f6\u95f4\u4e00\u822c\u6765\u8bf4\u6bd4\u8f83\u957f\uff0c\u800cstore\u6307\u4ee4\u5728\u7a0b\u5e8f\u4e2d\u51fa\u73b0\u7684\u9891\u7387\u53c8\u6bd4\u8f83\u9ad8\uff0c\u8fd9\u6837\u5fc5\u7136\u4f1a\u5bfc\u81f4\u5904\u7406\u5668\u7684\u6267\u884c\u6548\u7387\u4e0b\u964d\uff1b\u6240\u8c13\u5199\u56de\u5219\u662f\u6307\uff0c\u6570\u636e\u5199\u5230DCache\u540e\uff0c\u5bf9\u5e94\u7684Cache Line\u4f1a\u88ab\u6807\u8bb0\u4e3aDirty\uff0c\u53ea\u6709\u5f53\u8fd9\u4e2aCache Line\u88ab\u66ff\u6362\u65f6\uff0c\u5176\u6570\u636e\u624d\u4f1a\u5199\u5165\u4e0b\u7ea7\u5b58\u50a8\u5668\uff0c\u8fd9\u79cd\u65b9\u5f0f\u4f1a\u5927\u5927\u63d0\u5347\u5904\u7406\u5668\u7684\u6267\u884c\u6548\u7387\uff0c\u4f46\u662f\u4f1a\u9020\u6210DCache\u4e0e\u4e0b\u7ea7\u5b58\u50a8\u5668\u7684\u6570\u636e\u4e0d\u4e00\u81f4\uff08Non-consistent\uff09\u95ee\u9898\u3002</p> <p>\u4e0a\u9762\u7684\u8ba8\u8bba\u90fd\u662f\u5047\u8bbe\u5728\u5199DCache\u65f6\uff0c\u8981\u5199\u5165\u7684\u5730\u5740\u5df2\u7ecf\u5b58\u5728\u4e0eDCache\u4e2d\uff0c\u4f46\u4e8b\u5b9e\u4e0a\u8fd9\u4e2a\u5730\u5740\u6709\u53ef\u80fd\u5e76\u4e0d\u5b58\u5728\u4e8eDCache\u4e2d\uff0c\u8fd9\u5c31\u53d1\u751f\u4e86\u5199\u7f3a\u5931\uff08Write Miss\uff09\uff0c\u8fd9\u79cd\u60c5\u51b5\u7684\u5904\u7406\u7b56\u7565\u4e5f\u53ef\u4ee5\u603b\u7ed3\u4e3a\u4e24\u79cd\uff1aNon-Write Allocate\u4e0eWrite Allocate\u3002\u6240\u8c13Non-Write Allocate\u662f\u6307\uff0c\u76f4\u63a5\u5c06\u6570\u636e\u5199\u5230\u4e0b\u7ea7\u5b58\u50a8\u5668\u4e2d\uff0c\u800c\u5e76\u4e0d\u5199\u5230DCache\u4e2d\uff1b\u6240\u8c13Write Allocate\u662f\u6307\uff0c\u9996\u5148\u5c06\u5199\u5165\u5730\u5740\u5bf9\u5e94\u7684\u6574\u4e2a\u6570\u636e\u5757\u53d6\u56deDCache\u4e2d\uff0c\u7136\u540e\u518d\u5c06\u5199\u5165\u5230DCache\u4e2d\u7684\u6570\u636e\u5408\u5e76\u5230\u8fd9\u4e2a\u6570\u636e\u5757\u4e2d\uff0c\u4e4b\u6240\u4ee5\u9700\u8981\u5148\u53d6\u56de\uff0c\u662f\u56e0\u4e3a\u4e00\u6b21\u5199\u64cd\u4f5c\u7684\u6570\u636e\u91cf\u8fdc\u8fdc\u5c0f\u4e8e\u4e00\u4e2a\u6570\u636e\u5757\u7684\u5927\u5c0f\uff0c\u5982\u679c\u4e0d\u8fdb\u884c\u53d6\u56de\u5219\u76f4\u63a5\u5199\u5165DCache\u5e76\u6807\u8bb0Dirty\uff0c\u540e\u671f\u5199\u56de\u5904\u7406\u5668\u65f6\uff0c\u5fc5\u7136\u4f1a\u9020\u6210\u5176\u5468\u56f4\u7684\u6570\u636e\u88ab\u7834\u574f\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5199\u901a\u603b\u662f\u914d\u5408Non-Write Allocate\u4f7f\u7528\uff0c\u800cWrite Back\u5219\u901a\u5e38\u548cWrite Allocate\u914d\u5408\u4f7f\u7528\u3002\u53ef\u4ee5\u770b\u51fa\uff0cWrite Back\u4e0eWrite Allocate\u914d\u5408\u7684\u65b9\u5f0f\u8bbe\u8ba1\u590d\u6742\u5ea6\u662f\u6700\u9ad8\u7684\uff0c\u4f46\u662f\u5176\u6548\u7387\u4e5f\u662f\u6700\u597d\u7684\u3002</p> <p></p> <p>Note</p> <p>\u672c\u6b21\u5b9e\u9a8c\u7ed9\u51fa\u7684\u76f4\u63a5\u6620\u5c04Cache\u5c31\u662f\u91c7\u7528\u7684\u5199\u56de\u5199\u5206\u914d\u7684\u5199\u5165\u7b56\u7565\u3002</p>"},{"location":"lab7/cache/#cache_5","title":"Cache\u7684\u66ff\u6362\u7b56\u7565","text":"<p>\u9996\u5148\uff0c\u53ea\u6709\u7ec4\u76f8\u8fde\u548c\u5168\u76f8\u8fdeCache\u624d\u9700\u8981\u8003\u8651\u66ff\u6362\u7b56\u7565\uff0c\u5176\u6b21\uff0c\u53ea\u6709\u5f53\u4e00\u4e2aCache Set\u5bf9\u5e94\u7684\u6240\u6709\u7684Cache Line\u90fd\u7528\u5b8c\uff08\u5bf9\u4e8e\u7ec4\u76f8\u8fde\uff09\u6216\u6240\u6709Cache Line\u90fd\u7528\u5b8c\uff08\u5bf9\u4e8e\u5168\u76f8\u8fde\uff09\u65f6\uff0c\u624d\u9700\u8981\u8003\u8651\u66ff\u6362\u7b56\u7565\uff08\u5426\u5219\u76f4\u63a5\u5c06\u6570\u636e\u586b\u5230\u7a7a\u95f2Cache Line\u5373\u53ef\uff0c\u4e0d\u9700\u8981\u505a\u66ff\u6362\uff09\uff0c\u8fd9\u91cc\u4ecb\u7ecd\u51e0\u79cd\u6700\u5e38\u7528\u7684\u66ff\u6362\u7b97\u6cd5\u3002</p>"},{"location":"lab7/cache/#lru","title":"\u8fd1\u671f\u6700\u5c11\u4f7f\u7528\u6cd5\uff08LRU\uff09","text":"<p>\u8fd9\u79cd\u65b9\u6cd5\u4f1a\u9009\u62e9\u6700\u8fd1\u88ab\u4f7f\u7528\u6b21\u6570\u6700\u5c11\u7684Cache Line\uff0c\u4e3a\u6b64\uff0c\u9700\u8981\u7ed9\u6bcf\u4e2aCache Line\u8bbe\u7f6e\u4e00\u4e2a\u5e74\u9f84\uff08Age\uff09\u5b57\u6bb5\uff0c\u6bcf\u5f53\u4e00\u4e2aCache Line\u88ab\u8bbf\u95ee\u65f6\uff0c\u5176\u4ed6Cache Line\u7684\u5e74\u9f84\u90fd\u4f1a\u52a0\u4e00\uff0c\u800c\u88ab\u8bbf\u95ee\u7684Cache Line\u7684\u5e74\u9f84\u4f1a\u88ab\u6e05\u96f6\uff0c\u6bcf\u6b21\u66ff\u6362\u5e74\u9f84\u6700\u5927\u7684\u90a3\u4e00\u884c Cache Line\u3002\u8fd9\u79cd\u65b9\u6cd5\u7684\u4f18\u70b9\u5728\u4e8e\uff0c\u5b83\u53ef\u4ee5\u4fdd\u8bc1\u88ab\u9891\u7e41\u8bbf\u95ee\u7684\u6570\u636e\u4e0d\u4f1a\u88ab\u66ff\u6362\uff0c\u56e0\u6b64\uff0cLRU\u66ff\u6362\u7b56\u7565\u7684\u7f3a\u5931\u7387\u7406\u8bba\u4e0a\u662f\u6700\u4f4e\u7684\u3002</p> <p>\u4f46\u662f\uff0c\u968f\u7740Cache\u76f8\u5173\u5ea6\u7684\u589e\u52a0\uff0c\u8fd9\u79cd\u7b56\u7565\u5b9e\u73b0\u975e\u5e38\u6602\u8d35\uff0c\u56e0\u6b64\uff0c\u5bf9\u4e8e\u76f8\u5173\u6027\u5f88\u9ad8\u7684Cache\uff0c\u901a\u5e38\u90fd\u662f\u4f7f\u7528\u4f2aLRU\u65b9\u6cd5\uff0c\u5373\u5c06\u6240\u6709\u7684way\u8fdb\u884c\u5206\u7ec4\uff0c\u6bcf\u4e00\u7ec4\u4f7f\u7528\u4e00\u4e2a1bit\u7684\u5e74\u9f84\u90e8\u5206\uff0c\u540c\u65f6\u91c7\u7528\u6811\u72b6\u65b9\u5f0f\u591a\u7ea7\u5206\u7ec4\uff0c\u901a\u5e38\u91c7\u7528\u4e8c\u53c9\u6811\u7ed3\u6784\u3002\u4f8b\u5982\u5bf9\u4e8e\u4e00\u4e2a8\u8def\u7ec4\u76f8\u8fdeCache\uff0c\u91c7\u7528\u5982\u4e0b\u65b9\u5f0f\u5b9e\u73b0\u4f2aLRU\uff1a</p> <p>Note</p> <p>\u672c\u6b21\u5b9e\u9a8c\u5b9e\u73b0\u7684LRU\u66ff\u6362\u7b56\u7565\u4e0d\u9650\u5236\u662f\u5426\u91c7\u7528\u4f2aLRU\uff08\u4f2aLRU\u5b9e\u73b0\u8d77\u6765\u6027\u80fd\u66f4\u597d\u4f46\u662f\u9700\u8981\u8be6\u7ec6\u89e3\u91ca\u539f\u7406\uff09</p> <p></p>"},{"location":"lab7/cache/#fifo","title":"\u5148\u8fdb\u5148\u51fa\u6cd5\uff08FIFO\uff09","text":"<p>FIFO\u66ff\u6362\u7b97\u6cd5\u662f\u4e00\u79cd\u7b80\u5355\u800c\u76f4\u89c2\u7684\u66ff\u6362\u7b56\u7565\u3002\u5b83\u57fa\u4e8e\u5148\u8fdb\u5148\u51fa\u7684\u539f\u5219\uff0c\u5373\u6700\u5148\u8fdb\u5165Cache\u7684\u6570\u636e\u6700\u5148\u88ab\u66ff\u6362\u51fa\u53bb\u3002</p> <p>\u5728FIFO\u66ff\u6362\u7b56\u7565\u4e2d\uff0c\u6bcf\u4e2aCache Line\u90fd\u4f1a\u6709\u4e00\u4e2a\u8fdb\u5165\u65f6\u95f4\u6233\uff08\u6216\u8005\u79f0\u4e3a\u8bbf\u95ee\u5e8f\u5217\u7f16\u53f7\uff09\uff0c\u8868\u793a\u8be5Cache Line\u6700\u8fd1\u8fdb\u5165Cache\u7684\u65f6\u95f4\u3002\u5f53\u9700\u8981\u66ff\u6362Cache Line\u65f6\uff0c\u9009\u62e9\u8fdb\u5165\u65f6\u95f4\u6233\u6700\u65e9\u7684\u90a3\u4e2aCache Line\u8fdb\u884c\u66ff\u6362\u3002</p> <p>\u5b9e\u73b0FIFO\u66ff\u6362\u7b56\u7565\u7684\u4e00\u79cd\u5e38\u89c1\u65b9\u5f0f\u662f\u4f7f\u7528\u4e00\u4e2a\u961f\u5217\u6570\u636e\u7ed3\u6784\u3002\u6bcf\u5f53\u4e00\u4e2aCache Line\u88ab\u586b\u5165Cache\u65f6\uff0c\u5c31\u5c06\u5176\u52a0\u5165\u961f\u5217\u7684\u5c3e\u90e8\u3002\u5f53\u9700\u8981\u66ff\u6362Cache Line\u65f6\uff0c\u76f4\u63a5\u9009\u62e9\u961f\u5217\u5934\u90e8\u7684Cache Line\u8fdb\u884c\u66ff\u6362\u3002</p> <p>FIFO\u66ff\u6362\u7b56\u7565\u7684\u4f18\u70b9\u5728\u4e8e\u7b80\u5355\u6613\u5b9e\u73b0\uff0c\u5e76\u4e14\u4e0d\u9700\u8981\u989d\u5916\u7684\u786c\u4ef6\u652f\u6301\u3002\u4f46\u662f\uff0c\u5b83\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4f4e\u6548\u7684\u7f13\u5b58\u5229\u7528\uff0c\u56e0\u4e3a\u6709\u53ef\u80fd\u4f1a\u5c06\u521a\u521a\u88ab\u9891\u7e41\u8bbf\u95ee\u7684\u6570\u636e\u66ff\u6362\u51fa\u53bb\uff0c\u800c\u8fd9\u4e9b\u6570\u636e\u53ef\u80fd\u5728\u672a\u6765\u8fd8\u4f1a\u88ab\u518d\u6b21\u8bbf\u95ee\u3002</p>"},{"location":"lab7/cache/#_1","title":"\u968f\u673a\u66ff\u6362","text":"<p>\u7531\u4e8eCache\u7684\u66ff\u6362\u7b97\u6cd5\u4e00\u822c\u4f7f\u7528\u786c\u4ef6\u5b9e\u73b0\uff0c\u56e0\u6b64\u4e0d\u53ef\u80fd\u505a\u7684\u5f88\u590d\u6742\u3002\u8fd9\u79cd\u65b9\u6cd5\u4e0d\u9700\u8981\u8bb0\u5f55\u6bcf\u4e2away\u7684\u5e74\u9f84\u4fe1\u606f\uff0c\u800c\u662f\u987e\u540d\u601d\u4e49\uff0c\u968f\u673a\u9009\u62e9\u4e00\u4e2away\u8fdb\u884c\u66ff\u6362\u3002</p> <p>\u5c3d\u7ba1\u76f8\u6bd4\u4e8eLRU\u66ff\u6362\u800c\u8a00\uff0c\u8fd9\u79cd\u65b9\u5f0f\u53d1\u751f\u7f3a\u5931\u7684\u9891\u7387\u4f1a\u66f4\u9ad8\u4e00\u4e9b\uff0c\u4f46\u968f\u7740Cache\u5bb9\u91cf\u7684\u589e\u5927\uff0c\u8fd9\u4e2a\u5dee\u8ddd\u662f\u8d8a\u6765\u8d8a\u5c0f\u7684\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5728\u5b9e\u9645\u7684\u8bbe\u8ba1\u4e2d\u5f88\u96be\u5b9e\u73b0\u4e25\u683c\u7684\u968f\u673a\uff0c\u800c\u662f\u4f7f\u7528\u65f6\u949f\u7b97\u6cd5\uff08Clock Algorithm\uff09\u6765\u5b9e\u73b0\u8fd1\u4f3c\u7684\u968f\u673a\u3002</p> <p>\u6240\u8c13\u65f6\u949f\u7b97\u6cd5\uff0c\u5c31\u662f\u4f7f\u7528\u4e00\u4e2a\u8ba1\u6570\u5668\uff0c\u6bcf\u66ff\u6362\u4e00\u6b21Cache Line\uff0c\u8fd9\u4e2a\u8ba1\u6570\u5668\u5c31\u52a0\u4e00\uff0c\u5229\u7528\u8ba1\u6570\u5668\u5f53\u524d\u7684\u503c\uff0c\u4ece\u88ab\u9009\u5b9a\u7684Cache Set\u4e2d\u627e\u5230\u8981\u66ff\u6362\u7684Cache Line\u3002\u8fd9\u662f\u4e00\u79cd\u4e0d\u9519\u7684\u6298\u4e2d\u65b9\u6cd5\u3002</p> <p>Note</p> <p>\u4e0d\u9650\u5236\u968f\u673a\u9009\u62e9\u7684\u4ea7\u751f\u65b9\u5f0f\uff0c\u4f46\u662f\u9700\u8981\u9610\u8ff0\u6e05\u695a\u66ff\u6362\u539f\u7406\u3002</p>"},{"location":"lab7/temple_code/","title":"\u5b9e\u9a8c\u4ee3\u7801\u89e3\u6790","text":"<p>\u5b9e\u9a8c\u4ee3\u7801\u4e0b\u8f7d</p> <p>\u5b9e\u9a8c\u4ee3\u7801\u4e0b\u8f7d\u8bf7\u70b9\u8fd9\u91cc</p>"},{"location":"lab7/temple_code/#_2","title":"\u5b9e\u9a8c\u524d\u51c6\u5907","text":"<p>\u76f8\u8f83\u4e8e\u4e4b\u524d\u7684\u5b9e\u9a8c\uff0c\u672c\u6b21\u5b9e\u9a8c\u5c06\u6ca1\u6709\u6307\u4ee4\u96c6\u7684\u533a\u522b\uff0c\u56e0\u6b64\u9009\u62e9 LA \u6216\u662f RV \u7684\u540c\u5b66\u90fd\u8981\u505a\u76f8\u540c\u7684\u51c6\u5907\u5de5\u4f5c\uff0c\u5b9e\u9a8c\u4efb\u52a1\u4e5f\u76f8\u540c\u3002</p> <p>\u8003\u8651\u5230\u672c\u6b21\u5b9e\u9a8c\u7684\u96be\u5ea6\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86\u57fa\u7840\u4ee3\u7801\uff0c\u5176\u4e2d\u5305\u542b\uff1a</p> <pre><code>lab7\n\u2502  generate_tb.py   #\u4eff\u771f\u6587\u4ef6\u751f\u6210\u811a\u672c\n\u2502\n\u2514\u2500src\n        bram.v      #BRAM\u6a21\u5757\n        cache_tb.v  #\u7531\u811a\u672c\u751f\u6210\u7684\u4eff\u771f\u6587\u4ef6\n        mem.v       #\u4e3b\u5b58\u6a21\u5757\n        mem_bram.v  #\u7531\u811a\u672c\u751f\u6210\u7684\u4e3b\u5b58\u5185\u90e8\u5b58\u50a8BRAM\u6a21\u5757\n        simple_cache.v  #\u76f4\u63a5\u6620\u5c04Cache\n</code></pre> <p>Note</p> <p><code>simple_cache.v</code> \u4e3a\u76f4\u63a5\u6620\u5c04 Cache \u7684\u4ee3\u7801\uff0c\u8bf7\u540c\u5b66\u4eec\u5728\u8fdb\u884c\u5b9e\u9a8c\u524d\u5148\u9605\u8bfb\u4ee3\u7801\uff0c\u4e86\u89e3 Cache \u7684\u57fa\u672c\u7ed3\u6784\u3002</p> <p><code>generate_tb.py</code> \u4e3a\u4eff\u771f\u6587\u4ef6\u751f\u6210\u811a\u672c\uff0c\u540c\u5b66\u4eec\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u8be5\u811a\u672c\u751f\u6210<code>cache_tb.v</code>\uff0c\u6d4b\u8bd5 Cache \u7684\u8bfb\u5199\u6027\u80fd\uff0c\u5728\u68c0\u67e5\u5b9e\u9a8c\u65f6\uff0c\u8bf7\u5f53\u573a\u4f7f\u7528\u8be5\u811a\u672c\u751f\u6210tb\u540e\u8fdb\u884c\u6d4b\u8bd5\u3002</p> <p>\u540e\u9762\u5b9e\u9a8c\u6559\u7a0b\u4e2d\u5c06\u4f1a\u8be6\u7ec6\u8bb2\u89e3\u5982\u4f55\u4f7f\u7528\u8fd9\u4e9b\u6587\u4ef6\u3002</p> <p>\u6ce8\u610f</p> <p>\u8bf7\u52ff\u5728\u4e0d\u7406\u89e3\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u8f7b\u6613\u4fee\u6539\u9664\u4e86<code>mem.v</code>\u548c<code>simple_cache.v</code>\u5916\u5b9e\u9a8c\u63d0\u4f9b\u7684\u4efb\u4f55\u4ee3\u7801\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5b9e\u9a8c\u7ed3\u679c\u4e0d\u7b26\u9884\u671f\u4ece\u800c\u65e0\u6cd5\u901a\u8fc7\u5b9e\u9a8c\u9a8c\u6536\u3002</p> <p>\u672c\u6b21\u5b9e\u9a8c\u4e0e\u5148\u524d\u5b9e\u9a8c\u76f8\u6bd4\u8f83\u4e3a\u72ec\u7acb\uff0c\u540c\u5b66\u4eec\u53ef\u4ee5\u81ea\u5df1\u5728 vivado \u4e0a\u5f00\u542f\u4e00\u4e2a\u65b0\u7684 project \u5e76\u628a\u5b9e\u9a8c\u4ed3\u5e93\u7684 src \u6e90\u7801\u6587\u4ef6\u5bfc\u5165\u5230 vivado \u4e2d\u8fdb\u884c\u4eff\u771f\u3002\u8bf7\u4fdd\u8bc1\u52a0\u5165vivado\u540e\u6a21\u5757\u7684\u5c42\u6b21\u5173\u7cfb\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"lab7/temple_code/#_3","title":"\u5b9e\u9a8c\u4ee3\u7801\u5185\u5bb9","text":"<p>\u5b9e\u9a8c\u63d0\u4f9b\u7684\u6a21\u5757\u5927\u6982\u53ef\u4ee5\u7406\u89e3\u4e3a\u5982\u4e0b\u6846\u56fe\uff1a </p> <p>\u5176\u4e2d CPU \u96c6\u6210\u5728\u4e0a\u5c42\u7684 <code>cache_tb.v</code> \u4e2d\uff0c<code>mem.v</code> \u548c <code>mem_bram.v</code> \u5bf9\u5e94\u4e3b\u5b58 Mem \u90e8\u5206\uff0c\u5269\u4e0b <code>bram.v</code> \u548c <code>simple_cache.v</code> \u6784\u6210\u7ed9\u51fa\u7684\u76f4\u63a5\u6620\u5c04 Cache \u3002</p> <p>\u672c\u5b9e\u9a8c\u5168\u90e8\u91c7\u7528\u201c\u5199\u56de+\u5199\u5206\u914d\u201d\u7684cache\u7b56\u7565\uff0c\u8fd9\u79cd\u7b56\u7565\u5728\u8bfb\u6216\u5199\u547d\u4e2d\u65f6\uff0c\u76f4\u63a5\u4ececache\u4e2d\u8bfb\u5199\u6570\u636e\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u4e0d\u9700\u8981\u5bf9CPU\u6d41\u6c34\u7ebf\u8fdb\u884cstall\uff1b</p> <p>\u6ce8\u610f</p> <p>\u8fd9\u91cc\u9700\u8981\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u6307\u7684\u662f\uff0cCache\u4f1a\u5728\u4e0b\u4e00\u4e2a\u5468\u671f\u628a\u6570\u636e\u8bfb\u51fa/\u5199\u5165\u3002(\u6ce8\u610f BRAM \u7684\u65f6\u5e8f\u6761\u4ef6\uff0c\u548c\u5206\u5e03\u5f0f\u5b58\u50a8\u5668\u80fd\u5f02\u6b65\u8bfb\u53d6\u4e0d\u540c\uff0cBRAM \u7684\u8bfb\u5199\u5747\u662f\u65f6\u949f\u540c\u6b65\u7684)</p> <p>\u5728\u53d1\u751f\u7f3a\u5931\u65f6\uff0c\u8bfb\u7f3a\u5931\u548c\u5199\u7f3a\u5931\u7684\u5904\u7406\u65b9\u6cd5\u662f\u76f8\u540c\u7684\uff0c\u90fd\u662f\u4ece\u4e3b\u5b58\u4e2d\u6362\u5165\u7f3a\u5931\u7684line\uff08line\u5373\u5757\uff09\u5230cache\u4e2d\uff08\u5f53\u7136\uff0c\u5982\u679c\u8981\u6362\u5165\u7684line\u5df2\u7ecf\u88ab\u4f7f\u7528\u4e86\uff0c\u5e76\u4e14\u810f\uff0c\u5219\u9700\u8981\u5728\u6362\u5165\u4e4b\u524d\u8fdb\u884c\u6362\u51fa\uff09\uff0c\u518d\u4ececache\u4e2d\u8bfb\u5199\u6570\u636e\u3002\u603b\u7ed3\u4e0b\u6765\uff0ccache\u5e94\u8be5\u7ef4\u62a4\u5982\u4e0b\u7684\u72b6\u6001\u673a\uff1a</p> <p></p> <p>\u6211\u4eec\u63d0\u4f9b\u7684\u7b80\u5355\u76f4\u63a5\u6620\u5c04\u7684cache\u4e2d\u5c31\u6709\u8fd9\u6837\u7684\u72b6\u6001\u673a\u3002\u5f53\u6ca1\u6709\u8bfb/\u5199\u8bf7\u6c42\u65f6\uff0ccache\u4fdd\u6301\u5f85\u673a\u72b6\u6001\uff0c\u5f53CPU\u53d1\u51fa\u8bfb/\u5199\u8bf7\u6c42\u65f6\uff0ccache\u68c0\u67e5\u662f\u5426\u547d\u4e2d\uff0c\u5982\u679c\u547d\u4e2d\u5219\u7acb\u523b\u54cd\u5e94\u8bfb/\u5199\u8bf7\u6c42\u3002\u5982\u679c\u7f3a\u5931\uff0c\u5219\u8fdb\u884c\u6362\u5165\uff08\u6362\u5165\u4e4b\u524d\u53ef\u80fd\u9700\u8981\u5148\u6362\u51fa\uff09\uff0c\u5728cache\u8fdb\u884c\u6362\u51fa\u6362\u5165\u65f6\uff0ccache\u65e0\u6cd5\u54cd\u5e94CPU\u5f53\u524d\u7684\u8bfb\u5199\u8bf7\u6c42\uff0c\u56e0\u6b64\u9700\u8981\u5411CPU\u53d1\u51famiss=1\u7684\u4fe1\u53f7\uff0cCPU\u9700\u8981\u4f7f\u7528\u8be5\u4fe1\u53f7\u63a7\u5236\u6240\u6709\u6d41\u6c34\u6bb5\u8fdb\u884cstall\u3002\u76f4\u5230cache\u5b8c\u6210\u6362\u51fa\u6362\u5165\u540e\u91cd\u56de\u5c31\u7eea\u72b6\u6001\uff0c\u6b64\u65f6cache\u5c31\u80fd\u54cd\u5e94\u8fd9\u4e2a\u8bfb\u5199\u8bf7\u6c42\u3002</p>"},{"location":"lab7/temple_code/#cache","title":"Cache\u5bf9\u5916\u63a5\u53e3\u4e0e\u65f6\u5e8f","text":"<p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u6682\u65f6\u628acache\u5f53\u4f5c\u9ed1\u7bb1\uff0c\u770b\u770b\u5b83\u5bf9\u5916\u7684\u63a5\u53e3\u548c\u65f6\u5e8f\u662f\u600e\u6837\u7684\u3002\u6211\u4eec\u63d0\u4f9b\u7684\u7b80\u5355cache\u7684\u5bf9\u5916\u63a5\u53e3\u5982\u4e0b\u3002\u5f53\u4f60\u5bf9cache\u8fdb\u884c\u4fee\u6539\u65f6\uff0c\u4e5f\u8981\u9075\u5faa\u8fd9\u4e2a\u63a5\u53e3\u548c\u65f6\u5e8f\u3002</p> <pre><code>module cache #(\n    parameter INDEX_WIDTH       = 3,    // Cache\u7d22\u5f15\u4f4d\u5bbd 2^3=8\u884c\n    parameter LINE_OFFSET_WIDTH = 2,    // \u884c\u504f\u79fb\u4f4d\u5bbd\uff0c\u51b3\u5b9a\u4e86\u4e00\u884c\u7684\u5bbd\u5ea6 2^2=4\u5b57\n    parameter SPACE_OFFSET      = 2,    // \u4e00\u4e2a\u5730\u5740\u7a7a\u95f4\u53601\u4e2a\u5b57\u8282\uff0c\u56e0\u6b64\u4e00\u4e2a\u5b57\u9700\u89814\u4e2a\u5730\u5740\u7a7a\u95f4\uff0c\u7531\u4e8e\u5047\u8bbe\u4e3a\u6574\u5b57\u8bfb\u53d6\uff0c\u5904\u7406\u5730\u5740\u7684\u65f6\u5019\u53ef\u4ee5\u9ed8\u8ba4\u540e\u4e24\u4f4d\u4e3a0\n    parameter WAY_NUM           = 1     // Cache N\u8def\u7ec4\u76f8\u8054(N=1\u7684\u65f6\u5019\u662f\u76f4\u63a5\u6620\u5c04)\n)(\n    input                     clk,    \n    input                     rstn,\n    /* CPU\u63a5\u53e3 */\n    // \u6ce8\u610f\uff1a\u8fd9\u91cc\u7684 CPU \u662f\u96c6\u6210\u5728 cache_tb.v \u4e2d\u7684\uff0c\u5927\u5bb6\u4e0d\u9700\u8981\u771f\u7684\u5c06 cache \u8fde\u63a5\u5230 CPU \u4e0a\u3002  \n    input [31:0]              addr,   // CPU\u5730\u5740\n    input                     r_req,  // CPU\u8bfb\u8bf7\u6c42\n    input                     w_req,  // CPU\u5199\u8bf7\u6c42\n    input [31:0]              w_data,  // CPU\u5199\u6570\u636e\n    output [31:0]             r_data,  // CPU\u8bfb\u6570\u636e\n    output reg                miss,   // \u7f13\u5b58\u672a\u547d\u4e2d\n    /* \u5185\u5b58\u63a5\u53e3 */  \n    output reg                     mem_r,  // \u5185\u5b58\u8bfb\u8bf7\u6c42\n    output reg                     mem_w,  // \u5185\u5b58\u5199\u8bf7\u6c42\n    output reg [31:0]              mem_addr,  // \u5185\u5b58\u5730\u5740\n    output reg [127:0] mem_w_data,  // \u5185\u5b58\u5199\u6570\u636e \u4e00\u6b21\u5199\u4e00\u884c\n    input      [127:0] mem_r_data,  // \u5185\u5b58\u8bfb\u6570\u636e \u4e00\u6b21\u8bfb\u4e00\u884c\n    input                          mem_ready  // \u5185\u5b58\u5c31\u7eea\u4fe1\u53f7\n);\n</code></pre> <p>\u7531\u4e8e\u6211\u4eecCache\u4e2d\u5b58\u50a8Tag\u548cData\u5747\u4f7f\u7528Bram\u8fdb\u884c\u5b9e\u73b0\uff0c\u56e0\u6b64Cache\u5728\u63a5\u53d7\u5230\u6765\u81eaCPU\u7684\u8bfb/\u5199\u8bf7\u6c42\u65f6\uff0c\u9700\u8981\u82b1\u8d39\u4e00\u4e2a\u5468\u671f\u53bb\u8bfb\u53d6\u5bf9\u5e94\u7d22\u5f15index\u7684Tag\u548cData\uff0c\u5e76\u4e0e\u8bf7\u6c42\u5730\u5740addr\u4e2d\u5206\u79bb\u51fa\u7684tag\u8fdb\u884c\u6bd4\u5bf9\uff1a</p> <ul> <li>\u5982\u679c\u76f8\u540c\u5219\u4e3ahit\uff0cmiss\u4fe1\u53f7\u4e3a0\uff1b</li> <li>\u5982\u679c\u4e0d\u540c\uff0cmiss\u4fe1\u53f7\u53d8\u4e3a1\uff0c\u6b64\u65f6\u4ee3\u8868cache\u672a\u547d\u4e2d\uff0c\u6b64\u65f6CPU\u4f1astall\u4f4f\u6240\u6709\u884c\u4e3a\uff0c\u5c06\u5f53\u524d\u8bf7\u6c42\u4fe1\u53f7\u4fdd\u6301\u5230miss\u53d8\u4e3a0\uff08\u6ce8\u610f\u6b64\u65f6cpu\u7684\u8bf7\u6c42\u4fe1\u53f7\u4e0ecache\u5f53\u524d\u6b63\u5728\u5904\u7406\u7684\u4fe1\u53f7\u5e76\u4e0d\u662f\u4e00\u4e2a\u4fe1\u53f7\uff09</li> </ul>"},{"location":"lab7/temple_code/#_4","title":"\u4e3b\u5b58\u65f6\u5e8f","text":"<p>\u4e3b\u5b58\u4ee3\u7801\u7531\u6211\u4eec\u63d0\u4f9b\uff0c\u5b83\u88ab\u6211\u4eec\u63d0\u4f9b\u7684\u7b80\u5355cache\u6240\u8c03\u7528\uff0c\u662f\u4f7f\u7528BRAM\u6a21\u4eff\u7684DDR\u3002\u5305\u62ecmem.v\u4e0emem_bram.v\u4e24\u4e2a\u6587\u4ef6\uff0c\u9876\u5c42\u6587\u4ef6\u662fmem.v\uff0c\u5b83\u4ee5line\u4e3a\u8bfb\u5199\u5355\u5143\uff0c\uff08\u800c\u4e0d\u662f\u4ee5word\u4e3a\u8bfb\u5199\u5355\u5143\uff09\uff0c\u4e14\u8bfb\u5199\u5468\u671f\u5f88\u957f\uff0c\u672c\u5b9e\u9a8c\u8bbe\u7f6e\u4e3a50\u4e2a\u65f6\u949f\u5468\u671f\u3002</p> <p>\u6ce8\u610f</p> <p>\u4e3b\u5b58\u7684\u8bfb\u5199\u5468\u671f\u5f88\u957f\uff0c\u672c\u5b9e\u9a8c\u8bbe\u7f6e\u4e3a50\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u4f46\u662f\u4e3a\u4e86\u65b9\u4fbf\u6d4b\u8bd5\uff0c\u53ef\u4ee5\u5728\u4eff\u771f\u7684\u65f6\u5019\u7ed9mem.v\u4e2d\u7684cnt_max\u8bbe\u7f6e\u4e3a5\u6216\u8005\u5176\u4ed6\u6765\u51cf\u5c11\u4eff\u771f\u65f6\u95f4\u3002</p> <p>mem.v\u7684\u8f93\u5165\u8f93\u51fa\u63a5\u53e3\u5b9a\u4e49\u5982\u4e0b</p> <pre><code>module mem#(\n    parameter INDEX_WIDTH       = 3,    // Cache\u7d22\u5f15\u4f4d\u5bbd 2^3=8\u884c\n    parameter LINE_OFFSET_WIDTH = 2,    // \u884c\u504f\u79fb\u4f4d\u5bbd\uff0c\u51b3\u5b9a\u4e86\u4e00\u884c\u7684\u5bbd\u5ea6 2^2=4\u5b57\n    parameter SPACE_OFFSET      = 2,    // \u4e00\u4e2a\u5730\u5740\u7a7a\u95f4\u53601\u4e2a\u5b57\u8282\uff0c\u56e0\u6b64\u4e00\u4e2a\u5b57\u9700\u89814\u4e2a\u5730\u5740\u7a7a\u95f4\uff0c\u7531\u4e8e\u5047\u8bbe\u4e3a\u6574\u5b57\u8bfb\u53d6\uff0c\u5904\u7406\u5730\u5740\u7684\u65f6\u5019\u53ef\u4ee5\u9ed8\u8ba4\u540e\u4e24\u4f4d\u4e3a0\n    parameter MEM_ADDR_WIDTH    = 10,   // \u4e3a\u4e86\u7b80\u5316\uff0c\u8fd9\u91cc\u5047\u8bbe\u5185\u5b58\u5730\u5740\u5bbd\u5ea6\u4e3a10\u4f4d\uff08CPU\u8bf7\u6c42\u5730\u5740\u4ecd\u7136\u662f32\u4f4d\uff0c\u53ea\u4e0d\u8fc7\u6211\u4eec\u8fd9\u91cc\u7b80\u5316\u5904\u7406\uff0c\u622a\u65ad\u4e86\u9ad8\u4f4d\uff09 \n    parameter WAY_NUM           = 1     // Cache N\u8def\u7ec4\u76f8\u8054(N=1\u7684\u65f6\u5019\u662f\u76f4\u63a5\u6620\u5c04)\n)(\n    input  clk,\n    input  rstn,\n    input  mem_r,\n    input  mem_w,\n    input  [31:0] mem_addr,\n    input  [127:0] mem_w_data,  // \u5185\u5b58\u5199\u6570\u636e \u4e00\u6b21\u5199\u4e00\u884c\n    output [127:0] mem_r_data,  // \u5185\u5b58\u8bfb\u6570\u636e \u4e00\u6b21\u8bfb\u4e00\u884c\n    output reg                         mem_ready  // \u5185\u5b58\u5c31\u7eea\u4fe1\u53f7\n);\n</code></pre> <p>\u5f53cache\u53d1\u8d77\u5bf9mem\u7684\u8bfb/\u5199\u8bf7\u6c42\u65f6\uff0cmem\u4f1a\u5ef6\u65f6\u5bf9\u5e94\u7684\u5468\u671f\uff0c\u5728\u5ef6\u65f6\u7ed3\u675f\u540e\u62c9\u9ad8mem_ready\u4fe1\u53f7\uff0c\u5982\u679c\u662f\u8bfb\u8bf7\u6c42\u5219\u4f1a\u540c\u65f6\u7ed9\u51famem_r_data(\u6ce8\u610f\u4fe1\u53f7\u5bbd\u5ea6\u4e3a\u4e00\u884c)\uff1b\u5982\u679c\u662f\u5199\u8bf7\u6c42\u5219\u4f1a\u5728\u53d1\u51famem_ready\u4fe1\u53f7\u7684\u540c\u65f6\u5c06mem_w_data\u5199\u5165\u5230\u4e3b\u5b58\u4e2d\u3002</p>"},{"location":"lab7/temple_code/#cache_1","title":"\u76f4\u63a5\u6620\u5c04Cache","text":"<p>\u672c\u8282\u7684\u5185\u5bb9\u52a1\u5fc5\u7ed3\u5408\u6211\u4eec\u63d0\u4f9b\u7684cache\u4ee3\u7801\u53bb\u9605\u8bfb\u3002\u8981\u7406\u89e3cache\u9996\u5148\u8981\u770b32bit addr\u662f\u5982\u4f55\u5206\u5272\u7684\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u56fe\uff1a</p> <p></p> <p>\u6ce8\u610f\u4ee3\u7801\u548c\u56fe\u4e2d\u793a\u610f\u7684\u533a\u522b</p> <p>\u6211\u4eec\u7ed9\u51fa\u7684\u4ee3\u7801\u5177\u4f53\u5b9e\u73b0\u548c\u4e0a\u56fe\u7684\u4e00\u4e9b\u53d8\u91cf\u79f0\u547c\u6709\u533a\u522b\uff0c\u8bf7\u4ed4\u7ec6\u9605\u8bfb\u4ee3\u7801\u5e76\u6ce8\u610f\u533a\u5206\uff0c\u4e0a\u56fe\u4ec5\u4ec5\u662f\u4e3a\u4e86\u5e2e\u52a9\u7406\u89e3\u3002</p> <p>word_addr: \u5b57\u8282\u5730\u5740\uff0c\u5373\u6307\u5b9a\u5b57\u8282\u662fword\\(\u5b57\\)\u4e2d\u7684\u7b2c\u51e0\u4e2a,\u5176\u5bbd\u5ea6\u5bf9\u5e94\u4ee3\u7801\u4e2d\u7684SPACE_OFFSET\u53c2\u6570\u3002\u56fa\u5b9a\u4e3a2bit\u3002\u4e3a\u4e86\u4ee3\u7801\u7b80\u4fbf\uff0c\u6211\u4eec\u5b9e\u9a8c\u4e0d\u8003\u8651\u534a\u5b57\u548c\u5b57\u8282\u7684\u8bfb\u5199\u6307\u4ee4\uff0c\u53ea\u4f7f\u7528lw\u548csw\u6307\u4ee4\u505a\u5185\u5b58\u8bfb\u5199\u3002</p> <p>line_addr: line\u5185\u5730\u5740\uff0c\u5176\u957f\u5ea6\u7531\u53c2\u6570LINE_OFFSET_WIDTH\u51b3\u5b9a\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5e0c\u671b\u6bcf\u4e2aline\u4e2d\u670916\u4e2aword\uff0c\u5219LINE_ADDR_LEN\u5e94\u8bbe\u4e3a4\uff0c\u56e0\u4e3a2^4=16\u3002\u5728cache\u8bfb\u5199\u8fc7\u7a0b\u4e2d\uff0cline_addr\u7528\u4e8e\u6307\u793a\u8981\u8bfb\u5199\u7684word\u662fline\u4e2d\u7684\u54ea\u4e00\u4e2aword\u3002</p> <p>Note</p> <p>\u5728\u4ee3\u7801\u4e2d\uff0cword_offset\u5bf9\u5e94line_addr\uff0c\u4e3a\u4e86\u67e5\u627e\u6570\u636e\u5728\u8fd9\u4e00\u884c\u4e2d\u504f\u79fb\u4e86\u591a\u5c11\u4e2a\u5b57\u3002</p> <p>set_addr: line\u5730\u5740\uff0c\u5176\u957f\u5ea6\u7531\u53c2\u6570INDEX_WIDTH\u51b3\u5b9a\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5e0c\u671bcache\u4e2d\u67094\u4e2acache\u7ec4\uff0c\u5219SET_ADDR_LEN\u5e94\u8be5\u8bbe\u7f6e\u4e3a2\uff0c\u56e0\u4e3a2^2=4\u3002\u5728cache\u8bfb\u5199\u8fc7\u7a0b\u4e2d\uff0cset_addr\u8d1f\u8d23\u5c06\u8bfb\u5199\u8bf7\u6c42\u8def\u7531\u5230\u6b63\u786e\u7684\u7ec4\u3002</p> <p>Note</p> <p>\u5177\u4f53\u5b9e\u73b0\u4ee3\u7801\u4e2d\uff0cr_index\u548cw_index\u5bf9\u5e94\u7684\u5730\u5740\u622a\u53d6\u5c31\u662fset_addr\u90e8\u5206\uff0c\u4e3a\u4e86\u7d22\u5f15\u67e5\u627eCache\u7684\u7b2c\u51e0\u884c\u3002</p> <p>tag_addr: \u662f\u8be532\u4f4d\u5730\u5740\u7684TAG\u3002\u5f53\u53d1\u751f\u8bfb\u5199\u8bf7\u6c42\u65f6\uff0ccache\u5e94\u8be5\u628a32\u4f4d\u5730\u5740\u4e2d\u7684tag_addr\u53d6\u51fa\uff0c\u4e0ecache\u4e2d\u7684TAG\u6bd4\u8f83\uff0c\u5982\u679c\u76f8\u7b49\u5219\u547d\u4e2d\u3002\u5982\u679c\u4e0d\u7b49\u5219\u7f3a\u5931\u3002</p> <p>unused_addr: 32\u4f4d\u5730\u5740\u4e2d\u7684\u9ad8\u4f4d\uff0c\u76f4\u63a5\u4e22\u5f03\u3002\uff08\u672c\u6b21\u5b9e\u9a8c\u5e76\u4e0d\u4f1a\u51fa\u73b0\uff0c\u8bf7\u5c06\u9ad8\u4f4d\u5168\u90e8\u622a\u53d6\u4e3aTag\u5c31\u597d\u3002\uff09</p> <p>Note</p> <p>\u4e0e\u56fe\u4e2d\u4e0d\u540c\u7684\u662f\uff0c\u672c\u6b21\u5b9e\u73b0\u6211\u4eec\u4e0d\u9700\u8981\u8003\u8651tag\u7684\u957f\u5ea6\uff0c\u5c06\u9ad8\u4f4d\u5168\u90e8\u622a\u53d6\u4e3aTag\u5c31\u597d\u3002</p> <p>\u5177\u4f53\u5173\u4e8e\u8fd9\u90e8\u5206\u5730\u5740\u5904\u7406\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>// \u5bf9\u8f93\u5165\u5730\u5740\u8fdb\u884c\u89e3\u7801\nassign r_index = addr[INDEX_WIDTH+LINE_OFFSET_WIDTH+SPACE_OFFSET - 1: LINE_OFFSET_WIDTH+SPACE_OFFSET];\nassign w_index = addr_buf[INDEX_WIDTH+LINE_OFFSET_WIDTH+SPACE_OFFSET - 1: LINE_OFFSET_WIDTH+SPACE_OFFSET];\nassign tag = addr_buf[31:INDEX_WIDTH+LINE_OFFSET_WIDTH+SPACE_OFFSET];\nassign word_offset = addr_buf[LINE_OFFSET_WIDTH+SPACE_OFFSET-1:SPACE_OFFSET];\n</code></pre> <p>\u6ce8\u610f</p> <p>\u6ce8\u610faddr\u548caddr_buf\u7684\u533a\u522b\uff0c\u4e00\u5b9a\u8981\u641e\u6e05\u695a\u54ea\u4e2a\u5730\u5740\u624d\u662fcache\u5f53\u524d\u5728\u5904\u7406\u7684\u8bf7\u6c42\u5730\u5740\u3002</p> <p>\u5728\u6211\u4eec\u63d0\u4f9b\u7684\u7b80\u5355cache\u4e2d\uff0cline size\u53ef\u4ee5\u901a\u8fc7\u8c03\u8282LINE_OFFSET_WIDTH\u53bb\u6539\u53d8\uff0c\u7ec4\u6570\u53ef\u4ee5\u901a\u8fc7\u8c03\u8282INDEX_WIDTH\u53bb\u6539\u53d8\u3002\u8fd9\u91cc\uff0c\u4ee5LINE_OFFSET_WIDTH=3\uff0cINDEX_WIDTH=2, TAG_ADDR=12\u4e3a\u4f8b\uff0c\u7ed9\u51fa\u76f4\u63a5\u6620\u5c04cache\u7684\u7ed3\u6784\u56fe\uff1a</p> <p></p> <p>\u8be5\u56fe\u4ec5\u4f9b\u53c2\u8003</p> <p>\u5728\u5177\u4f53\u4ee3\u7801\u5b9e\u73b0\u4e2d\u6211\u4eec\u5c06Tag\u548cData\u5206\u5f00\u5b58\u50a8\uff0cTag Bram\u4e2d\u5b58\u50a8\u6709\u6548\u4f4d\uff08valid\uff09\u3001\u810f\u4f4d\uff08dirty\uff09\u548c\u6807\u7b7e\uff08tag\uff09\uff0c Data Bram\u4e2d\u5b58\u50a8\u5bf9\u5e94\u7684\u6570\u636e\u884c\uff08line\uff09\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u76f4\u63a5\u6620\u5c04\u662f\u7ec4\u76f8\u8fde\u7684\u7279\u6b8a\u60c5\u51b5\uff0c\u76f8\u5f53\u4e8e1\u8def\u7ec4\u76f8\u8fde\u3002\u56e0\u6b64\u6bcf\u4e2aset\u4e2d\u53ea\u67091\u4e2aline\u3002\u6bcf\u4e2a line\u662f8\u4e2aword\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u6bcf\u4e2aline\u8fd8\u9700\u89811\u4e2aTAG\uff0c\u4e00\u4e2adirty\uff08\u810f\u4f4d\uff09\uff0c\u4e00\u4e2avalid\uff08\u6709\u6548\u4f4d\uff09\u3002</p> <p>Cache\u7684\u5927\u81f4\u5de5\u4f5c\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u5f53\u6709\u8bfb\u5199\u8bf7\u6c42\u65f6\uff0c\u6839\u636e\u5730\u5740\u4e2d\u7684r_index\u5b57\u6bb5\uff0c\u51b3\u5b9a\u8981\u5230\u54ea\u4e2aline\u4e2d\u8bfb\u5199\u6570\u636e\u3002</li> <li>\u7136\u540e\uff0c\u67e5\u770b\u8be5line\u662f\u5426valid</li> <li>\u5982\u679cvalid=0\u5219\u4e00\u5b9a\u662f\u7f3a\u5931\u3002</li> <li>\u5982\u679cvalid=1\uff0c\u8bf4\u660e\u8fd9\u4e2aline\u662f\u6709\u6548\u7684\uff0c\u9700\u8981\u6bd4\u8f83\u8fd9\u4e2aline\u7684tag\u548c\u5730\u5740\u4e2d\u7684tag\u662f\u5426\u76f8\u540c\u3002</li> <li>\u76f8\u540c\u5219\u547d\u4e2d\uff0c\u4e0d\u540c\u5219\u7f3a\u5931\u3002</li> <li>\u5982\u679c\u547d\u4e2d\uff0c\u5219\u7acb\u5373\u54cd\u5e94\u8bfb\u5199\u8bf7\u6c42\u3002\u5f53\u7136\uff0c\u5982\u679c\u662f\u5199\u8bf7\u6c42\uff0c\u8981\u628adirty\u7f6e1\uff0c\u8868\u660e\u8fd9\u4e2aline\u5df2\u7ecf\u88ab\u4fee\u6539\u8fc7\u3002</li> <li>\u5982\u679ccache\u7f3a\u5931\uff0c\u8981\u4ece\u4e3b\u5b58\u4e2d\u6362\u5165\u8be5\u5757\u5230\u8fd9\u4e2acache line\u4e2d\u3002\u5728\u6362\u5165\u524d\uff0c\u4e5f\u9700\u8981\u8003\u8651\u662f\u5426\u9700\u8981\u5148\u6362\u51fa\u3002\u5982\u679cvalid=1\u4e14dirty=1\uff0c\u8bf4\u660e\u8be5cache\u5757\u662f\u6709\u6548\u7684\u5e76\u4e14\u5df2\u7ecf\u88ab\u4fee\u6539\u8fc7\uff0c\u5219\u9700\u8981\u5148\u8fdb\u884c\u6362\u51fa\uff0c\u5c06\u810f\u5757\u5199\u56de\u5230\u4e3b\u5b58\u4e2d\uff0c\u518d\u6362\u5165\u65b0\u7684\u5757\u3002\u5982\u679c\u8fd9\u4e2a\u5757\u662f\u5e72\u51c0\u7684\uff0c\u5219\u76f4\u63a5\u6362\u5165\u65b0\u7684\u5757\u8986\u76d6\u539f\u6765\u7684\u5757\u5c31\u597d\u3002</li> </ol>"},{"location":"lab7/temple_code/#bram","title":"BRAM \u6a21\u5757\u8bf4\u660e\uff1a","text":"<ul> <li>\u76f8\u8f83\u4e8e DRAM, \u5728\u505a\u8bfb\u64cd\u4f5c\u7684\u65f6\u5019\uff0cBRAM\u548cDRAM\u4e0d\u540c\u3002DRAM\u662f\u7ec4\u5408\u903b\u8f91\u76f4\u63a5\u8f93\u51fa\uff0cBRAM\u5219\u662f\u65f6\u5e8f\u903b\u8f91\u8f93\u51fa\u3002 </li> <li>\u7ed9\u51fa\u7684 BRAM \u662f\u91c7\u53d6\u5148\u8bfb\u540e\u5199\u7684\u7b56\u7565\uff0c\u4e5f\u5c31\u662f\u8bf4\u5f53\u540c\u65f6\u8bfb\u53d6\u548c\u5199\u5165\u540c\u4e00\u4e2a\u5730\u5740\u65f6\uff0c\u4f1a\u8bfb\u51fa\u65e7\u7684\u6570\u636e\u800c\u4e0d\u662f\u65b0\u7684\u6570\u636e\uff0c\u8bf7\u5728\u5b8c\u6210\u5b9e\u9a8c\u4e2d\u907f\u514d\u51fa\u73b0\u540c\u65f6\u8bfb\u5199\u7684\u8fd9\u79cd\u60c5\u51b5\u3002 </li> </ul> <p>\u5173\u4e8e\u4ee5\u4e0a\u4e24\u70b9\u8bf7\u81ea\u884c\u9605\u8bfb\u76f8\u5173\u4ee3\u7801(bram.v / mem_bram.v)\u7406\u89e3\u3002</p>"},{"location":"lab7/temple_code/#generate_tbpy","title":"\u4eff\u771f\u6d4b\u8bd5\u6587\u4ef6\u751f\u6210 generate_tb.py","text":"<p>\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6d4b\u8bd5\u6587\u4ef6\u751f\u6210\u811a\u672c generate_tb.py\uff0c\u7528\u4e8e\u751f\u6210\u6d4b\u8bd5\u6587\u4ef6 cache_tb.v\uff0c\u8be5\u6587\u4ef6\u7528\u4e8e\u6d4b\u8bd5 Cache \u7684\u8bfb\u5199\u6027\u80fd\uff0c\u5176\u4e2d\u53ef\u4ee5\u8c03\u8bd5\u7684\u53c2\u6570\u5982\u4e0b\uff1a</p> <p><pre><code># \u5b9a\u4e49\u4e00\u4e9b\u4eff\u771f\u6587\u4ef6\u53c2\u6570\nMODE = 0 # 0:\u968f\u673a\u8bfb\u5199 1\uff1a\u6a21\u62dfCPU\u4f2a\u987a\u5e8f\u8bfb\u5199\uff08\u4f1a\u6709\u4e0d\u5b9a\u671f\u8df3\u8f6c\uff0c\u6982\u7387\u4e3aBranchP\uff09\nBranchP = 0.1 # \u8df3\u8f6c\u6982\u7387\uff0c\u4ec5\u5728MODE=1\u65f6\u6709\u6548\uff0c\u5f53BranchP = 0\u65f6\uff0c\u4e3a\u987a\u5e8f\u8bfb\u5199\u4e0d\u4f1a\u8df3\u8f6c\nREAD_NUM   = 2000 # \u8bfb\u53d6\u6b21\u6570\nWRITE_NUM  = 1000 # \u5199\u5165\u6b21\u6570\n\n# \u5185\u5b58\u53c2\u6570\nWORD_WIDTH = 32 # \u5185\u5b58\u6570\u636e\u5bbd\u5ea6\nDATA_WIDTH = 128 # \u4e00\u884c\u6570\u636e\u5bbd\u5ea6\n\n# cache\u53c2\u6570\nINDEX_WIDTH = 3\nLINE_OFFSET_WIDTH = 2\nSPACE_OFFSET = 2\nMEM_ADDR_WIDTH = 10\nWAY_NUM = 1\n</code></pre> \u8bf7\u786e\u4fdd\u53c2\u6570\u548c\u4f60\u81ea\u5df1\u7684cache\u53c2\u6570\u4e00\u81f4\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4eff\u771f\u5931\u8d25\u3002</p> <p>\u4e00\u5b9a\u8981\u6ce8\u610f\u6587\u4ef6\u7684\u751f\u6210\u66ff\u6362</p> <p>\u8bf7\u4e00\u5b9a\u8981\u5728python\u811a\u672c\u6240\u5728\u7684\u76ee\u5f55\u4e0b\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u51fa\u73b0\u6587\u4ef6\u8def\u5f84\u9519\u8bef\u3002\u8fd0\u884c\u540e\u8be5python\u811a\u672c\u4f1a\u5728\u5176\u6240\u5728\u76ee\u5f55\u4e0bsrc\u6587\u4ef6\u5939\u4e2d\u751f\u6210cache_tb.v\u548cmem_bram.v\u6587\u4ef6\uff0c\u8bf7\u4e00\u5b9a\u8981\u6ce8\u610f\u8fd9\u4e24\u4e2a\u6587\u4ef6\u7684\u751f\u6210\u66ff\u6362\uff0c\u4ee5\u514d\u51fa\u73b0\u9519\u8bef\u3002\uff08\u6309\u7406\u6765\u8bb2\u5e94\u8be5\u4fdd\u6301\u5b9e\u9a8c\u4ee3\u7801\u7684\u539f\u59cb\u6027\uff0c\u4e0d\u5e94\u8be5\u4fee\u6539\u6587\u4ef6\u7684\u76f8\u5bf9\u4f4d\u7f6e\uff0c\u5728\u521b\u5efa\u9879\u76ee\u662f\u76f4\u63a5\u5bfc\u5165 src \u6587\u4ef6\u5939\u5373\u53ef\uff0c\u6ce8\u610f\u52fe\u9009\u4e0d\u8981\u590d\u5236\u6587\u4ef6\u5230\u9879\u76ee\u4e2d\uff09</p> <p>Note</p> <p>MODE = 0 \u4f1a\u751f\u6210\u968f\u673a\u8bfb\u5199\u5e8f\u5217\uff0c\u9002\u7528\u4e8e\u6d4b\u8bd5 Cache \u7684\u6b63\u786e\u6027\uff0c \u56e0\u4e3a\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cCache \u7684\u66ff\u6362\u7b56\u7565\u4f1a\u88ab\u5145\u5206\u6d4b\u8bd5\uff1b</p> <p>\u800c MODE = 1 \u4f1a\u751f\u6210\u4f2a\u987a\u5e8f\u8bfb\u5199\u5e8f\u5217\uff0c\u9002\u7528\u4e8e\u6d4b\u8bd5 Cache \u7684\u6027\u80fd\uff0c\u56e0\u4e3a\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cCache \u7684\u547d\u4e2d\u7387\u4f1a\u5f88\u9ad8\uff0c\u4fbf\u4e8e\u4f60\u5728\u5b9e\u9a8c\u62a5\u544a\u4e2d\u5206\u6790\u4e0d\u540c\u66ff\u6362\u7b56\u7565\u7684\u4f18\u52a3\u3002</p> <p>\u6ce8\u610f</p> <p>\u6ce8\u610f\u5728N\u8def\u7ec4\u76f8\u8fde\u7684\u4eff\u771f\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679cN\u8fc7\u5927\uff0c\u53ef\u80fd\u5bfc\u81f4Cache\u5bb9\u91cf\u5927\u4e8e\u5185\u5b58\u5bb9\u91cf\u4ece\u800c\u51fa\u73b0\u65e0\u6cd5\u5b8c\u5168\u9a8c\u8bc1\u5404\u79cd\u60c5\u51b5\u7684\u95ee\u9898\uff0c\u8bf7\u5c06 generate_tb.py \u4e2d\u7684 MEM_ADDR_WIDTH \u8c03\u5927\u4e00\u4e9b\uff0c \u4ee5\u4fbf\u8c03\u5927\u5185\u5b58\u5bb9\u91cf\u3002</p> <p>\u8fd9\u90e8\u5206\u9700\u8981\u4f60\u81ea\u5df1\u659f\u914c\uff0c\u8ba1\u7b97Cache\u5927\u5c0f\uff0c\u8c03\u6574\u4e3b\u5b58\u5927\u5c0f\uff0c\u4e00\u822c\u6765\u8bb2\uff0c\u4e3b\u5b58\u5927\u5c0f\u5e94\u8be5\u8981\u8fdc\u8fdc\u5927\u4e8eCache\u5927\u5c0f\u3002</p>"},{"location":"lab7/temple_code/#cache_tbv-debug","title":"\u6d4b\u8bd5\u6587\u4ef6 cache_tb.v \u4e2d\u5e38\u7528 debug \u4fe1\u53f7\u8bf4\u660e\uff0c\u4fbf\u4e8e\u540c\u5b66\u4eec\u4eff\u771f:","text":"<ul> <li>op: 0\u8868\u793a\u8bfb\uff0c1\u8868\u793a\u5199\uff0c\u4ee3\u8868\u5f53\u524d\u5468\u671f\u4e2dcache\u5e94\u8be5\u63d0\u4ea4\u7684\u64cd\u4f5c\u3002</li> <li>data: \u4ee3\u8868\u5f53\u524d\u5468\u671f\u4e2dcache\u5e94\u8be5\u63d0\u4ea4\u7684\u6570\u636e\u3002\uff08\u6ce8\u610f\uff0c\u6211\u4eec\u53ea\u68c0\u6d4b\u8bfb\u53d6\u7684\u6570\u636e\u662f\u5426\u6b63\u786e\uff0c\u5199\u5165\u64cd\u4f5c\u65f6data\u4e3a\u5e94\u8be5\u5199\u5165\u7684\u6570\u636e\uff0c\u6ca1\u6709\u4ec0\u4e48\u610f\u4e49\uff09</li> <li>diff: \u9ed8\u8ba4\u4e3a0\uff0c\u5f53\u8bfb\u53d6\u7684\u6570\u636e\u4e0e\u5e94\u8be5\u8bfb\u53d6\u7684\u6570\u636e\u4e0d\u540c\u65f6\uff0cdiff\u4f1a\u88ab\u7f6e\u4e3a1\uff0c\u4ee3\u8868\u8bfb\u53d6\u9519\u8bef\uff0c\u7528\u4e8e\u5b9a\u4f4d\u9519\u8bef</li> <li>test_cnt: \u4ee3\u8868\u5f53\u524d\u7684\u6d4b\u8bd5\u5468\u671f\uff0c\u7528\u4e8e\u5b9a\u4f4d\u9519\u8bef\uff08\u4e0d\u8fc7\u7531\u4e8ecache\u662f\u76f8\u5f53\u4e8e\u6d41\u6c34\u4e00\u7ea7\u7684\uff0c\u8fd9\u91cc\u7684cnt\u76f8\u5f53\u4e8e\u9886\u5148\u4e00\u4e2a\u5468\u671f\uff0ccache\u5728\u5904\u7406\u7684\u5730\u5740\u548c\u6570\u636e\u90fd\u662f test_cnt-1 \u65f6\u7684\u5730\u5740\u548c\u6570\u636e\uff09</li> <li>\u5176\u4f59\u4fe1\u53f7\u8fd8\u8bf7\u540c\u5b66\u4eec\u81ea\u884c\u9605\u8bfb\u4ee3\u7801\u7406\u89e3\u3002</li> </ul>"},{"location":"other/ask/","title":"\u63d0\u95ee\u7684\u667a\u6167","text":""},{"location":"other/ask/#_2","title":"\u63d0\u95ee\u7684\u667a\u6167\uff08\u6982\u8981\u7248\uff09","text":"<p>\u4f60\u53ef\u80fd\u66fe\u7ecf\u8bd5\u8fc7\u5411\u5927\u725b\u63d0\u95ee\uff0c\u4f46\u662f\u8fd9\u4e9b\u63d0\u95ee\u5f80\u5f80\u77f3\u6c89\u5927\u6d77\u3002\u4e8e\u662f\u4f60\u5c31\u7eb3\u95f7\u4e86\uff1a\u8fd9\u4e9b\u5927\u725b\u4eec\u5e73\u65f6\u5728\u7f51\u4e0a\u770b\u90fd\u6027\u683c\u597d\u597d\u548c\u853c\u53ef\u4eb2\u7684\u6837\u5b50\uff0c\u600e\u4e48\u4e00\u5411\u4ed6\u4eec\u63d0\u95ee\u53d8\u5f97\u90a3\u4e48\u51b7\u6f20\u4e86\uff1f\u53cd\u5dee\u5b9e\u5728\u662f\u592a\u5927\u4e86\u3002</p> <p>\u5176\u5b9e\uff0c\u51fa\u73b0\u8fd9\u6837\u7684\u60c5\u51b5\uff0c\u5f80\u5f80\u4e0d\u662f\u5bf9\u65b9\u800d\u5927\u724c\uff0c\u800c\u662f\u4f60\u63d0\u95ee\u7684\u65b9\u5f0f\u9519\u4e86\u3002\u8fd9\u7bc7\u6587\u7ae0\u8ba9\u5927\u5bb6\u4e86\u89e3\u51e0\u4e2a\u539f\u5219\uff0c\u8ba9\u4f60\u66f4\u597d\u5730\u63d0\u95ee\uff0c\u5e76\u83b7\u5f97\u9ad8\u56de\u590d\u7387\u3002</p> <p>\u539f\u5219\u4e00\u3001\u5411\u9002\u5f53\u7684\u4eba\u63d0\u95ee\u9002\u5f53\u7684\u95ee\u9898\u3002</p> <p>\u5927\u725b\u4eec\u559c\u6b22\u8270\u5de8\u7684\u4efb\u52a1\u548c\u6fc0\u53d1\u601d\u8003\u7684\u597d\u95ee\u9898\u3002\u5982\u679c\u4f60\u63d0\u7684\u95ee\u9898\u5728\u767e\u5ea6\u77e5\u9053\u90fd\u53ef\u4ee5\u627e\u5230\u7b54\u6848\uff0c\u5c31\u83ab\u602a\u4ed6\u4eec\u9119\u89c6\u4f60\u4e86\uff0c\u4f60\u4e5f\u5e94\u8be5\u53cd\u7701\u4e00\u4e0b\uff0c\u4f60\u81ea\u5df1\u4e3a\u4ec0\u4e48\u90a3\u4e48\u61d2\uff1f\u8fd9\u4e9b\u61d2\u4eba\u4eec\u5728\u9ad8\u624b\u773c\u4e2d\u5c31\u50cf\u662f\u86c0\u866b\u4e00\u6837\uff0c\u672c\u6765\u5927\u725b\u4eec\u7684\u65f6\u95f4\u5c31\u4e0d\u591a\uff0c\u4e0e\u5176\u56de\u7b54\u4f60\u7684\u50bb\u95ee\u9898\uff0c\u4e0d\u5982\u82b1\u65f6\u95f4\u53bb\u56de\u7b54\u5176\u4ed6\u66f4\u6709\u610f\u4e49\u7684\u95ee\u9898\u3002</p> <p>\u539f\u5219\u4e8c\u3001\u63d0\u95ee\u524d\u5148\u641c\u4e00\u641c\u3002</p> <p>\u5c06\u4f60\u7684\u95ee\u9898\u653e\u8fdb\u641c\u7d22\u5f15\u64ce\u8fc7\u6ee4\u4e00\u904d\uff0c\u8fd9\u5176\u5b9e\u4e0d\u662f\u4ec0\u4e48\u96be\u4e8b\uff0c\u4e8b\u5b9e\u8bc1\u660e\uff0c90%\u7684\u95ee\u9898\u90fd\u53ef\u4ee5\u7528\u641c\u7d22\u5f15\u64ce\u89e3\u51b3\u4e86\uff0cBing \u4e0d\u884c\uff0c\u7528 Google\uff0cGoogle \u4e0d\u884c\u7528\u77e5\u4e4e\u3002\u5f53\u7136\uff0c\u6211\u4eec\u4e0d\u5efa\u8bae\u4f7f\u7528\u767e\u5ea6\u6216\u662f CSDN\u3002</p> <p>Q\uff1a\u4ec0\u4e48\uff1f\u600e\u4e48\u641c\u7d22\uff1f\uff01</p> <p>A\uff1a\u8fd9\u91cc\u521a\u597d\u6709\u4e00\u7bc7\u300a\u5341\u5927\u9ad8\u660e\u7684 Google \u641c\u7d22\u6280\u5de7\u300b\uff0c\u62ff\u53bb\u7528\u5427\u3002</p> <p>Q\uff1a\u4ec0\u4e48\uff1f\u94fe\u63a5\u5728\u54ea\u91cc\uff1f\uff01</p> <p>A\uff1a\u770b\u539f\u5219\u4e8c\uff01 </p> <p>\u539f\u5219\u4e09\u3001\u63d0\u95ee\u524d\u5148\u8bd5\u8bd5\u81ea\u5df1\u89e3\u51b3\u3002</p> <p>\u5982\u679c\u4f60\u7684\u95ee\u9898\u5728\u7f51\u7edc\u4e0a\u627e\u4e0d\u5230\u7b54\u6848\uff0c\u4f60\u4e5f\u9700\u8981\u81ea\u884c\u601d\u8003\u8bd5\u56fe\u89e3\u51b3\uff0c\u89e3\u51b3\u4e0d\u4e86\uff0c\u518d\u5411\u5927\u725b\u4eec\u63d0\u95ee\u3002\u5927\u725b\u4eec\u559c\u6b22\u770b\u52e4\u4e8e\u601d\u8003\u3001\u559c\u6b22\u81ea\u5df1\u52a8\u624b\u7684\u4eba\uff0c\u4e0d\u8981\u4ee5\u4e3a\u4f60\u53ef\u4ee5\u968f\u4fbf\u5730\u5ffd\u60a0\u5927\u725b\uff0c\u5927\u725b\u4eec\u7684\u7ecf\u9a8c\u6bd4\u4f60\u4e30\u5bcc\uff0c\u4e00\u773c\u5c31\u53ef\u4ee5\u770b\u5f97\u51fa\u4f60\u5bf9\u5f85\u95ee\u9898\u7684\u6001\u5ea6\u3002\u6240\u4ee5\uff0c\u8ba4\u771f\u5730\u601d\u8003\uff0c\u51c6\u5907\u597d\u4f60\u7684\u95ee\u9898\u3002</p> <p>\u539f\u5219\u56db\u3001\u51c6\u786e\u5730\u63cf\u8ff0\u95ee\u9898\u3002</p> <p>\u95ee\u9898\u7684\u63cf\u8ff0\u5e94\u8be5\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ol> <li> <p>\u6e05\u6670\u7684\u7ec6\u8282\uff1b</p> </li> <li> <p>\u95ee\u9898\u53d1\u751f\u7684\u80cc\u666f\uff1b</p> </li> <li> <p>\u63d0\u95ee\u524d\u505a\u8fc7\u7684\u8c03\u67e5\u7814\u7a76\u53ca\u5bf9\u5176\u7684\u7406\u89e3\uff1b</p> </li> <li> <p>\u63d0\u95ee\u524d\u4e3a\u786e\u5b9a\u95ee\u9898\u800c\u91c7\u53d6\u7684\u8bca\u65ad\u6b65\u9aa4\uff1b</p> </li> </ol> <p>\u6ce8\u610f\uff1a\u5343\u4e07\u4e0d\u8981\u7528\u4ec0\u4e48\u300c\u8dea\u6c42\u300d\uff0c\u300c\u5728\u7ebf\u7b49\u300d\uff0c\u300c\u7d27\u6025\u300d\u7b49\u4e4b\u7c7b\u54d7\u4f17\u53d6\u5ba0\u7684\u8bcd\u8bed\u6765\u5438\u5f15\u5927\u725b\u7684\u6ce8\u610f\uff0c\u5728\u5927\u725b\u4eec\u770b\u6765\uff0c\u8fd9\u4e9b\u95ee\u9898\u6839\u672c\u4e0d\u503c\u5f97\u53bb\u56de\u7b54\u3002</p> <p>\u539f\u5219\u4e94\u3001\u95ee\u9898\u89e3\u51b3\u540e\u5411\u5927\u725b\u6c47\u62a5\u4e00\u4e0b\u7ed3\u679c\u3002</p> <p>\u522b\u7684\u4e0d\u8bf4\uff0c\u522b\u4eba\u5e2e\u4f60\u89e3\u51b3\u4e86\u95ee\u9898\uff0c\u4f60\u5f97\u5411\u522b\u4eba\u8bf4\u58f0\u8c22\u8c22\u5427\uff0c\u8fd9\u662f\u6700\u57fa\u672c\u7684\u793c\u8282\u3002</p> <p>\u5982\u679c\u4f60\u539a\u9053\u7684\u8bdd\uff0c\u4e5f\u53ef\u4ee5\u5c06\u89e3\u51b3\u95ee\u9898\u7684\u8fc7\u7a0b\u5199\u4e0b\u6765\uff0c\u8ba9\u4ee5\u540e\u6709\u95ee\u9898\u7684\u4eba\u4e0d\u8981\u91cd\u8e48\u8986\u8f99\u3002\u8fd9\u4e2a\u4e3e\u52a8\u4e0d\u4ec5\u662f\u5728\u603b\u7ed3\u7ecf\u9a8c\uff0c\u800c\u4e14\u662f\u5728\u4e3a\u81ea\u5df1\u6512\u4eba\u54c1\uff0c\u5927\u725b\u4eec\u770b\u5230\u4f60\u7684\u603b\u7ed3\u4f1a\u6b23\u8d4f\u4f60\u7684\u4f5c\u4e3a\uff0c\u4ee5\u540e\u5c31\u66f4\u52a0\u559c\u6b22\u56de\u7b54\u4f60\u7684\u95ee\u9898\uff0c\u8bf4\u4e0d\u5b9a\u4f60\u4ee5\u540e\u8fd8\u6709\u673a\u4f1a\u548c\u5927\u725b\u4eec\u5403\u5403\u996d\u5462\u3002</p> <p>\u597d\u5427\uff0c\u5c31\u8bf4\u5230\u8fd9\u91cc\uff0c\u611f\u8c22 Eric S. Raymond\uff0c\u611f\u8c22\u77e5\u4e4e\uff0c\u611f\u8c22\u641c\u7d22\u5f15\u64ce\u4eec\u3002\u5982\u679c\u4f60\u80fd\u6309\u4ee5\u4e0a\u7684\u4e94\u4e2a\u539f\u5219\u63d0\u95ee\uff0c\u8fd9\u4e2a\u4e16\u754c\u771f\u7684\u4f1a\u5c11\u5f88\u591a\u7684\u566a\u97f3\uff0c\u4e5f\u5c11\u4e86\u5f88\u591a\u62b1\u6028\uff0c\u7b97\u662f\u4e3a\u4eba\u7c7b\u9020\u798f\u4e86\u3002</p>"},{"location":"other/ask/#rtfm-stfw","title":"RTFM \u4e0e STFW","text":"<p>RTFM \u662f Read The Fucking Manual \u7684\u610f\u601d\uff0cSTFW \u662f Search The Fucking Web \u7684\u610f\u601d\u3002\u8fd9\u4e24\u4e2a\u5b57\u9762\u610f\u601d\u770b\u5b8c\u5176\u5b9e\u5c31\u7406\u89e3\u4e86\uff0c\u4f46\u4f1a\u88ab\u7f29\u6210\u77ed\u8bed\u5373\u8bf4\u660e\u5176\u4f7f\u7528\u7684\u9891\u7387\u4e4b\u9ad8\u3002\u4e5f\u8bf4\u660e\u4e86\u73b0\u4ee3\u4eba\u7c7b\u5927\u90e8\u5206\u4eba\u7ecf\u5e38\u4f1a\u95ee Stupid \u7684\u95ee\u9898\uff0c\u800c\u4e0d\u662f\u5148\u5c1d\u8bd5\u8fc7\u4e00\u4e9b\u60f3\u6cd5\u540e\u518d\u63d0\u95ee\u3002</p> <p>RTFM \u4e0e STFW \u5305\u542b\u7740\u8fd9\u6837\u7684\u610f\u601d\uff1a\u5728\u5bfb\u6c42\u5e2e\u52a9\u4e4b\u524d\uff0c\u5148\u5c3d\u81ea\u5df1\u6700\u5927\u7684\u52aa\u529b\u81ea\u884c\u89e3\u51b3\u3002\u56e0\u6b64\uff0c\u4f60\u53ef\u4ee5\u5728\u4e0b\u9762\u8fd9\u4e24\u79cd\u573a\u666f\u65f6\u4f7f\u7528\u5b83\uff1a</p> <ol> <li>\u5f53\u522b\u4eba\u8be2\u95ee\u4f60\u4e00\u4e2a\u7b80\u5355\u7684\u3001\u672a\u7ecf\u601d\u8003\u7684\u95ee\u9898\u65f6\uff0c\u4f60\u53ef\u4ee5\u56de\u5e94\u4ed6\uff1a\u201cRTFM\u201d\uff0c\u8868\u793a\u8ba9\u4ed6\u5148\u81ea\u5df1\u67e5\u67e5\u8d44\u6599\u3001\u81ea\u884c\u89e3\u51b3\uff1b</li> <li>\u5728\u4f60\u5bfb\u6c42\u4ed6\u4eba\u7684\u5e2e\u52a9\u65f6\uff0c\u4f60\u53ef\u4ee5\u544a\u8bc9\u4ed6\u4f60\u5df2\u7ecf RTFM \u5f88\u4e45\u4e86\uff0c\u8fd9\u65f6\u4ed6\u4fbf\u4e0d\u4f1a\u8f7b\u6613\u62d2\u7edd\u4f60\uff1b</li> </ol> <p>RTFM \u4e0e STFW \u7684\u601d\u60f3\u4e0d\u4ec5\u4ec5\u9002\u7528\u4e8e unix \u548c linux \u6587\u5316\uff0c\u5b83\u9002\u7528\u4e8e\u4efb\u4f55\u65b9\u9762\uff0c\u5c24\u5176\u662f IT \u548c\u4e92\u8054\u7f51\u5708\u5b50\u3002\u5728\u5bfb\u6c42\u4ed6\u4eba\u5e2e\u52a9\u4e4b\u524d\u5148\u81ea\u884c\u89e3\u51b3\uff0c\u4e0d\u8981\u628a\u4ed6\u4eba\u5f53\u6210\u201c\u6d3b\u5b57\u5178\u201d\u4f7f\u7528\uff0c\u8fd9\u5e94\u8be5\u6210\u4e3a\u6700\u57fa\u672c\u7684\u793c\u8c8c\u3002</p> <p>\u672a\u7ecf\u8fc7 RTFM \u5c31\u5bfb\u6c42\u5230\u7684\u5e2e\u52a9\u5f80\u5f80\u4e5f\u6bd4\u8f83\u6d41\u4e8e\u8868\u9762\uff0c\u96be\u4ee5\u83b7\u53d6\u771f\u6b63\u6709\u4ef7\u503c\u7684\u5185\u5bb9\u3002\u53cd\u8fc7\u6765\uff0c\u5982\u679c\u4f60 RTFM \u540e\u518d\u5bfb\u6c42\u5e2e\u52a9\uff0c\u522b\u4eba\u4e5f\u66f4\u613f\u610f\u89e3\u7b54\u4f60\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u89e3\u7b54\u8fd9\u6837\u7684\u95ee\u9898\u53ef\u4ee5\u5f15\u53d1\u66f4\u6df1\u5165\u7684\u601d\u8003\u3001\u589e\u957f\u77e5\u8bc6\u548c\u89c1\u8bc6\uff0c\u8fd8\u53ef\u4ee5\u5e2e\u52a9\u4ed6\u4eba\uff0c\u4f55\u4e50\u4e0d\u4e3a\u5462\uff01</p> <p>\u53c2\u8003\u8d44\u6599</p> <p>\u672c\u90e8\u5206\u5185\u5bb9\u53c2\u8003\u4e86\u4ee5\u4e0b\u8d44\u6599\uff1a</p> <ul> <li>\u77e5\u4e4e\uff1a\u63d0\u95ee\u7684\u667a\u6167\uff08\u7cbe\u7f29\u7248\uff09</li> <li>How To Ask Questions The Smart Way (catb.org)</li> <li>\u7b80\u4e66\uff1aUnix \u6587\u5316 \u2014\u2014 RTFM</li> </ul>"},{"location":"other/logisim/","title":"Logisim \u4f7f\u7528\u6559\u7a0b","text":"<p>Logisim \u662f\u4e00\u79cd\u7528\u4e8e\u8bbe\u8ba1\u548c\u4eff\u771f\u6570\u5b57\u903b\u8f91\u7535\u8def\u7684\u6559\u5b66\u4eff\u771f\u5de5\u5177\u3002\u5176\u7279\u70b9\u5305\u62ec\uff1a\u64cd\u4f5c\u7b80\u5355\uff0c\u754c\u9762\u76f4\u89c2\uff0c\u901a\u8fc7\u7b80\u5355\u7684\u9f20\u6807\u62d6\u62fd\u8fde\u7ebf\u5373\u53ef\u5b8c\u6210\u6570\u5b57\u7535\u8def\u8bbe\u8ba1\u548c\u4eff\u771f\uff0c\u5b50\u7535\u8def\u5c01\u88c5\u529f\u53ef\u4ee5\u8ba9\u7528\u6237\u66f4\u53ef\u4ee5\u65b9\u4fbf\u5730\u6784\u5efa\u66f4\u5927\u89c4\u6a21\u7684\u6570\u5b57\u7535\u8def\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u4f7f\u7528 Logisim \u6765\u8bbe\u8ba1\u548c\u4eff\u771f\u7528\u4e8e\u76f8\u5173\u8bfe\u7a0b\u7684\u786c\u4ef6\u7535\u8def\uff0c\u8fbe\u5230\u6559\u5b66\u7684\u76ee\u7684\u3002</p> <p>\u672c\u5b66\u671f\u7684\u5b9e\u9a8c\u4e2d\uff0cLogisim \u5c06\u4e0d\u4f5c\u4e3a\u5fc5\u4fee\u7684\u5b9e\u9a8c\u5185\u5bb9\u51fa\u73b0\uff0c\u4f46\u6211\u4eec\u4f9d\u7136\u9f13\u52b1\u5927\u5bb6\u5b66\u4e60\u5982\u4f55\u4f7f\u7528 Logisim\u3002\u5b83\u4ee5\u4e00\u79cd\u975e\u5e38\u76f4\u89c2\u7684\u65b9\u5f0f\u5c55\u73b0\u4e86\u6570\u5b57\u7535\u8def\u7684\u8bbe\u8ba1\u4e0e\u529f\u80fd\uff0c\u4e3a\u5b66\u4e60\u6570\u7535\u4ee5\u53ca\u540e\u7eed\u7684\u786c\u4ef6\u8bfe\u7a0b\u5960\u5b9a\u4e86\u826f\u597d\u7684\u57fa\u7840\u3002</p>"},{"location":"other/logisim/#logisim_1","title":"\u642d\u5efa Logisim \u5b9e\u9a8c\u73af\u5883","text":""},{"location":"other/logisim/#logisim_2","title":"\u83b7\u53d6 Logisim","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u6e20\u9053\u4f7f\u7528 Logisim\u3002</p> <ul> <li> <p>\u5982\u679c\u60f3\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u642d\u5efa Logisim \u5b9e\u9a8c\u73af\u5883\uff0c\u53ef\u5728 Vlab \u5e73\u53f0\u4e0b\u8f7d\u4e0e\u7528\u6237\u64cd\u4f5c\u7cfb\u7edf\u76f8\u5339\u914d\u7684 jre \u8f6f\u4ef6\u548c Logisim\u3002\u6b65\u9aa4\u5982\u4e0b\uff1a\u8fdb\u5165 Vlab \u9996\u9875\uff0c\u4f9d\u6b21\u70b9\u51fb\u4f7f\u7528\u6587\u6863 \\(\\rightarrow\\) \u8d44\u6e90\u4e0b\u8f7d\u5373\u53ef\u8fdb\u5165\u5982\u56fe\u6240\u793a\u7684\u4e0b\u8f7d\u754c\u9762\u3002\u4e5f\u53ef\u4ee5\u76f4\u63a5\u70b9\u51fb\u94fe\u63a5\u8df3\u8f6c\u3002</p> <p> Vlab \u8d44\u6e90\u4e0b\u8f7d\u754c\u9762 </p> </li> <li> <p>\u5982\u679c\u9009\u62e9\u5728\u5b9e\u9a8c\u5ba4\u7684\u673a\u623f\u8fdb\u884c\u5b9e\u9a8c\uff0c\u53ef\u4ee5\u5728\u5b9e\u9a8c\u5ba4\u673a\u623f\u5185\u7535\u8111\u4e0a\u52a0\u8f7d\u786c\u4ef6\u5b9e\u9a8c\u6a21\u677f\uff0c\u5373\u53ef\u76f4\u63a5\u83b7\u53d6 Logisim \u73af\u5883\u3002</p> </li> <li> <p>\u5982\u679c\u60f3\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u5728\u7ebf\u73af\u5883\uff0c\u53ef\u4ee5\u5728 Vlab \u5e73\u53f0\uff08 \u9009\u62e9\u7edf\u4e00\u8eab\u4efd\u8ba4\u8bc1\u767b\u5f55\uff09\u7684\u865a\u62df\u673a\u7ba1\u7406\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a\u652f\u6301\u56fe\u5f62\u754c\u9762\u7684 ubuntu \u73af\u5883\uff0c\u4e0a\u9762\u5df2\u7ecf\u9884\u88c5\u4e86 Logisim\u3002</p> </li> </ul> <p>\u5982\u679c\u4f60\u60f3\u9605\u8bfb\u66f4\u591a\u6709\u5173\u4fe1\u606f\uff0c\u6b22\u8fce\u8bbf\u95ee Logisim \u5b98\u65b9\u7f51\u7ad9\u4e0e\u5b98\u65b9\u8d44\u6e90\u4e0b\u8f7d\u7ad9\u3002</p>"},{"location":"other/logisim/#java","title":"\u83b7\u53d6 Java","text":"<p>Logisim \u57fa\u4e8e Java \u73af\u5883\uff0c\u5728\u5b89\u88c5\u4e86 Java \u8fd0\u884c\u73af\u5883\u7684\u7535\u8111\u4e0a\u90fd\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528\u3002\u540c\u6837\u5730\uff0c\u4f60\u53ef\u4ee5\u5728 Vlab \u5e73\u53f0\u4e0a\u83b7\u53d6 Java \u7684\u6709\u5173\u8d44\u6e90\u3002 \u7531\u4e8e\u7bc7\u5e45\u6709\u9650\uff0c\u5927\u5bb6\u53ef\u4ee5\u53c2\u8003\u8fd9\u7bc7\u535a\u5ba2\u4e2d\u7684\u76f8\u5173\u5185\u5bb9\u6216\u5176\u4ed6\u6559\u7a0b\u8fdb\u884c\u4e0b\u8f7d\u4e0e\u5b89\u88c5\u3002</p> <p>\u5b89\u88c5\u5b8c\u6bd5\u540e\uff0c\u4fbf\u53ef\u53cc\u51fb Logisim \u53ef\u6267\u884c\u6587\u4ef6\u542f\u52a8 Logisim \u5de5\u5177\u3002\u4f60\u5c06\u770b\u5230\u4e0b\u56fe\u6240\u793a\u7684\u4e3b\u754c\u9762\uff1a</p> <p></p>"},{"location":"other/logisim/#logisim_3","title":"\u719f\u6089 Logisim \u754c\u9762","text":"<p>Logisim \u4e3b\u754c\u9762\u5305\u62ec 5 \u5927\u90e8\u5206\uff1a\u83dc\u5355\u680f\u3001\u5de5\u5177\u680f\u3001\u7ba1\u7406\u7a97\u3001\u5c5e\u6027\u8868\u4ee5\u53ca\u753b\u5e03\u3002</p> <p></p> <p>\u753b\u5e03\u533a\u57df\u662f\u7528\u6237\u7ed8\u5236\u7535\u8def\u7684\u7a97\u53e3\uff0c\u4e5f\u662f\u6211\u4eec\u6700\u7ecf\u5e38\u4f7f\u7528\u7684\u533a\u57df\u3002</p> <p>\u7ba1\u7406\u7a97\u53e3\u63d0\u4f9b\u6240\u6709\u7684\u57fa\u672c\u7ec4\u4ef6\uff0c\u4ee5\u6587\u4ef6\u5939\u76ee\u5f55\u5f62\u5f0f\u663e\u793a\u3002\u5176\u4e2d\u7b2c\u4e00\u4e2a\u76ee\u5f55\u4e3a\u7528\u6237\u76ee\u5f55\u3002\u7528\u6237\u6240\u8bbe\u8ba1\u7684\u7535\u8def\u90fd\u663e\u793a\u5728\u8fd9\u4e00\u7ea7\u76ee\u5f55\u4e0b\uff0c\u7528\u6237\u53ef\u5728\u8be5\u6587\u4ef6\u5939\u76ee\u5f55\u4e0a\u5355\u51fb\u9f20\u6807\u53f3\u952e\uff0c\u9009\u62e9 Add Circuit \u6dfb\u52a0\u65b0\u7684\u7535\u8def\u8bbe\u8ba1\u3002</p> <p>\u5c5e\u6027\u8868\u4e3a\u5f53\u524d\u9009\u4e2d\u7ec4\u4ef6\u7684\u57fa\u672c\u5c5e\u6027\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u9700\u8981\u4fee\u6539\u5176\u5c5e\u6027\u53c2\u6570\uff0c\u5982\u5927\u5c0f\u3001\u7aef\u53e3\u6570\u76ee\u3001\u65b9\u5411\u7b49\u3002</p> <p>\u83dc\u5355\u680f\u4e2d\u9664\u6253\u5f00\u5173\u95ed\u6587\u4ef6\u7b49\u57fa\u672c\u64cd\u4f5c\u5916\uff0c\u5176\u5b83\u529f\u80fd\u6211\u4eec\u53ef\u4ee5\u6682\u4e0d\u4e86\u89e3\uff0c\u7b49\u9700\u8981\u7528\u5230\u7684\u65f6\u5019\u518d\u6df1\u5165\u7814\u7a76\u3002</p> <p>\u5de5\u5177\u680f\u662f\u6700\u4e3a\u5e38\u7528\u7684\u90e8\u5206\uff0c\u56e0\u6b64\u6211\u4eec\u5355\u72ec\u8fdb\u884c\u4ecb\u7ecd\u3002\u4e0b\u56fe\u6240\u793a\u7684\u5de5\u5177\u680f\u5305\u62ec\u56db\u5927\u7c7b\u7ec4\u4ef6\u3002\u5176\u4e2d\uff1a</p> <p></p> <ul> <li> <p>\u7ea2\u8272\u6846\u4e2d\u5305\u62ec\u4e09\u79cd\u5de5\u5177\u3002\u5de6\u4fa7\u7684\u624b\u5f62\u5de5\u5177\u4e3a\u64cd\u4f5c\u6a21\u5f0f\u6309\u94ae\uff0c\u7528\u4e8e\u6539\u53d8\u7535\u8def\u4e2d\u9009\u5b9a\u7ec4\u4ef6\u7684\u503c\uff1b\u4e2d\u95f4\u7684\u7bad\u5934\u5de5\u5177\u4e3a\u7f16\u8f91\u6a21\u5f0f\u6309\u94ae\uff0c\u7528\u4e8e\u7f16\u8f91\u7ec4\u4ef6\u6216\u8005\u6dfb\u52a0\u7535\u8def\uff1b\u53f3\u4fa7\u7684\u6587\u672c\u5de5\u5177\uff08\u5b57\u6bcd A\uff09\u7528\u4e8e\u5728\u7535\u8def\u4e2d\u6dfb\u52a0\u6587\u5b57\u63cf\u8ff0\u3002</p> </li> <li> <p>\u7eff\u8272\u6846\u4e2d\u4e3a\u51e0\u79cd\u5e38\u7528\u57fa\u672c\u7535\u8def\u7ec4\u4ef6\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u4ece\u5de6\u5230\u53f3\u5206\u522b\u4e3a\u8f93\u5165\u5f15\u811a\u3001\u8f93\u51fa\u5f15\u811a\u3001\u975e\u95e8\u3001\u4e0e\u95e8\u548c\u6216\u95e8\u3002\u8fd9\u51e0\u79cd\u7ec4\u4ef6\u4e5f\u53ef\u4ee5\u5728\u7ba1\u7406\u7a97\u53e3\u5185\u627e\u5230\u3002</p> </li> <li> <p>\u6df1\u84dd\u8272\u6846\u4e2d\u7684\u6309\u94ae\u7528\u4e8e\u5207\u6362\u5de6\u4fa7\u7ba1\u7406\u7a97\u7684\u663e\u793a\u5185\u5bb9\uff0c\u6273\u624b\u5de5\u5177\u7528\u4e8e\u663e\u793a\u5de5\u7a0b\u7535\u8def\u548c\u5e93\u6587\u4ef6\uff0c\u6811\u72b6\u7ed3\u6784\u7528\u4e8e\u663e\u793a\u4eff\u771f\u7535\u8def\u7684\u5c42\u6b21\u7ed3\u6784\u3002</p> </li> <li> <p>\u6d45\u84dd\u8272\u6846\u4e2d\u7684\u6309\u94ae\u7528\u4e8e\u5207\u6362\u67e5\u770b\u7535\u8def\u7ed3\u6784\u548c\u6a21\u5757\u5c01\u88c5\u7ed3\u6784\u3002</p> </li> </ul>"},{"location":"other/logisim/#logisim_4","title":"Logisim \u57fa\u672c\u64cd\u4f5c","text":"<p>\u5728\u6253\u5f00 Logisim \u540e\uff0c\u7a0b\u5e8f\u4f1a\u9ed8\u8ba4\u521b\u5efa\u65b0\u7535\u8def\u7a97\u53e3\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u5728\u8fd9\u91cc\u8fdb\u884c\u7535\u8def\u56fe\u7684\u7ed8\u5236\u3002\u4efb\u4f55\u65f6\u5019\u6309\u4e0b Ctrl+S \u5373\u53ef\u5feb\u901f\u4fdd\u5b58\u5f53\u524d\u7535\u8def\u56fe\uff08\u6587\u4ef6\u6269\u5c55\u540d\u4e3a .circ\uff09\u3002</p> <p></p> <p>\u5355\u51fb\u5de6\u4e0a\u89d2\u7684 File \u83dc\u5355\uff0c\u5373\u53ef\u5c55\u5f00\u66f4\u591a\u6587\u4ef6\u76f8\u5173\u7684\u9009\u9879\u3002</p> <p></p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u5c1d\u8bd5\u7ed8\u5236\u4e00\u4e2a\u57fa\u672c\u7684\u975e\u95e8\u7535\u8def\u3002\u9996\u5148\uff0c\u5355\u51fb\u5de5\u5177\u680f\u4e2d\u7684\u8f93\u5165\u5f15\u811a\uff0c \u79fb\u52a8\uff08\u4e0d\u662f\u62d6\u52a8\uff09\u9f20\u6807\u5230\u7a97\u53e3\u754c\u9762\u4e2d\uff0c\u518d\u6b21\u5355\u51fb\u5c06\u5176\u653e\u4e0b\u3002\u8f93\u51fa\u5f15\u811a\u7684\u64cd\u4f5c\u540c\u7406\u3002</p> <p> </p> \u653e\u7f6e\u8f93\u5165\u5f15\u811a\u4e0e\u8f93\u51fa\u5f15\u811a <p>\u5982\u56fe\u6240\u793a\uff0c\u65b9\u5f62\u7684\u4e3a\u8f93\u5165\u5f15\u811a\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u64cd\u4f5c\u6a21\u5f0f\u4e0b\u901a\u8fc7\u5355\u51fb\u66f4\u6539\u5176\u8f93\u5165\u7684\u503c\uff1b\u5706\u5f62\u7684\u4e3a\u8f93\u51fa\u5f15\u811a\uff0c\u7528\u4e8e\u663e\u793a\u5f53\u524d\u7535\u8def\u7684\u8f93\u51fa\u7ed3\u679c\u3002\u7531\u4e8e\u6b64\u65f6\u8f93\u51fa\u5f15\u811a\u5e76\u6ca1\u6709\u88ab\u8fde\u63a5\u5230\u7535\u8def\u4e2d\uff0c\u56e0\u6b64\u8f93\u51fa\u4e3a\u84dd\u8272\u7684 X\uff08\u5373\u4e0d\u786e\u5b9a\u503c\uff09\u3002</p> <p>\u4e3a\u4e86\u8ba9\u8f93\u51fa\u5f15\u811a\u8f93\u51fa\u786e\u5b9a\u7684\u7ed3\u679c\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5176\u4e0e\u8f93\u5165\u5f15\u811a\u76f4\u63a5\u76f8\u8fde\u3002\u5728\u7f16\u8f91\u6a21\u5f0f\u4e0b\uff0c\u9f20\u6807\u60ac\u505c\u5728\u8f93\u5165\u5f15\u811a\u7684\u7eff\u8272\u6807\u8bb0\u70b9\u4e0a\uff0c\u5f85\u51fa\u73b0\u6807\u8bb0\u540e\u6309\u4f4f\u5de6\u952e\uff0c\u62d6\u52a8\u9f20\u6807\uff0c\u677e\u5f00\u540e\u5373\u53ef\u7ed8\u5236\u8fde\u7ebf\u3002\u8fde\u7ebf\u53ef\u4ee5\u5206\u652f\u3001\u8f6c\u5f2f\u7b49\u3002</p> \u51fa\u73b0\u8bc6\u522b\u6807\u8bb0 \u8fde\u63a5\u5b8c\u6210 \u8fde\u7ebf\u53ef\u4ee5\u8f6c\u5f2f \u8fde\u7ebf\u53ef\u4ee5\u5206\u652f <p>\u5982\u679c\u4f60\u53d1\u73b0\u8fde\u7ebf\u4f4d\u7f6e\u9519\u8bef\uff0c\u6216\u8005\u51fa\u73b0\u4e86\u591a\u4f59\u7684\u8fde\u7ebf\uff0c\u53ef\u4ee5\u901a\u8fc7 Ctrl+Z \u64a4\u9500\u4e0a\u4e00\u6b65\u64cd\u4f5c\uff0c\u6216\u5355\u51fb\u9009\u4e2d\u8fde\u7ebf\u5e76\u6309\u4e0b Delete \u952e\u4ee5\u5c06\u5176\u5220\u9664\u3002\u6b64\u5916\uff0c\u4f60\u8fd8\u53ef\u4ee5\u6cbf\u7740\u8fde\u7ebf\u62d6\u52a8\u5b83\u7684\u4e00\u4e2a\u7aef\u70b9\u4ee5\u300e\u6269\u5c55\u300f\u6216\u300e\u7f29\u77ed\u300f\u8fde\u7ebf\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u7684\u8f93\u51fa\u5f15\u811a\u5df2\u7ecf\u53ef\u4ee5\u6b63\u786e\u8f93\u51fa\u4e86\uff0c\u5b83\u65f6\u523b\u8f93\u51fa\u4e0e\u8f93\u5165\u5f15\u811a\u76f8\u540c\u7684\u7ed3\u679c\u3002\u4f60\u53ef\u4ee5\u5728\u64cd\u4f5c\u6a21\u5f0f\u4e0b\u5355\u51fb\u8f93\u5165\u5f15\u811a\uff0c\u89c2\u5bdf\u8f93\u51fa\u5f15\u811a\u7684\u7ed3\u679c\u53d8\u5316\u3002</p> \u8f93\u5165\u4e3a 1 \u8f93\u5165\u4e3a 0 <p>\u4e3a\u4e86\u5f97\u5230\u6211\u4eec\u60f3\u8981\u7684\u975e\u95e8\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 Logisim \u63d0\u4f9b\u7684\u975e\u95e8\u7ec4\u4ef6\u3002\u5982\u56fe\u6240\u793a\uff0c\u5728\u7ba1\u7406\u7a97\u683c\u7684 Gates \u6587\u4ef6\u5939\u4e0b\u9009\u4e2d NOT Gate\uff0c\u901a\u8fc7\u4e0e\u8f93\u5165\u8f93\u51fa\u5f15\u811a\u76f8\u540c\u7684\u64cd\u4f5c\u63d2\u5165\u5230\u7a97\u53e3\u4e2d\u3002\u8fd9\u6837\uff0c\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u975e\u95e8\u5c31\u642d\u5efa\u597d\u4e86\uff01</p> \u901a\u8fc7\u7ba1\u7406\u7a97\u683c\u63d2\u5165\u975e\u95e8 \u975e\u95e8\u7535\u8def\u7684\u642d\u5efa Tips <p>\u9664\u4e86\u7ba1\u7406\u7a97\u683c\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728\u4e0a\u65b9\u5de5\u5177\u680f\uff0c\u5373\u8f93\u5165\u8f93\u51fa\u5f15\u811a\u7684\u65c1\u8fb9\u9009\u4e2d\u975e\u95e8\u8fdb\u884c\u7ed8\u5236\u3002</p> <p>\u90a3\u4e48\u5982\u4f55\u753b\u4e00\u4e2a\u7ad6\u7740\u7684\u975e\u95e8\u5462\uff1f\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u8c03\u6574\u5668\u4ef6\u7684\u65b9\u5411\u3002\u5728\u7f16\u8f91\u6a21\u5f0f\u4e0b\u70b9\u51fb\u8f93\u5165\u5f15\u811a\uff0c\u5728\u5de6\u4fa7\u7684\u5c5e\u6027\u8868\u4e2d\u5c06 Facing \u5c5e\u6027\u6539\u4e3a South\u3002\u6b64\u65f6\u8f93\u5165\u7aef\u53e3\u5c31\u671d\u5411\u4e86\u4e0b\u65b9\u3002</p> <p></p> <p>\u540c\u6837\u5730\uff0c\u975e\u95e8\u548c\u8f93\u51fa\u5f15\u811a\u4e5f\u53ef\u4ee5\u8c03\u6574\u65b9\u5411\u3002\u6700\u7ec8\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u4e0b\u56fe\u6240\u793a\u7684\u7ad6\u7740\u7684\u975e\u95e8\u3002</p> <p></p> <p>\u9664\u4e86\u57fa\u7840\u7684\u975e\u95e8\u7535\u8def\uff0c\u5927\u5bb6\u53ef\u4ee5\u81ea\u884c\u4e86\u89e3\uff1a\u6309\u94ae\u3001LED\u3001\u8f93\u5165\u7ba1\u811a\u3001\u8f93\u51fa\u7ba1\u811a\u3001\u591a\u4f4d\u5bbd\u4fe1\u53f7\u3001\u63a2\u9488\u3001\u5206\u7ebf\u5668\u3001\u57fa\u672c\u903b\u8f91\u95e8\u7b49\u5404\u7c7b\u7ec4\u4ef6\u7684\u4f5c\u7528\u4e0e\u4f7f\u7528\u6548\u679c\uff0c\u4ee5\u53ca\u4e0d\u540c\u989c\u8272\u7684\u7ebf\u7f06\u6240\u4ee3\u8868\u7684\u542b\u4e49\u3002</p> <p>\u6b64\u5916\uff0cLogisim \u6240\u652f\u6301\u7684\u7ec4\u4ef6\u90fd\u53ef\u4ee5\u5728\u7ba1\u7406\u7a97\u5185\u7684\u5404\u4e2a\u6587\u4ef6\u5939\u91cc\u9762\u627e\u5230\u3002\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u6709\u5176\u5bf9\u5e94\u7684\u53c2\u6570\uff0c\u7528\u6237\u53ef\u6839\u636e\u9700\u8981\u8fdb\u884c\u4fee\u6539\u3002</p> <p> </p> Logisim \u7ec4\u4ef6\u4e00\u89c8 <p> </p> Logisim \u7ec4\u4ef6\u4f7f\u7528\u7b80\u4ecb <p>\u5173\u4e8e\u5404\u7ec4\u4ef6\u7684\u5177\u4f53\u529f\u80fd\u53ca\u4f7f\u7528\u65b9\u6cd5\uff0c\u7528\u6237\u53ef\u81ea\u884c\u4f53\u9a8c\u3002\u5982\u6709\u95ee\u9898\uff0c\u53ef\u67e5\u9605\u83dc\u5355\u680f Help \u4e0b\u7684 Tutorial \u548c User's Guide \u7b49\u6587\u6863,\u91cc\u9762\u5bf9 Logisim \u7684\u4f7f\u7528\u65b9\u6cd5\u3001\u529f\u80fd\u7279\u6027\u4ee5\u53ca\u5404\u7ec4\u4ef6\u7684\u4f7f\u7528\u90fd\u6709\u975e\u5e38\u8be6\u5c3d\u7684\u8bf4\u660e\u3002</p> <p>\u5bf9\u4e8e\u6570\u5b57\u7535\u8def\u7684\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u53ef\u4ee5\u5148\u5b66\u4e60 Logisim \u4e2d\u7ec4\u5408\u903b\u8f91\u76f8\u5173\u7684\u7ec4\u4ef6\uff0c\u65f6\u5e8f\u903b\u8f91\u76f8\u5173\u7684\u7ec4\u4ef6\u53ef\u5728\u5177\u5907\u4e86\u76f8\u5173\u7684\u77e5\u8bc6\u50a8\u5907\u540e\u8fdb\u884c\uff0c\u8fd9\u6837\u4f1a\u76f8\u5bf9\u8f7b\u677e\u4e00\u4e9b\u3002</p>"},{"location":"other/logisim/#logisim_5","title":"Logisim \u6a21\u5757\u5c01\u88c5","text":"<p>\u6bcf\u4e2a Logisim \u9879\u76ee\u5b9e\u9645\u4e0a\u90fd\u662f\u4e00\u4e2a\u7535\u8def\u5e93\u3002\u5728\u6700\u7b80\u5355\u7684\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a\u9879\u76ee\u53ea\u6709\u4e00\u4e2a\u7535\u8def\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a main\uff09\u3002\u9762\u5bf9\u66f4\u4e3a\u590d\u6742\u7684\u7535\u8def\u8bbe\u8ba1\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a\u7535\u8def\u6587\u4ef6\uff08\u4e5f\u5c31\u662f\u6a21\u5757\uff09\u5171\u540c\u5b9e\u73b0\uff0c\u6bcf\u4e00\u4e2a\u5b50\u7535\u8def\u53ea\u8d1f\u8d23\u4e00\u90e8\u5206\u7279\u5b9a\u7684\u529f\u80fd\u3002</p> <p>\u5728 Logisim \u4e2d\uff0c\u65b0\u5efa\u4e00\u4e2a\u65b0\u7684\u7535\u8def\u6587\u4ef6\u547d\u540d\u4e3a Add\uff0c\u5e76\u7ed8\u5236\u7535\u8def\u7ed3\u6784\uff0c\u53c2\u8003\u4e0b\u56fe\u5b8c\u6210\u4e00\u4f4d\u534a\u52a0\u5668\u7684\u8bbe\u8ba1\u3002</p> <p> </p> \u4e00\u4f4d\u534a\u52a0\u5668\u7684\u7535\u8def\u8bbe\u8ba1 \u6709\u70b9\u7591\u60d1\uff1f <p>\u4e0a\u9762\u6240\u793a\u7684\u7535\u8def\u4e3a\u5565\u5c31\u662f\u4e00\u4f4d\u534a\u52a0\u5668\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u4ece\u903b\u8f91\u8868\u8fbe\u5f0f\u5165\u624b\u3002\u4e00\u4f4d\u534a\u52a0\u5668\u7684\u903b\u8f91\u8868\u8fbe\u5f0f\u4e3a</p> <p>\\(\\text{Sum}=a\\ \\text{XOR}\\ b\\)</p> <p>\\(\\text{Cout}=a\\ \\text{AND}\\ b\\)</p> <p>\uff08\u5982\u679c\u4f60\u4e0d\u6e05\u695a\u4e0a\u9762\u7684\u5f0f\u5b50\u662f\u5982\u4f55\u5f97\u5230\u7684\uff0c\u53ef\u4ee5\u5217\u51fa\u771f\u503c\u8868\u8fdb\u884c\u63a8\u7b97\uff09</p> <p>\u4e0d\u96be\u53d1\u73b0\uff0c\u7535\u8def\u56fe\u4e2d\u7684\u5f02\u6216\u95e8\u548c\u4e0e\u95e8\u6070\u597d\u4e0e\u903b\u8f91\u8868\u8fbe\u5f0f\u76f8\u5bf9\u5e94\u3002</p> Tips\uff1a\u4fee\u6539\u5c5e\u6027 <p>\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u81ea\u5df1\u653e\u7f6e\u7684\u5f02\u6216\u95e8\u4e0e\u56fe\u4e2d\u7684\u4e0d\u592a\u4e00\u81f4\uff0c\u6b64\u65f6\u53ef\u4ee5\u5355\u51fb\u9009\u4e2d\u5f02\u6216\u95e8\uff0c\u5728\u5de6\u4e0b\u65b9\u7684\u5c5e\u6027\u8868\u4e2d\u4fee\u6539\u8be5\u5f02\u6216\u95e8\u7684\u5c5e\u6027\uff0c\u4f8b\u5982\u8f93\u5165\u7aef\u53e3\u6570\u76ee\u3001\u5927\u5c0f\u3001\u671d\u5411\u3001\u6807\u7b7e\u540d\u7b49\u3002</p> <p>\u5728\u7535\u8def\u5904\u4e8e\u6253\u5f00\u72b6\u6001\u65f6\uff08\u753b\u5e03\u533a\u57df\u663e\u793a\u8be5\u7535\u8def\u7ed3\u6784\uff0c\u4e14\u7ba1\u7406\u7a97\u53e3\u4e2d\u8be5\u7535\u8def\u56fe\u6807\u4e0a\u6709\u4e00\u4e2a\u653e\u5927\u955c\u6807\u5fd7\uff09\uff0c\u70b9\u51fb\u5de5\u5177\u680f\u4e2d\u7684\u7f16\u8f91\u7535\u8def\u5c01\u88c5\u56fe\u6807\uff08\u4e0b\u56fe\u4e2d\u7684\u7ea2\u8272\u6846\uff09\uff0c\u8fdb\u5165\u7535\u8def\u5c01\u88c5\u7f16\u8f91\u9875\u9762\u3002\u4f60\u53ef\u4ee5\u4fee\u6539\u7535\u8def\u7684\u8fb9\u6846\u5f62\u72b6\u53ca\u5927\u5c0f\u3001\u7aef\u53e3\u4f4d\u7f6e\u3001\u540d\u79f0\u7b49\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u5173\u952e\u7684\u5143\u7d20\uff1a</p> <ul> <li>\u951a\u70b9\uff1a\u8fde\u7740\u4e00\u6839\u7ebf\u7684\u7eff\u8272\u5706\u5708\u3002\u5b83\u5bf9\u5e94\u7740\u4f60\u653e\u7f6e\u5b50\u7535\u8def\u65f6\u5341\u5b57\u51c6\u661f\u4e0e\u7535\u8def\u7684\u76f8\u5bf9\u4f4d\u7f6e\u4e0e\u671d\u5411\u3002</li> <li>\u7aef\u53e3\uff1a\u84dd\u8272\u7684\u70b9\u3002\u5b83\u5bf9\u5e94\u7740\u7535\u8def\u7684\u8f93\u5165\u548c\u8f93\u51fa\u5f15\u811a\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u70b9\u51fb\u7aef\u53e3\u67e5\u770b\u5b83\u4e0e\u5f15\u811a\u7684\u5bf9\u5e94\u60c5\u51b5\u3002</li> </ul> <p>\u4e0a\u65b9\u7684\u5de5\u5177\u680f\u662f\u4e00\u4e9b\u53ef\u7528\u7684\u7535\u8def\u5c01\u88c5\u5de5\u5177\uff0c\u5b83\u4eec\u7684\u4ecb\u7ecd\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u4e0b\u9762\u662f\u4e00\u4f4d\u534a\u52a0\u5668\u7684\u6a21\u5757\u5c01\u88c5\u53c2\u8003\uff1a</p> <p></p> <p>\u5982\u4e0a\u56fe\u6240\u793a\u4fee\u6539\u7535\u8def\u5c01\u88c5\u6837\u5f0f\uff0c\u5e76\u5bf9\u7ba1\u811a\u6dfb\u52a0\u6587\u5b57\u6ce8\u91ca\u3002\u5b8c\u6210\u7535\u8def\u5c01\u88c5\u7f16\u8f91\u540e\u4fdd\u5b58\uff0c\u5373\u53ef\u5728\u5176\u5b83\u7535\u8def\u6587\u4ef6\u4e2d\u4f7f\u7528\u8be5\u6a21\u5757\u3002\u4f60\u53ef\u4ee5\u5728\u7ba1\u7406\u7a97\u683c\u4e2d\u76f4\u63a5\u70b9\u51fb\u6240\u9700\u7684\u6a21\u5757\uff0c\u79fb\u52a8\u9f20\u6807\u5230\u753b\u5e03\u4e2d\uff0c\u5373\u53ef\u5f97\u5230\u8be5\u6a21\u5757\u7684\u4e00\u4e2a\u526f\u672c\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u6309\u7167\u4e0b\u56fe\u7684\u65b9\u5f0f\u7528\u4e24\u4e2a\u4e00\u4f4d\u534a\u52a0\u5668\u642d\u5efa\u4e00\u4f4d\u5168\u52a0\u5668\u3002</p> <p> </p> \u4f7f\u7528\u4e00\u4f4d\u534a\u52a0\u5668\u642d\u5efa\u7684\u4e00\u4f4d\u5168\u52a0\u5668 <p>\u540c\u6837\u5730\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5bf9\u4e00\u4f4d\u5168\u52a0\u5668\u8fdb\u884c\u5c01\u88c5\uff0c\u5728\u53e6\u4e00\u4e2a\u7535\u8def\u6587\u4ef6\u4e2d\u4ee5\u6b64\u4e3a\u57fa\u7840\u642d\u5efa 32bits \u4f4d\u5bbd\u7684\u5168\u52a0\u5668\u3002</p> \u6ce8\u610f <p>\u5728\u786c\u4ef6\u7535\u8def\u4e2d\uff0c\u6a21\u5757\u53ef\u4ee5\u5d4c\u5957\u8c03\u7528\uff08A \u8c03\u7528 B\uff0cB \u53c8\u8c03\u7528 C\uff09\uff0c\u4f46\u4e0d\u80fd\u5faa\u73af\u8c03\u7528\uff08A \u8c03\u7528 B\uff0cB \u53c8\u8c03\u7528 A\uff09\u6216\u9012\u5f52\u8c03\u7528\uff08\u6a21\u5757\u8c03\u7528\u81ea\u8eab\uff09\u3002</p> <p>\u4f11\u606f\u4e00\u4f1a\u513f</p> <p>\u672c\u90e8\u5206\u5185\u5bb9\u5230\u6b64\u7ed3\u675f\uff01\u4f60\u7406\u89e3\u4e86\u591a\u5c11\u5462\uff1f</p> <p>\u53c2\u8003\u8d44\u6599</p> <ul> <li>Logisim \u5b98\u65b9\u7f51\u7ad9</li> </ul>"},{"location":"other/markdown/","title":"Markdown \u4f7f\u7528\u6559\u7a0b","text":"<p>Markdown \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u6807\u8bb0\u8bed\u8a00\uff0c\u53ef\u7528\u4e8e\u5728\u7eaf\u6587\u672c\u6587\u6863\u4e2d\u6dfb\u52a0\u683c\u5f0f\u5316\u5143\u7d20\u3002Markdown \u7531 John Gruber \u4e8e 2004 \u5e74\u521b\u5efa\uff0c\u5982\u4eca\u5df2\u6210\u4e3a\u4e16\u754c\u4e0a\u6700\u53d7\u6b22\u8fce\u7684\u6807\u8bb0\u8bed\u8a00\u4e4b\u4e00\u3002\u6211\u4eec\u7684\u5728\u7ebf\u6587\u6863\u4e5f\u662f\u57fa\u4e8e Markdown \u7f16\u5199\u7684\u3002</p> \u4e3a\u4ec0\u4e48\u63a8\u8350\u4f7f\u7528 Markdown\uff1f <p>\u5f53\u4f60\u53ef\u4ee5\u901a\u8fc7\u6309\u4e0b\u754c\u9762\u4e2d\u7684\u6309\u94ae\u6765\u8bbe\u7f6e\u6587\u672c\u683c\u5f0f\u65f6\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u4f7f\u7528 Markdown \u6765\u4e66\u5199\u5462\uff1f\u4f7f\u7528 Markdown \u800c\u4e0d\u662f word \u7c7b\u7f16\u8f91\u5668\u7684\u539f\u56e0\u6709\uff1a</p> <ul> <li> <p>Markdown \u65e0\u5904\u4e0d\u5728\u3002StackOverflow\u3001CSDN\u3001\u6398\u91d1\u3001\u7b80\u4e66\u3001GitBook\u3001\u6709\u9053\u4e91\u7b14\u8bb0\u3001V2EX\u3001\u5149\u8c37\u793e\u533a\u7b49\u3002\u4e3b\u6d41\u7684\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\uff0c\u5982 GitHub\u3001GitLab\u3001BitBucket\u3001Coding\u3001Gitee \u7b49\u7b49\uff0c\u90fd\u652f\u6301Markdown \u8bed\u6cd5\uff0c\u5f88\u591a\u5f00\u6e90\u9879\u76ee\u7684 README\u3001\u5f00\u53d1\u6587\u6863\u3001\u5e2e\u52a9\u6587\u6863\u3001Wiki \u7b49\u90fd\u7528 Markdown \u5199\u4f5c\u3002</p> </li> <li> <p>Markdown \u662f\u7eaf\u6587\u672c\u53ef\u79fb\u690d\u7684\u3002\u51e0\u4e4e\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u5e94\u7528\u7a0b\u5e8f\u6253\u5f00\u5305\u542b Markdown \u683c\u5f0f\u7684\u6587\u672c\u6587\u4ef6\u3002\u5982\u679c\u4f60\u4e0d\u559c\u6b22\u5f53\u524d\u4f7f\u7528\u7684 Markdown \u5e94\u7528\u7a0b\u5e8f\u4e86\uff0c\u5219\u53ef\u4ee5\u5c06 Markdown \u6587\u4ef6\u5bfc\u5165\u53e6\u4e00\u4e2a Markdown \u5e94\u7528\u7a0b\u5e8f\u4e2d\u3002\u8fd9\u4e0e Microsoft Word \u7b49\u6587\u5b57\u5904\u7406\u5e94\u7528\u7a0b\u5e8f\u5f62\u6210\u4e86\u9c9c\u660e\u7684\u5bf9\u6bd4\uff0cMicrosoft Word \u5c06\u4f60\u7684\u5185\u5bb9\u9501\u5b9a\u5728\u4e13\u6709\u6587\u4ef6\u683c\u5f0f\u4e2d\u3002</p> </li> <li> <p>Markdown \u662f\u72ec\u7acb\u4e8e\u5e73\u53f0\u7684\u3002\u4f60\u53ef\u4ee5\u5728\u8fd0\u884c\u4efb\u4f55\u64cd\u4f5c\u7cfb\u7edf\u7684\u4efb\u4f55\u8bbe\u5907\u4e0a\u521b\u5efa Markdown \u683c\u5f0f\u7684\u6587\u672c\u3002</p> </li> <li> <p>Markdown \u80fd\u9002\u5e94\u672a\u6765\u7684\u53d8\u5316\u3002\u5373\u4f7f\u4f60\u6b63\u5728\u4f7f\u7528\u7684\u5e94\u7528\u7a0b\u5e8f\u5c06\u6765\u4f1a\u5728\u67d0\u4e2a\u65f6\u5019\u4e0d\u80fd\u4f7f\u7528\u4e86\uff0c\u4f60\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528\u6587\u672c\u7f16\u8f91\u5668\u8bfb\u53d6 Markdown \u683c\u5f0f\u7684\u6587\u672c\u3002\u5f53\u6d89\u53ca\u9700\u8981\u65e0\u9650\u671f\u4fdd\u5b58\u7684\u4e66\u7c4d\u3001\u5927\u5b66\u8bba\u6587\u548c\u5176\u4ed6\u91cc\u7a0b\u7891\u5f0f\u7684\u6587\u4ef6\u65f6\uff0c\u8fd9\u662f\u4e00\u4e2a\u91cd\u8981\u7684\u8003\u8651\u56e0\u7d20\u3002</p> </li> </ul> <p>\u4f7f\u7528 Markdown \u4e0e\u4f7f\u7528 Word \u7c7b\u7f16\u8f91\u5668\u4e0d\u540c\u3002\u5728 Word \u4e4b\u7c7b\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u5355\u51fb\u6309\u94ae\u4ee5\u8bbe\u7f6e\u6587\u672c\u7684\u683c\u5f0f\uff0c\u5e76\u4e14\u66f4\u6539\u7684\u6548\u679c\u7acb\u5373\u53ef\u89c1\u3002\u800c Markdown \u4e0e\u6b64\u4e0d\u540c\uff0c\u5f53\u4f60\u5728\u7f16\u5199 Markdown \u683c\u5f0f\u7684\u6587\u4ef6\u65f6\uff0c\u9700\u8981\u5728\u6587\u672c\u4e2d\u6dfb\u52a0 Markdown \u8bed\u6cd5\uff0c\u4ee5\u6307\u793a\u54ea\u4e9b\u5355\u8bcd\u548c\u77ed\u8bed\u770b\u8d77\u6765\u5e94\u8be5\u6709\u6240\u4e0d\u540c\u3002</p> <p>\u4f8b\u5982\uff0c\u8981\u8868\u793a\u6807\u9898\uff0c\u53ea\u987b\u5728\u77ed\u8bed\u524d\u9762\u6dfb\u52a0\u4e00\u4e2a\u4e95\u53f7 <code>#</code> \u5373\u53ef\uff1b\u6216\u8005\u8981\u52a0\u7c97\u4e00\u4e2a\u77ed\u8bed\uff0c\u53ea\u987b\u5728\u77ed\u8bed\u524d\u540e\u5404\u52a0\u4e24\u4e2a\u661f\u53f7 <code>*</code> \u5373\u53ef\uff08\u4f8b\u5982\uff0cthis text is bold\uff09\u3002\u4f60\u53ef\u80fd\u9700\u8981\u4e00\u6bb5\u65f6\u95f4\u624d\u80fd\u4e60\u60ef Markdown \u8bed\u6cd5\uff0c\u5c24\u5176\u662f\u5982\u679c\u5df2\u7ecf\u4e60\u60ef\u4e86\u6240\u89c1\u5373\u6240\u5f97\u7684\u6587\u672c\u7f16\u8f91\u7a0b\u5e8f\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u7b80\u5355\u4ecb\u7ecd Markdown \u4e2d\u7684\u90e8\u5206\u8bed\u6cd5\u77e5\u8bc6\u3002</p>"},{"location":"other/markdown/#markdown_1","title":"Markdown \u57fa\u7840\u8bed\u6cd5","text":""},{"location":"other/markdown/#_1","title":"\u6807\u9898","text":"<p>Markdown \u901a\u8fc7\u5728\u884c\u9996\u63d2\u5165 1 \u5230 6 \u4e2a <code>#</code> \u5b9e\u73b0\u6807\u9898\u6548\u679c\uff0c\u5206\u522b\u5bf9\u5e94 1 \u5230 6 \u7ea7\u6807\u9898\u3002</p> <p>\u4f8b\u5b50\uff1aMArkdown \u7684\u6807\u9898</p> <pre><code># this is H1\n## this is H2\n###### this is H6 \n</code></pre> <p>this is H1 this is H2 this is H6</p>"},{"location":"other/markdown/#_2","title":"\u6bb5\u843d","text":"<p>Markdown \u4f7f\u7528\u7a7a\u767d\u884c\u5c06\u4e00\u884c\u6216\u591a\u884c\u6587\u672c\u8fdb\u884c\u5206\u9694\uff0c\u4ece\u800c\u5b9e\u73b0\u6bb5\u843d\u7684\u6548\u679c\u3002</p> <p>\u4f8b\u5b50\uff1aMarkdown \u7684\u6bb5\u843d</p> <pre><code>\u4e2d\u56fd\u79d1\u5b66\u6280\u672f\u5927\u5b66\u662f\u4e2d\u56fd\u79d1\u5b66\u9662\u6240\u5c5e\u7684\u4e00\u6240\u4ee5\u524d\u6cbf\u79d1\u5b66\u548c\u9ad8\u65b0\u6280\u672f\u4e3a\u4e3b\uff0c\u517c\u6709\u533b\u5b66\u3001\u7279\u8272\u7ba1\u7406\u548c\u4eba\u6587\u5b66\u79d1\u7684\u7406\u5de5\u79d1\u5927\u5b66\u3002\n\n\u5b66\u6821\u73b0\u670931\u4e2a\u5b66\u9662\uff08\u5b66\u90e8\uff09\uff0c\u542b8\u4e2a\u79d1\u6559\u878d\u5408\u5b66\u9662\uff1b\u8bbe\u6709\u82cf\u5dde\u9ad8\u7b49\u7814\u7a76\u9662\u3001\u4e0a\u6d77\u7814\u7a76\u9662\u3001\u5317\u4eac\u7814\u7a76\u9662\u3001\u5148\u8fdb\u6280\u672f\u7814\u7a76\u9662\u3001\n\u56fd\u9645\u91d1\u878d\u7814\u7a76\u9662\u3001\u9644\u5c5e\u7b2c\u4e00\u533b\u9662\uff08\u5b89\u5fbd\u7701\u7acb\u533b\u9662\uff09\u3002\n</code></pre> <p>\u4e2d\u56fd\u79d1\u5b66\u6280\u672f\u5927\u5b66\u662f\u4e2d\u56fd\u79d1\u5b66\u9662\u6240\u5c5e\u7684\u4e00\u6240\u4ee5\u524d\u6cbf\u79d1\u5b66\u548c\u9ad8\u65b0\u6280\u672f\u4e3a\u4e3b\uff0c\u517c\u6709\u533b\u5b66\u3001\u7279\u8272\u7ba1\u7406\u548c\u4eba\u6587\u5b66\u79d1\u7684\u7406\u5de5\u79d1\u5927\u5b66\u3002</p> <p>\u5b66\u6821\u73b0\u670931\u4e2a\u5b66\u9662\uff08\u5b66\u90e8\uff09\uff0c\u542b8\u4e2a\u79d1\u6559\u878d\u5408\u5b66\u9662\uff1b\u8bbe\u6709\u82cf\u5dde\u9ad8\u7b49\u7814\u7a76\u9662\u3001\u4e0a\u6d77\u7814\u7a76\u9662\u3001\u5317\u4eac\u7814\u7a76\u9662\u3001\u5148\u8fdb\u6280\u672f\u7814\u7a76\u9662\u3001\u56fd\u9645\u91d1\u878d\u7814\u7a76\u9662\u3001\u9644\u5c5e\u7b2c\u4e00\u533b\u9662\uff08\u5b89\u5fbd\u7701\u7acb\u533b\u9662\uff09\u3002</p> <p>\u6ce8\u610f\uff1a\u8bf7\u4e0d\u8981\u7528\u7a7a\u683c\uff08spaces\uff09\u6216\u5236\u8868\u7b26\uff08tabs\uff09\u7f29\u8fdb\u6bb5\u843d\u3002</p>"},{"location":"other/markdown/#_3","title":"\u5b57\u4f53","text":"<p>Markdown \u4f7f\u7528\u661f\u53f7 <code>*</code> \u548c\u4e0b\u5212\u7ebf <code>_</code> \u4f5c\u4e3a\u6807\u8bb0\u5f3a\u8c03\u5b57\u8bcd\u7684\u7b26\u53f7\uff0c\u4f60\u53ef\u4ee5\u968f\u610f\u9009\u62e9\u559c\u6b22\u7684\u6837\u5f0f\uff0c\u4f46\u7528\u4ec0\u4e48\u7b26\u53f7\u5f00\u542f\u6807\u7b7e\uff0c\u5c31\u8981\u7528\u4ec0\u4e48\u7b26\u53f7\u7ed3\u675f\u3002</p> <p>\u4f8b\u5b50\uff1aMArkdown \u7684\u5b57\u4f53</p> <p>\u8fd9\u662f\u52a0\u7c97\uff08<code>**\u8fd9\u662f\u52a0\u7c97**</code>\uff09</p> <p>\u8fd9\u4e5f\u662f\u52a0\u7c97\uff08<code>__\u8fd9\u4e5f\u662f\u52a0\u7c97__</code>\uff09</p> <p>\u8fd9\u662f\u503e\u659c\uff08<code>*\u8fd9\u662f\u503e\u659c*</code>\uff09</p> <p>\u8fd9\u4e5f\u662f\u503e\u659c\uff08<code>_\u8fd9\u4e5f\u662f\u503e\u659c_</code>\uff09</p> <p>\u8fd9\u662f\u52a0\u7c97\u503e\u659c\uff08<code>***\u8fd9\u662f\u52a0\u7c97\u503e\u659c***</code>\uff09</p> <p>\u8fd9\u662f\u52a0\u5220\u9664\u7ebf\uff08<code>~~\u8fd9\u662f\u52a0\u5220\u9664\u7ebf~~</code>\uff09</p> <p>\u6ce8\u610f\uff1a\u5f3a\u8c03\u4e5f\u53ef\u4ee5\u76f4\u63a5\u63d2\u5728\u6587\u5b57\u4e2d\u95f4\uff0c\u4f46\u662f\u5982\u679c\u4f60\u7684 * \u548c _ \u4e24\u8fb9\u90fd\u6709\u7a7a\u767d\u7684\u8bdd\uff0c\u5b83\u4eec\u5c31\u53ea\u4f1a\u88ab\u5f53\u6210\u666e\u901a\u7684\u7b26\u53f7\u3002\u5982\u679c\u8981\u5728\u6587\u5b57\u524d\u540e\u76f4\u63a5\u63d2\u5165\u666e\u901a\u7684\u661f\u53f7\u6216\u5e95\u7ebf\uff0c\u4f60\u53ef\u4ee5\u7528\u53cd\u659c\u7ebf <code>\\</code>\u3002\u4f8b\u5982\uff1aUSTC_VLAB\uff08<code>USTC\\_VLAB</code>\uff09</p>"},{"location":"other/markdown/#_4","title":"\u5217\u8868","text":"<p>Markdown \u652f\u6301\u6709\u5e8f\u5217\u8868\u548c\u65e0\u5e8f\u5217\u8868\u3002\u65e0\u5e8f\u5217\u8868\u4f7f\u7528\u661f\u53f7 <code>*</code>\u3001\u52a0\u53f7 <code>+</code> \u6216\u662f\u51cf\u53f7 <code>-</code> \u4f5c\u4e3a\u5217\u8868\u6807\u8bb0\uff0c\u7b26\u53f7\u4e0e\u5185\u5bb9\u4e4b\u95f4\u9700\u8981\u5b58\u5728\u4e00\u4e2a\u7a7a\u683c\u3002</p> <p>\u4f8b\u5b50\uff1aMArkdown \u65e0\u5e8f\u5217\u8868</p> <pre><code>- \u5217\u8868\u5185\u5bb9\n+ \u5217\u8868\u5185\u5bb9\n* \u5217\u8868\u5185\u5bb9\n</code></pre> <ul> <li>\u5217\u8868\u5185\u5bb9</li> <li>\u5217\u8868\u5185\u5bb9</li> <li>\u5217\u8868\u5185\u5bb9</li> </ul> <p>\u6709\u5e8f\u5217\u8868\u5219\u4f7f\u7528\u6570\u5b57\u63a5\u7740\u4e00\u4e2a\u82f1\u6587\u53e5\u70b9\u4f5c\u4e3a\u6807\u8bb0\uff0c\u5e8f\u53f7\u8ddf\u5185\u5bb9\u4e4b\u95f4\u8981\u6709\u7a7a\u683c\u3002</p> <p>\u4f8b\u5b50\uff1aMArkdown \u6709\u5e8f\u5217\u8868</p> <pre><code>1. \u5217\u8868\u5185\u5bb9\n2. \u5217\u8868\u5185\u5bb9\n3. \u5217\u8868\u5185\u5bb9\n</code></pre> <ol> <li>\u5217\u8868\u5185\u5bb9</li> <li>\u5217\u8868\u5185\u5bb9</li> <li>\u5217\u8868\u5185\u5bb9</li> </ol> <p>\u5217\u8868\u53ef\u4ee5\u5d4c\u5957\uff0c\u53ea\u9700\u8981\u52a0\u4e0a\u6b63\u786e\u7684\u7f29\u8fdb\u5373\u53ef\u3002</p> <p>\u4f8b\u5b50\uff1aMArkdown \u5217\u8868\u5d4c\u5957</p> <pre><code>1. First item\n2. Second item\n3. Third item\n    - Indented item\n    - Indented item\n4. Fourth item\n</code></pre> <ol> <li>First item</li> <li>Second item</li> <li>Third item<ul> <li>Indented item</li> <li>Indented item</li> </ul> </li> <li>Fourth item</li> </ol>"},{"location":"other/markdown/#_5","title":"\u5f15\u7528","text":"<p>Markdown \u901a\u8fc7\u5728\u5f15\u7528\u7684\u6587\u5b57\u524d\u52a0 <code>&gt;</code> \u5b9e\u73b0\u5f15\u7528\u3002\u5f15\u7528\u7684\u533a\u5757\u5185\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u7684 Markdown \u8bed\u6cd5\uff0c\u5305\u62ec\u6807\u9898\u3001\u5217\u8868\u3001\u4ee3\u7801\u533a\u5757\u7b49\u3002</p> <p>\u4f8b\u5b50\uff1aMarkdown \u7684\u5f15\u7528</p> <pre><code>&gt; - Revenue was off the chart.\n&gt; - Profits were higher than ever.\n&gt;\n&gt;  *Everything* is going according to **plan**.\n</code></pre> <ul> <li>Revenue was off the chart.</li> <li>Profits were higher than ever.</li> </ul> <p>Everything is going according to plan.</p>"},{"location":"other/markdown/#_6","title":"\u4ee3\u7801","text":"<p>\u5728 Markdown \u4e2d\u52a0\u5165\u4ee3\u7801\u5757\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u7b2c\u4e00\u79cd\uff0c\u53ea\u8981\u7b80\u5355\u5730\u7f29\u8fdb 4 \u4e2a\u7a7a\u683c\u6216\u662f 1 \u4e2a\u5236\u8868\u7b26\u5c31\u53ef\u4ee5\u3002\u7b2c\u4e8c\u79cd\u5219\u662f\u4f7f\u7528\u4e09\u4e2a\u53cd\u5f15\u53f7 <code>`</code> \u5305\u88f9\u8d77\u6765\uff0c\u4e14\u4e24\u8fb9\u7684\u53cd\u5f15\u53f7\u5355\u72ec\u5360\u4e00\u884c\u3002</p> <p>\u4f8b\u5b50\uff1aMArkdown \u4ee3\u7801\u5757</p> <pre><code>\u8fd9\u662f\u4e00\u4e2a\u666e\u901a\u6bb5\u843d\n\n    \u8fd9\u662f\u4e00\u4e2a\u4ee3\u7801\u5757\u3002\n</code></pre> <p>\u8fd9\u662f\u4e00\u4e2a\u666e\u901a\u6bb5\u843d <pre><code>\u8fd9\u662f\u4e00\u4e2a\u4ee3\u7801\u5757\n</code></pre></p> <p>\u9664\u4e86\u4ee3\u7801\u5757\uff0cMarkdown \u8fd8\u652f\u6301\u4f7f\u7528\u4e00\u4e2a\u53cd\u5f15\u53f7 <code>`</code> \u5305\u88f9\u7684\u53e5\u5185\u4ee3\u7801\u3002\u4f8b\u5982\uff1a<code>int i</code>\uff08`int i`\uff09\u3002</p>"},{"location":"other/markdown/#_7","title":"\u56fe\u7247","text":"<p>Markdown \u4f7f\u7528\u4e00\u79cd\u548c\u94fe\u63a5\u5f88\u76f8\u4f3c\u7684\u8bed\u6cd5\u6765\u6807\u8bb0\u56fe\u7247\uff0c\u770b\u8d77\u6765\u50cf\u662f\uff1a</p> <pre><code>![Alt pic](/path/to/img.jpg)\n\n![Alt pic](/path/to/img.jpg \"Optional title\")\n</code></pre> Tips\uff1a\u56fe\u7247\u7684\u8def\u5f84\u95ee\u9898 <p>\u5982\u4f55\u9009\u62e9\u56fe\u7247\u7684\u8def\u5f84\u5462\uff1f\u5982\u679c\u4f7f\u7528\u672c\u5730\u8def\u5f84\u63d2\u5165\u672c\u5730\u56fe\u7247\uff0c\u8fd9\u6837\u5c31\u4e0d\u7075\u6d3b\u4e0d\u597d\u5206\u4eab\uff0c\u672c\u5730\u56fe\u7247\u7684\u8def\u5f84\u66f4\u6539\u6216\u4e22\u5931\u90fd\u4f1a\u9020\u6210 md \u6587\u6863\u65e0\u6cd5\u627e\u5230\u56fe\u7247\uff1b\u5982\u679c\u63d2\u5165\u7f51\u7edc\u56fe\u7247\uff0c\u5219\u975e\u5e38\u4f9d\u8d56\u7f51\u7edc\uff0c\u672c\u5730\u56fe\u7247\u8fd8\u9700\u8981\u5148\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u4e0a\u518d\u63d2\u5165\u3002</p> <p>\u76ee\u524d\u5e38\u89c1\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\uff1a\u5c06\u672c\u5730\u56fe\u7247\u4e0a\u4f20\u5230 Github\uff1a\u6216\u8005\u5728\u5f53\u524d\u6587\u6863\u540c\u76ee\u5f55\u6216\u4ed3\u5e93\u6839\u76ee\u5f55\u4e0b\u65b0\u5efa src \u6216 figs \u6587\u4ef6\u5939\uff0c\u5c06\u9700\u8981\u5f15\u7528\u7684\u56fe\u7247\u4e0a\u4f20\u81f3\u5176\u4e2d\uff0c\u5728\u6587\u6863\u4e2d\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\u5f15\u7528\u5373\u53ef\u3002\u4f8b\u5982\uff0c\u4e0b\u9762\u8fd9\u5f20\u56fe\u7247\u5c31\u4f4d\u4e8e <code>/other/figs/markdown/</code> \u76ee\u5f55\u4e0b\u3002</p> <p> </p> <p>\u53d7\u7bc7\u5e45\u6240\u9650\uff0c\u6211\u4eec\u4ec5\u4ecb\u7ecd Markdown \u7684\u4e00\u4e9b\u5e38\u7528\u8bed\u6cd5\uff0c\u60f3\u8981\u4e86\u89e3\u66f4\u591a\u8bed\u6cd5\u77e5\u8bc6\u7684\u540c\u5b66\u53ef\u4ee5\u81ea\u884c\u67e5\u627e\u6709\u5173\u8d44\u6599\u3002</p>"},{"location":"other/markdown/#markdown_2","title":"Markdown \u7f16\u8f91\u5668","text":"<p>\u6211\u4eec\u63a8\u8350\u4f60\u4f7f\u7528 Typora \u8fdb\u884c Markdown \u7684\u7f16\u5199\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 VSCode \u914d\u7f6e Markdown \u63d2\u4ef6\u8fdb\u884c\u7f16\u5199\u3002\u7531\u4e8e\u7248\u6743\u539f\u56e0\uff0c\u6211\u4eec\u4e0d\u80fd\u63d0\u4f9b\u514d\u8d39\u7684 Typora \u7a0b\u5e8f\u8d44\u6e90\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u63a8\u8350\u7684 VSCode \u63d2\u4ef6\uff1a</p> <ul> <li>Markdown All in One\uff08<code>yzhang.markdown-all-in-one</code>\uff09</li> <li>Markdown Preview Enhanced\uff08<code>shd101wyy.markdown-preview-enhanced</code>\uff09</li> <li>Markdown Preview Github Styling\uff08<code>bierner.markdown-preview-github-styles</code>\uff09</li> </ul> <p>\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u5b89\u88c5\u3002</p> <p>\u4f11\u606f\u4e00\u4f1a\u513f</p> <p>\u672c\u90e8\u5206\u5185\u5bb9\u5230\u6b64\u7ed3\u675f\uff01\u4f60\u7406\u89e3\u4e86\u591a\u5c11\u5462\uff1f</p> <p>\u53c2\u8003\u8d44\u6599</p> <ul> <li>Markdown \u5b98\u65b9\u6559\u7a0b</li> <li>\u77e5\u4e4e\uff1a\u4f7f\u7528 vscode \u5f00\u59cb Markdown \u5199\u4f5c\u4e4b\u65c5</li> <li>USTC OSH-2023 \u8bfe\u7a0b\u4e3b\u9875</li> </ul>"},{"location":"other/mkdocs/","title":"\u5efa\u7acb\u7f8e\u89c2\u7684\u5b9e\u9a8c\u6587\u6863","text":""},{"location":"other/mkdocs/#_2","title":"\u672c\u5730\u914d\u7f6e","text":""},{"location":"other/mkdocs/#mkdocs","title":"mkdocs \u63d2\u4ef6","text":""},{"location":"other/mkdocs/#_3","title":"\u63d0\u793a\u6846","text":"<p>\u6211\u4eec\u589e\u52a0\u4e86\u8bb8\u591a\u4e0d\u540c\u7684\u63d0\u793a\u6846\uff0c\u7528\u4e8e\u5728\u5b9e\u9a8c\u6587\u6863\u7684\u6b63\u6587\u4e4b\u5916\u7ed9\u51fa\u989d\u5916\u7684\u4fe1\u606f\u3002\u672c\u8bfe\u7a0b\u5b9e\u9a8c\u6587\u6863\u7684\u63d0\u793a\u6846\u8bbe\u8ba1\u5982\u4e0b\uff1a</p> Note\uff1a\u8fd9\u91cc\u662f\u6807\u9898 <p>\u8fd9\u91cc\u662f\u6587\u672c\u3002\u7528\u4e8e\uff1a\u8865\u5145\u63d0\u793a\u3001\u8865\u5145\u8bf4\u660e</p> Abstract\uff1a\u8fd9\u91cc\u662f\u6807\u9898 <p>\u8fd9\u91cc\u662f\u6587\u672c\u3002\u7528\u4e8e\uff1a\u5185\u5bb9\u4ecb\u7ecd\u3001\u80cc\u666f\u77e5\u8bc6\u8bf4\u660e</p> Info\uff1a\u8fd9\u91cc\u662f\u6807\u9898 <p>\u8fd9\u91cc\u662f\u6587\u672c\u3002\u7528\u4e8e\uff1a\u7a0d\u7a0d\u9700\u8981\u6ce8\u610f\u7684\u7ec6\u8282\u70b9</p> Tip\uff1a\u8fd9\u91cc\u662f\u6807\u9898 <p>\u8fd9\u91cc\u662f\u6587\u672c\u3002\u7528\u4e8e\uff1a\u4e3e\u4f8b\u5b50</p> Success\uff1a\u8fd9\u91cc\u662f\u6807\u9898 <p>\u8fd9\u91cc\u662f\u6587\u672c\u3002\u7528\u4e8e\uff1a\u6b63\u786e\u3001\u6210\u529f</p> Question\uff1a\u8fd9\u91cc\u662f\u6807\u9898 <p>\u8fd9\u91cc\u662f\u6587\u672c\u3002\u7528\u4e8e\uff1a\u63d0\u95ee</p> Warning\uff1a\u8fd9\u91cc\u662f\u6807\u9898 <p>\u8fd9\u91cc\u662f\u6587\u672c\u3002\u7528\u4e8e\uff1a\u683c\u5916\u9700\u8981\u6ce8\u610f\u7684\u5185\u5bb9</p> Failure\uff1a\u8fd9\u91cc\u662f\u6807\u9898 <p>\u8fd9\u91cc\u662f\u6587\u672c\u3002\u7528\u4e8e\uff1a\u9519\u8bef\u3001\u5931\u8d25</p> Danger\uff1a\u8fd9\u91cc\u662f\u6807\u9898 <p>\u8fd9\u91cc\u662f\u6587\u672c\u3002\u7528\u4e8e\uff1a\u975e\u5e38\u91cd\u8981\uff01\u5fc5\u987b\u9605\u8bfb</p> Bug\uff1a\u8fd9\u91cc\u662f\u6807\u9898 <p>\u8fd9\u91cc\u662f\u6587\u672c\u3002\u7528\u4e8e\uff1a\u53ef\u80fd\u7684 bug\u3001\u5176\u4ed6\u540c\u5b66\u7684 bug</p> Example\uff1a\u8fd9\u91cc\u662f\u6807\u9898 <p>\u8fd9\u91cc\u662f\u6587\u672c\u3002\u7528\u4e8e\uff1a\u672a\u5b9a</p> Quote\uff1a\u8fd9\u91cc\u662f\u6807\u9898 <p>\u8fd9\u91cc\u662f\u6587\u672c\u3002\u7528\u4e8e\uff1a\u5f15\u7528</p>"},{"location":"other/note/","title":"\u8bfe\u7a0b\u65e5\u5386","text":""},{"location":"other/note/#_2","title":"\u7b2c\u4e00\u5468","text":"<p>2024-02-26</p> <p>\u7b2c\u4e00\u6b21\u8bfe\uff1a\u6bcf\u5e74\u4e00\u62c6\u7684\u4e3b\u673a</p> <p>\u8bfe\u4ef6: ch0_1_\u8bfe\u7a0b\u4ecb\u7ecd.pdf</p> <p>2024-02-28</p> <p>\u7b2c\u4e8c\u6b21\u8bfe\uff1a\u68a6\u56de\u6570\u7535\u5b9e\u9a8c</p> <p>\u8bfe\u4ef6: ch0_2_\u6570\u7535\u77e5\u8bc6\u56de\u987e.pdf</p>"},{"location":"other/note/#_3","title":"\u7b2c\u4e8c\u5468","text":"<p>2024-03-04</p> <p>\u7b2c\u4e09\u6b21\u8bfe\uff1a\u300c\u62ff\u4e86\u56fe\u7075\u5956\u53ef\u4ee5\u4fdd\u7814\u5417\uff1f\u300d</p> <p>\u8bfe\u4ef6\uff1a\u6682\u65e0</p> <p>2024-03-06</p> <p>\u7b2c\u56db\u6b21\u8bfe\uff1a\u6676\u5706\u4e0e\u5904\u7406\u5668</p> <p>\u8bfe\u4ef6\uff1ach1_\u8ba1\u7b97\u673a\u62bd\u8c61\u53ca\u76f8\u5173\u6280\u672f</p>"},{"location":"other/note/#_4","title":"\u7b2c\u4e09\u5468","text":"<p>2024-03-11</p> <p>\u7b2c\u4e94\u6b21\u8bfe\uff1a\u4ece C \u8bed\u8a00\u5230\u6c47\u7f16</p> <p>\u8bfe\u4ef6\uff1a\u6682\u65e0</p> <p>\u4f5c\u4e1a\uff1a\u4f5c\u4e1a 1\uff0cDDL 2024-03-25 14:00</p> <p>2024-03-13</p> <p>\u7b2c\u516d\u6b21\u8bfe\uff1aRV32I \u6c47\u7f16\u7c7b\u578b</p> <p>\u8bfe\u4ef6\uff1a\u6682\u65e0</p>"},{"location":"other/note/#_5","title":"\u7b2c\u56db\u5468","text":"<p>2024-03-18</p> <p>\u7b2c\u4e03\u6b21\u8bfe\uff1a\u63a7\u5236\u6d41\u4e0e\u8fc7\u7a0b</p> <p>\u8bfe\u4ef6\uff1a\u6682\u65e0</p> <p>\u5b9e\u9a8c\uff1a\u5b9e\u9a8c 1 \u5728\u7ebf\u6587\u6863\u3001Lab0_\u5b9e\u9a8c\u7b80\u4ecb\u3001Lab1_\u5b9e\u7528\u6c47\u7f16\u7a0b\u5e8f</p> <p>2024-03-20</p> <p>\u7b2c\u516b\u6b21\u8bfe</p> <p>\u8bfe\u4ef6\uff1a\u6682\u65e0</p>"},{"location":"other/note/#_6","title":"\u7b2c\u4e94\u5468","text":"<p>2024-03-25</p> <p>\u7b2c\u4e5d\u6b21\u8bfe\uff1a</p> <p>\u8bfe\u4ef6\uff1a\u6682\u65e0</p> <p>2024-03-27</p> <p>\u7b2c\u5341\u6b21\u8bfe\uff1a</p> <p>\u8bfe\u4ef6\uff1a\u6682\u65e0</p>"},{"location":"other/note/#_7","title":"\u7b2c\u516d\u5468","text":"<p>2024-04-01</p> <p>\u611a\u4eba\u8282\u5feb\u4e50\uff01</p> <p>\u7b2c\u5341\u4e00\u6b21\u8bfe\uff1a\u624b\u6413\u5355\u5468\u671f CPU\uff0c\u4f46\u662f Logisim</p> <p>\u8bfe\u4ef6\uff1a\u6682\u65e0</p>"}]}